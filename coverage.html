<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="robots" content="noindex,noarchive">
	<meta name="generator" content="Nette Tester">

	<title>Code coverage</title>

	<style type="text/css">
	html {
		font: 14px/1.5 Verdana,"Geneva CE",lucida,sans-serif;
		border-top: 7.7em solid #f4ebdb;
	}

	body {
		max-width: 990px;
		margin: -7.7em auto 0;
		background: #fcfaf5;
		color: #333;
	}

	footer {
		margin-left: .5em;
	}

	h1 {
		font-family: "Trebuchet MS","Geneva CE",lucida,sans-serif;
		font-size: 1.9em;
		margin: .5em;
		color: #7a7772;
		text-shadow: 1px 1px 0 white;
	}

	h1 small {
		font-size: 60%;
	}

	div.code {
		background: white;
		border: 1px dotted silver;
		padding: .4em 0;
		display: none;
		color: #333;
		overflow: auto;
	}

	code,
	div.code {
		font: 13px/1.3 monospace;
	}

	div.code > div {
		float: left;
		min-width: 100%;
		position: relative;
	}

	aside {
		min-width: 100%;
		position: absolute;
	}

	aside div {
		white-space: pre;
		padding-left: .7em;
	}

	aside a {
		color: #c0c0c0;
		display: block;
	}

	aside a:hover {
		color: inherit;
		font-weight: bold;
		text-decoration: none;
	}

	pre {
		margin: 0;
		position: relative;
	}

	i {
		font-style: normal;
	}

	a {
		color: #006aeb;
		text-decoration: none;
	}

	a:active,
	a:hover {
		text-decoration: underline;
	}

	td {
		vertical-align: middle;
	}

	small {
		color: gray;
	}

	.number {
		text-align: right;
		width: 50px;
	}

	.bar {
		border: 1px solid #acacac;
		background: #e50400;
		width: 35px;
		height: 1em;
	}

	.bar-empty {
		border: 1px solid transparent;
		background: transparent;
		width: 35px;
		height: 1em;
	}

	.bar div {
		background: #1a7e1e;
		height: 1em;
	}

	.light td {
		opacity: .5;
	}

	.light td * {
		color: gray;
	}

	.not-loaded td * {
		color: red;
	}

	.t { background-color: #e0ffe0; }
	.u { background-color: #ffe0e0; }

	code .hc { color: #929292; }
	code .hd { color: #333; }
	code .hh { color: #06B; }
	code .hk { color: #e71818; }
	code .hs { color: #008000; }

	.tabs {
		margin-bottom: 1.5em;
	}

	.tabs a {
		padding: .5em 1.5em;
		display: inline-block;
		font-size: 17px;
	}

	.tabs a.active,
	.tabs a:focus,
	.tabs a:hover {
		background-color: #fcfaf5;
		text-decoration: none;
	}

	.directory {
		display: none;
		margin-left: 1.5rem;
	}

	.directory.opened {
		display: block;
	}

	.toggle-dir {
		color: brown;
	}

	.toggle-dir:before {
		content: '▼ ';
	}

	.toggle-dir.opened:before {
		content: '▲ ';
	}

	.sort .up, .sort .no-sort, .sort .down {
		display: inline-block;
		padding-left: 5px;
		color: #c9302c
	}

	.sort .no-sort {
		color: #ccc
	}

	.sort .up, .sort .down, .sort .no-sort,
	.sort.desc:hover .up, .sort.desc:hover .down,
	.sort.asc .no-sort, .sort.down .no-sort, .sort.asc:hover .up, .sort:hover .no-sort {
		display: none
	}

	.sort:hover .up, .sort.asc .up,
	.sort.desc:hover .no-sort,
	.sort.asc:hover .down, .sort.desc .down {
		display: inline-block
	}
	</style>
</head>

<body>


<h1>
	Code coverage 97&nbsp;%
	<small>sources have 5,707 lines of code in 47 files</small>
</h1>

<nav class="tabs">
	<a href="#list" class="tab-item active">List</a>
	<a href="#tree" class="tab-item">Tree</a>
</nav>

<div class="tabs-content">
	<div id="list" class="tab-content">
		<table>
			<tbody>
			<tr>
				<td class="number">
					<a href="#" class="sort desc" data-sort="coverage"><span class="up">↓</span><span class="down">↑</span><span class="no-sort">&nbsp;</span>%</a>
				</td>
				<td>
					<div class="bar-empty"></div>
				</td>
				<td>
					<a href="#" class="sort" data-sort="path">path<span class="up">↓</span><span class="down">↑</span><span class="no-sort">&nbsp;</span></a>
				</td>
			</tr>
			</tbody>
		</table>
		<div id="files-content"></div>
	</div>
	<div id="tree" class="tab-content" style="display: none"></div>
</div>

<footer>
	<p>Generated by <a href="https://tester.nette.org">Nette Tester</a> at 2024/11/24 22:49:00</p>
</footer>

<script>
	(function() {
		let _files = {"F0":{"name":"Db\/RowFactory.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/RowFactory.php","lines":{"14":1},"coverage":100,"total":1,"class":"light","digits":3,"lineCount":14,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\ninterface <\/i><i class=\"hd\">RowFactory\n<\/i><i class=\"hk\">{\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, string|NULL&gt; $rawValues\n     *\/\n    <\/i><i class=\"hk\">function <\/i><i class=\"hd\">create<\/i><i class=\"hk\">(<\/i><i class=\"hd\">ColumnValueParser $columnValueParser<\/i><i class=\"hk\">, array <\/i><i class=\"hd\">$rawValues<\/i><i class=\"hk\">): <\/i><i class=\"hd\">Row<\/i><i class=\"hk\">;\n\n}\n<\/i><\/code><\/pre>"},"F1":{"name":"Db\/AsyncQuery.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/AsyncQuery.php","lines":{"37":-2,"48":1,"50":1,"51":1,"52":1,"58":1,"59":1,"63":1,"64":1,"66":1,"67":1,"68":1,"69":1,"75":-2,"36":1,"45":1,"46":1,"47":1,"49":1,"56":1,"57":1,"62":1,"74":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"78":1},"coverage":100,"total":28,"class":null,"digits":3,"lineCount":78,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">AsyncQuery\n<\/i><i class=\"hk\">{\n    private <\/i><i class=\"hd\">Connection $connection<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">ResultBuilder $resultBuilder<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">AsyncHelper $asyncHelper<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">Query $query<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $preparedStatementName<\/i><i class=\"hk\">;\n\n\n    public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">Connection $connection<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">ResultBuilder $resultBuilder<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">AsyncHelper $asyncHelper<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">Query $query<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $preparedStatementName <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n    )\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$connection<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultBuilder <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$resultBuilder<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncHelper <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$asyncHelper<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">preparedStatementName <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$preparedStatementName<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">getQuery<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Query\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">getNextResult<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Result\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$actualAsyncQuery <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncHelper<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getAsyncQuery<\/i><i class=\"hk\">();\n        <\/i><i class=\"hd\">$actualAsyncExecuteQuery <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncHelper<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getAsyncExecuteQuery<\/i><i class=\"hk\">();\n        if ((<\/i><i class=\"hd\">$actualAsyncQuery <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) &amp;&amp; (<\/i><i class=\"hd\">$actualAsyncExecuteQuery <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\ConnectionException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">asyncNoQueryIsSent<\/i><i class=\"hk\">();\n        } else if ((<\/i><i class=\"hd\">$actualAsyncQuery <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">) || (<\/i><i class=\"hd\">$actualAsyncExecuteQuery <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\ConnectionException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">anotherAsyncQueryIsRunning<\/i><i class=\"hk\">(\n                <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getQuery<\/i><i class=\"hk\">()-&gt;<\/i><i class=\"hd\">sql<\/i><i class=\"hk\">,\n                <\/i><i class=\"hd\">$actualAsyncExecuteQuery <\/i><i class=\"hk\">?? <\/i><i class=\"hd\">$actualAsyncQuery<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getQuery<\/i><i class=\"hk\">()-&gt;<\/i><i class=\"hd\">sql<\/i><i class=\"hk\">,\n            );\n        }\n\n        <\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\pg_get_result<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getResource<\/i><i class=\"hk\">());\n        if (<\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncHelper<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">clearQuery<\/i><i class=\"hk\">();\n            throw <\/i><i class=\"hd\">Exceptions\\ResultException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">noOtherAsyncResult<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getQuery<\/i><i class=\"hk\">());\n        }\n\n        if (!<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncHelper<\/i><i class=\"hk\">::<\/i><i class=\"hd\">checkAsyncQueryResult<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$resource<\/i><i class=\"hk\">)) {\n            if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">preparedStatementName <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">asyncQueryFailed<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getQuery<\/i><i class=\"hk\">(), (string) <\/i><i class=\"hd\">\\pg_result_error<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$resource<\/i><i class=\"hk\">));\n            } else {\n                throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">asyncPreparedStatementQueryFailed<\/i><i class=\"hk\">(\n                    <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">preparedStatementName<\/i><i class=\"hk\">,\n                    <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getQuery<\/i><i class=\"hk\">(),\n                    (string) <\/i><i class=\"hd\">\\pg_result_error<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$resource<\/i><i class=\"hk\">),\n                );\n            }\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultBuilder<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">build<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$resource<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getQuery<\/i><i class=\"hk\">());\n    }\n\n}\n<\/i><\/code><\/pre>"},"F2":{"name":"Db\/ColumnValueParser.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/ColumnValueParser.php","lines":{"11":1},"coverage":100,"total":1,"class":"light","digits":3,"lineCount":11,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\ninterface <\/i><i class=\"hd\">ColumnValueParser\n<\/i><i class=\"hk\">{\n\n    function <\/i><i class=\"hd\">parseColumnValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed $rawValue<\/i><i class=\"hk\">): <\/i><i class=\"hd\">mixed<\/i><i class=\"hk\">;\n\n}\n<\/i><\/code><\/pre>"},"F3":{"name":"Db\/Sql\/Expression.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Sql\/Expression.php","lines":{"24":-2,"31":-2,"40":-2,"39":1,"29":1,"30":1,"23":1,"7":1,"17":1,"18":1,"43":1},"coverage":100,"total":8,"class":null,"digits":3,"lineCount":43,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db\\Sql<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">Expression <\/i><i class=\"hk\">implements <\/i><i class=\"hd\">Db\\Sql\n<\/i><i class=\"hk\">{\n    private <\/i><i class=\"hd\">Db\\SqlDefinition $sqlDefinition<\/i><i class=\"hk\">;\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $params\n     *\/\n    <\/i><i class=\"hk\">final public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $value<\/i><i class=\"hk\">, array <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">)\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sqlDefinition <\/i><i class=\"hk\">= new <\/i><i class=\"hd\">Db\\SqlDefinition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n\n    public function <\/i><i class=\"hd\">getSqlDefinition<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Db\\SqlDefinition\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sqlDefinition<\/i><i class=\"hk\">;\n    }\n\n\n    public static function <\/i><i class=\"hd\">create<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $value<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed <\/i><i class=\"hk\">...<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">\\assert<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\array_is_list<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">));\n        return new static(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $params\n     *\/\n    <\/i><i class=\"hk\">public static function <\/i><i class=\"hd\">createArgs<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $value<\/i><i class=\"hk\">, array <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): static\n    {\n        return new static(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F4":{"name":"Db\/Sql\/Literal.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Sql\/Literal.php","lines":{"21":-2,"27":-2,"7":1,"14":1,"15":1,"20":1,"26":1,"30":1},"coverage":100,"total":6,"class":null,"digits":3,"lineCount":30,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db\\Sql<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">Literal <\/i><i class=\"hk\">implements <\/i><i class=\"hd\">Db\\Sql\n<\/i><i class=\"hk\">{\n    private <\/i><i class=\"hd\">Db\\SqlDefinition $sqlDefinition<\/i><i class=\"hk\">;\n\n\n    final public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $value<\/i><i class=\"hk\">)\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sqlDefinition <\/i><i class=\"hk\">= new <\/i><i class=\"hd\">Db\\SqlDefinition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, []);\n    }\n\n\n    public function <\/i><i class=\"hd\">getSqlDefinition<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Db\\SqlDefinition\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sqlDefinition<\/i><i class=\"hk\">;\n    }\n\n\n    public static function <\/i><i class=\"hd\">create<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F5":{"name":"Db\/Sql\/Query.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Sql\/Query.php","lines":{"19":-2,"14":1,"15":1,"18":1,"7":1,"22":1},"coverage":100,"total":5,"class":null,"digits":3,"lineCount":22,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db\\Sql<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">Query <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">Expression\n<\/i><i class=\"hk\">{\n    private <\/i><i class=\"hd\">Db\\Query<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $dbQuery <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n\n    public function <\/i><i class=\"hd\">toDbQuery<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Db\\Query\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dbQuery <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dbQuery <\/i><i class=\"hk\">= <\/i><i class=\"hd\">Db\\SqlDefinition<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getSqlDefinition<\/i><i class=\"hk\">());\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dbQuery<\/i><i class=\"hk\">;\n    }\n\n}\n<\/i><\/code><\/pre>"},"F6":{"name":"Db\/Row.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Row.php","lines":{"38":-2,"50":-2,"55":1,"56":1,"70":-2,"76":-2,"85":-2,"96":1,"100":-2,"109":1,"121":1,"122":1,"125":1,"126":-2,"135":1,"148":-2,"154":-2,"163":1,"171":-2,"180":-2,"221":-2,"230":-2,"37":1,"43":1,"44":1,"49":1,"65":1,"66":1,"69":1,"75":1,"84":1,"108":1,"112":1,"113":1,"134":1,"138":1,"139":1,"147":1,"153":1,"179":1,"188":1,"189":1,"190":1,"191":1,"203":1,"204":1,"205":1,"210":1,"211":1,"212":1,"220":1,"229":1,"95":1,"99":1,"162":1,"166":1,"167":1,"170":1,"197":1,"198":1,"196":1,"9":1,"25":1,"26":1,"28":1,"29":1,"233":1},"coverage":100,"total":54,"class":null,"digits":4,"lineCount":233,"content":"<pre style='margin-left: 4em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\n<\/i><i class=\"hc\">\/**\n * @implements \\ArrayAccess&lt;string, mixed&gt;\n * @implements \\IteratorAggregate&lt;string, mixed&gt;\n *\/\n<\/i><i class=\"hk\">class <\/i><i class=\"hd\">Row <\/i><i class=\"hk\">implements <\/i><i class=\"hd\">\\ArrayAccess<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\IteratorAggregate<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\Countable<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\JsonSerializable\n<\/i><i class=\"hk\">{\n    private <\/i><i class=\"hd\">ColumnValueParser $columnValueParser<\/i><i class=\"hk\">;\n\n    <\/i><i class=\"hc\">\/** @var array&lt;string, string|NULL&gt; *\/\n    <\/i><i class=\"hk\">private array <\/i><i class=\"hd\">$rawValues<\/i><i class=\"hk\">;\n\n    <\/i><i class=\"hc\">\/** @var array&lt;string, mixed&gt; *\/\n    <\/i><i class=\"hk\">private array <\/i><i class=\"hd\">$values<\/i><i class=\"hk\">;\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, string|NULL&gt; $rawValues\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">ColumnValueParser $columnValueParser<\/i><i class=\"hk\">, array <\/i><i class=\"hd\">$rawValues<\/i><i class=\"hk\">)\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnValueParser <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$columnValueParser<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rawValues <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$rawValues<\/i><i class=\"hk\">;\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">values <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\array_fill_keys<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\array_keys<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$rawValues<\/i><i class=\"hk\">), <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\RowException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">__get<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">): <\/i><i class=\"hd\">mixed\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">);\n    }\n\n\n    public function <\/i><i class=\"hd\">__set<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">setValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n    }\n\n\n    public function <\/i><i class=\"hd\">__isset<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">hasColumn<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">) &amp;&amp; (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">) !== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">);\n    }\n\n\n    public function <\/i><i class=\"hd\">__unset<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">removeValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return array&lt;string, mixed&gt;\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">toArray<\/i><i class=\"hk\">(): array\n    {\n        <\/i><i class=\"hc\">\/\/ intentionally not using array_keys($this-&gt;rawValues) as $column - this is 2x faster\n        <\/i><i class=\"hk\">foreach (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rawValues <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$column <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parseValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">values<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">count<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">int\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">\\count<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">values<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return \\ArrayIterator&lt;string, mixed&gt;\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">getIterator<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">\\ArrayIterator\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">\\ArrayIterator<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">toArray<\/i><i class=\"hk\">());\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param string $column\n     * @throws Exceptions\\RowException\n     *\/\n    <\/i><i class=\"hk\">#[<\/i><i class=\"hd\">\\ReturnTypeWillChange<\/i><i class=\"hk\">]\n    public function <\/i><i class=\"hd\">offsetGet<\/i><i class=\"hk\">(<\/i><i class=\"hd\">mixed $column<\/i><i class=\"hk\">): <\/i><i class=\"hd\">mixed\n    <\/i><i class=\"hk\">{\n        if (!<\/i><i class=\"hd\">\\is_string<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\RowException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">notStringKey<\/i><i class=\"hk\">();\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param string|NULL $column\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">offsetSet<\/i><i class=\"hk\">(<\/i><i class=\"hd\">mixed $column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        if (!<\/i><i class=\"hd\">\\is_string<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\RowException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">notStringKey<\/i><i class=\"hk\">();\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">setValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param string $column\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">offsetExists<\/i><i class=\"hk\">(<\/i><i class=\"hd\">mixed $column<\/i><i class=\"hk\">): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        if (!<\/i><i class=\"hd\">\\is_string<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\RowException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">notStringKey<\/i><i class=\"hk\">();\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">hasColumn<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">) &amp;&amp; (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">) !== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param string $column\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">offsetUnset<\/i><i class=\"hk\">(<\/i><i class=\"hd\">mixed $column<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        if (!<\/i><i class=\"hd\">\\is_string<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\RowException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">notStringKey<\/i><i class=\"hk\">();\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">removeValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return list&lt;string&gt;\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">getColumns<\/i><i class=\"hk\">(): array\n    {\n        return <\/i><i class=\"hd\">\\array_keys<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">values<\/i><i class=\"hk\">);\n    }\n\n\n    public function <\/i><i class=\"hd\">hasColumn<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">\\array_key_exists<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">values<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\RowException\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">getValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">): <\/i><i class=\"hd\">mixed\n    <\/i><i class=\"hk\">{\n        if (!<\/i><i class=\"hd\">\\array_key_exists<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">values<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\RowException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">noColumn<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">);\n        }\n\n        if (<\/i><i class=\"hd\">\\array_key_exists<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rawValues<\/i><i class=\"hk\">)) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parseValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">values<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">];\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return array&lt;string, mixed&gt;\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">__serialize<\/i><i class=\"hk\">(): array\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">toArray<\/i><i class=\"hk\">();\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $values\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">__unserialize<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$values<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnValueParser <\/i><i class=\"hk\">= new <\/i><i class=\"hd\">DummyColumnValueParser<\/i><i class=\"hk\">();\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rawValues <\/i><i class=\"hk\">= [];\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">values <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$values<\/i><i class=\"hk\">;\n    }\n\n\n    private function <\/i><i class=\"hd\">parseValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">values<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnValueParser<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parseColumnValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rawValues<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">]);\n        unset(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rawValues<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">]);\n    }\n\n\n    private function <\/i><i class=\"hd\">setValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">values<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n        unset(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rawValues<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">]);\n    }\n\n\n    private function <\/i><i class=\"hd\">removeValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        unset(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rawValues<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">]);\n        unset(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">values<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">]);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return array&lt;string, mixed&gt;\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">jsonSerialize<\/i><i class=\"hk\">(): array\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">toArray<\/i><i class=\"hk\">();\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $values\n     *\/\n    <\/i><i class=\"hk\">public static function <\/i><i class=\"hd\">from<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$values<\/i><i class=\"hk\">): static\n    {\n        return new static(new <\/i><i class=\"hd\">DummyColumnValueParser<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">$values<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F7":{"name":"Db\/ResultFactories\/Basic.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/ResultFactories\/Basic.php","lines":{"23":-2,"8":1,"22":1,"26":1},"coverage":100,"total":3,"class":"light","digits":3,"lineCount":26,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db\\ResultFactories<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\nuse <\/i><i class=\"hd\">PgSql<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">Basic <\/i><i class=\"hk\">implements <\/i><i class=\"hd\">Db\\ResultFactory\n<\/i><i class=\"hk\">{\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;int, string&gt;|NULL $dataTypesCache\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">create<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">PgSql\\Result $queryResource<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">Db\\Query $query<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">Db\\RowFactory $rowFactory<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">Db\\DataTypeParser $dataTypeParser<\/i><i class=\"hk\">,\n        array|<\/i><i class=\"hd\">NULL $dataTypesCache<\/i><i class=\"hk\">,\n    ): <\/i><i class=\"hd\">Db\\Result\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">Db\\Result<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryResource<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$rowFactory<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$dataTypeParser<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$dataTypesCache<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F8":{"name":"Db\/DataTypeParsers\/Basic.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/DataTypeParsers\/Basic.php","lines":{"25":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"54":1,"70":1,"72":1,"77":1,"83":1,"84":1,"85":1,"87":1,"88":1,"90":1,"93":-2,"102":1,"107":1,"113":1,"121":-2,"127":-2,"135":1,"136":1,"137":1,"139":1,"140":-2,"148":1,"150":1,"151":1,"154":1,"155":1,"158":1,"159":-2,"170":1,"174":1,"178":-2,"16":1,"17":1,"20":1,"21":1,"22":1,"23":1,"24":1,"26":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"71":1,"73":1,"74":1,"75":1,"76":1,"78":1,"79":1,"80":1,"81":1,"82":1,"86":1,"101":1,"105":1,"106":1,"110":1,"111":1,"112":1,"114":1,"115":1,"120":1,"126":1,"167":1,"169":1,"173":1,"177":1,"8":1,"181":1},"coverage":100,"total":100,"class":null,"digits":4,"lineCount":181,"content":"<pre style='margin-left: 4em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db\\DataTypeParsers<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\nuse <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db\\Exceptions<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">Basic <\/i><i class=\"hk\">implements <\/i><i class=\"hd\">Db\\DataTypeParser\n<\/i><i class=\"hk\">{\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\DataTypeParserException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">parse<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $type<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">mixed\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            return <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n        }\n\n        if (<\/i><i class=\"hd\">$type<\/i><i class=\"hk\">[<\/i><i class=\"hd\">0<\/i><i class=\"hk\">] === <\/i><i class=\"hs\">'_'<\/i><i class=\"hk\">) { <\/i><i class=\"hc\">\/\/ arrays\n            <\/i><i class=\"hk\">switch (<\/i><i class=\"hd\">$type<\/i><i class=\"hk\">) {\n                case <\/i><i class=\"hs\">'_int2'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'_int4'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'_int8'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'_oid'<\/i><i class=\"hk\">:\n                    return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parseArray<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, <\/i><i class=\"hs\">'intval'<\/i><i class=\"hk\">);\n                case <\/i><i class=\"hs\">'_float4'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'_float8'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'_numeric'<\/i><i class=\"hk\">:\n                    return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parseArray<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, <\/i><i class=\"hs\">'floatval'<\/i><i class=\"hk\">);\n                case <\/i><i class=\"hs\">'_bool'<\/i><i class=\"hk\">:\n                    return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parseArray<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, [<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">, <\/i><i class=\"hs\">'parseBool'<\/i><i class=\"hk\">]);\n                case <\/i><i class=\"hs\">'_date'<\/i><i class=\"hk\">:\n                    return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parseArray<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, [<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">, <\/i><i class=\"hs\">'parseDate'<\/i><i class=\"hk\">]);\n                case <\/i><i class=\"hs\">'_timestamp'<\/i><i class=\"hk\">:\n                    return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parseArray<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, function (<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">\\DateTimeImmutable <\/i><i class=\"hk\">{\n                        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parseTimestamp<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\trim<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, <\/i><i class=\"hs\">'\"'<\/i><i class=\"hk\">));\n                    });\n                case <\/i><i class=\"hs\">'_timestamptz'<\/i><i class=\"hk\">:\n                    return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parseArray<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, function (<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">\\DateTimeImmutable <\/i><i class=\"hk\">{\n                        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parseTimestampTz<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\trim<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, <\/i><i class=\"hs\">'\"'<\/i><i class=\"hk\">));\n                    });\n                case <\/i><i class=\"hs\">'_time'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'_timetz'<\/i><i class=\"hk\">:\n                    return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parseArray<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n                case <\/i><i class=\"hs\">'_bpchar'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'_varchar'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'_text'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'_tsquery'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'_tsvector'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'_interval'<\/i><i class=\"hk\">:\n                    throw <\/i><i class=\"hd\">Exceptions\\DataTypeParserException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">tryUseConvertToJson<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$type<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, <\/i><i class=\"hs\">'array_to_json'<\/i><i class=\"hk\">);\n                default:\n                    throw <\/i><i class=\"hd\">Exceptions\\DataTypeParserException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">cantParseType<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$type<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n            }\n        } else {\n            switch (<\/i><i class=\"hd\">$type<\/i><i class=\"hk\">) {\n                case <\/i><i class=\"hs\">'int2'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'int4'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'int8'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'oid'<\/i><i class=\"hk\">:\n                    return (int) <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n                case <\/i><i class=\"hs\">'float4'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'float8'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'numeric'<\/i><i class=\"hk\">:\n                    return (float) <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n                case <\/i><i class=\"hs\">'bool'<\/i><i class=\"hk\">:\n                    return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parseBool<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n                case <\/i><i class=\"hs\">'date'<\/i><i class=\"hk\">:\n                    return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parseDate<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n                case <\/i><i class=\"hs\">'timestamp'<\/i><i class=\"hk\">:\n                    return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parseTimestamp<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n                case <\/i><i class=\"hs\">'timestamptz'<\/i><i class=\"hk\">:\n                    return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parseTimestampTz<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n                case <\/i><i class=\"hs\">'json'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'jsonb'<\/i><i class=\"hk\">:\n                    return <\/i><i class=\"hd\">\\json_decode<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">);\n                case <\/i><i class=\"hs\">'time'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'timetz'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'bpchar'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'varchar'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'text'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'tsquery'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'tsvector'<\/i><i class=\"hk\">:\n                case <\/i><i class=\"hs\">'interval'<\/i><i class=\"hk\">:\n                    return <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n                case <\/i><i class=\"hs\">'hstore'<\/i><i class=\"hk\">:\n                    throw <\/i><i class=\"hd\">Exceptions\\DataTypeParserException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">tryUseConvertToJson<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$type<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, <\/i><i class=\"hs\">'hstore_to_json'<\/i><i class=\"hk\">);\n                default:\n                    throw <\/i><i class=\"hd\">Exceptions\\DataTypeParserException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">cantParseType<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$type<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n            }\n        }\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return list&lt;mixed&gt;\n     *\/\n    <\/i><i class=\"hk\">protected function <\/i><i class=\"hd\">parseArray<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $value<\/i><i class=\"hk\">, callable|<\/i><i class=\"hd\">NULL $typeFnc <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): array\n    {\n        if ((<\/i><i class=\"hd\">\\substr<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, <\/i><i class=\"hd\">0<\/i><i class=\"hk\">, <\/i><i class=\"hd\">1<\/i><i class=\"hk\">) !== <\/i><i class=\"hs\">'{'<\/i><i class=\"hk\">) || (<\/i><i class=\"hd\">\\substr<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, -<\/i><i class=\"hd\">1<\/i><i class=\"hk\">) !== <\/i><i class=\"hs\">'}'<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\DataTypeParserException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">valueIsNotArray<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n        }\n\n        <\/i><i class=\"hd\">$value <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\substr<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, <\/i><i class=\"hd\">1<\/i><i class=\"hk\">, -<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n        if (<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">=== <\/i><i class=\"hs\">''<\/i><i class=\"hk\">) {\n            return [];\n        }\n\n        <\/i><i class=\"hd\">$array <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\explode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">','<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n        foreach (<\/i><i class=\"hd\">$array <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$i <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$item<\/i><i class=\"hk\">) {\n            if (<\/i><i class=\"hd\">$item <\/i><i class=\"hk\">=== <\/i><i class=\"hs\">'NULL'<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$array<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$i<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n            } else if (<\/i><i class=\"hd\">$typeFnc <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$array<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$i<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$typeFnc<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$item<\/i><i class=\"hk\">);\n            }\n        }\n\n        <\/i><i class=\"hc\">\/** @phpstan-var list&lt;mixed&gt; *\/\n        <\/i><i class=\"hk\">return <\/i><i class=\"hd\">$array<\/i><i class=\"hk\">;\n    }\n\n\n    protected function <\/i><i class=\"hd\">parseBool<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$value <\/i><i class=\"hk\">=== <\/i><i class=\"hs\">'t'<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\DataTypeParserException\n     *\/\n    <\/i><i class=\"hk\">protected function <\/i><i class=\"hd\">parseDate<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">\\DateTimeImmutable\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$datetime <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\DateTimeImmutable<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createFromFormat<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Y-m-d H:i:s'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value <\/i><i class=\"hk\">. <\/i><i class=\"hs\">' 00:00:00'<\/i><i class=\"hk\">);\n        if (<\/i><i class=\"hd\">$datetime <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\DataTypeParserException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">cantConvertDatetime<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Y-m-d H:i:s'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value <\/i><i class=\"hk\">. <\/i><i class=\"hs\">' 00:00:00'<\/i><i class=\"hk\">);\n        }\n        return <\/i><i class=\"hd\">$datetime<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\DataTypeParserException\n     *\/\n    <\/i><i class=\"hk\">protected function <\/i><i class=\"hd\">parseTimestamp<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">\\DateTimeImmutable\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$datetime <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\DateTimeImmutable<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createFromFormat<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Y-m-d H:i:s'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n\n        if (<\/i><i class=\"hd\">$datetime <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$datetime <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\DateTimeImmutable<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createFromFormat<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Y-m-d H:i:s.u'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n        }\n\n        if (<\/i><i class=\"hd\">$datetime <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\DataTypeParserException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">cantConvertDatetime<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Y-m-d H:i:s\/Y-m-d H:i:s.u'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$datetime<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\DataTypeParserException\n     *\/\n    <\/i><i class=\"hk\">protected function <\/i><i class=\"hd\">parseTimestampTz<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">\\DateTimeImmutable\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$datetime <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\DateTimeImmutable<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createFromFormat<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Y-m-d H:i:sP'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n\n        if (<\/i><i class=\"hd\">$datetime <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$datetime <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\DateTimeImmutable<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createFromFormat<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Y-m-d H:i:s.uP'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n        }\n\n        if (<\/i><i class=\"hd\">$datetime <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\DataTypeParserException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">cantConvertDatetime<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Y-m-d H:i:sP\/Y-m-d H:i:s.uP'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$datetime<\/i><i class=\"hk\">;\n    }\n\n}\n<\/i><\/code><\/pre>"},"F9":{"name":"Db\/Transaction.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Transaction.php","lines":{"25":-2,"37":-2,"49":-2,"61":-2,"73":-2,"85":-2,"91":-2,"58":1,"60":1,"70":1,"72":1,"82":1,"84":1,"46":1,"48":1,"12":1,"13":1,"22":1,"24":1,"34":1,"36":1,"90":1,"94":1},"coverage":100,"total":16,"class":null,"digits":3,"lineCount":94,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">Transaction\n<\/i><i class=\"hk\">{\n    protected <\/i><i class=\"hd\">Connection $connection<\/i><i class=\"hk\">;\n\n\n    public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Connection $connection<\/i><i class=\"hk\">)\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$connection<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">begin<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $mode <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'BEGIN' <\/i><i class=\"hk\">. (<\/i><i class=\"hd\">$mode <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL <\/i><i class=\"hk\">? <\/i><i class=\"hs\">'' <\/i><i class=\"hk\">: (<\/i><i class=\"hs\">' ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$mode<\/i><i class=\"hk\">)));\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">commit<\/i><i class=\"hk\">(): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'COMMIT'<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">rollback<\/i><i class=\"hk\">(): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'ROLLBACK'<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">savepoint<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $name<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'SAVEPOINT ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$name<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">releaseSavepoint<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $name<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'RELEASE SAVEPOINT ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$name<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">rollbackToSavepoint<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $name<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'ROLLBACK TO SAVEPOINT ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$name<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">isInTransaction<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">isInTransaction<\/i><i class=\"hk\">();\n    }\n\n}\n<\/i><\/code><\/pre>"},"F10":{"name":"Db\/DataTypeCaches\/PhpFile.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/DataTypeCaches\/PhpFile.php","lines":{"26":1,"28":1,"29":1,"30":1,"31":1,"32":1,"35":1,"36":1,"37":1,"38":-1,"42":1,"43":1,"44":1,"45":1,"46":1,"48":1,"50":1,"51":1,"55":1,"56":1,"59":1,"62":1,"63":-2,"84":-2,"92":1,"93":1,"94":1,"96":1,"97":-2,"68":1,"70":1,"71":1,"73":1,"74":1,"77":1,"78":1,"7":1,"17":1,"18":1,"83":1,"100":1},"coverage":97,"total":38,"class":null,"digits":3,"lineCount":100,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db\\DataTypeCaches<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">PhpFile <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">DbLoader\n<\/i><i class=\"hk\">{\n    private <\/i><i class=\"hd\">string $cacheDirectory<\/i><i class=\"hk\">;\n\n    <\/i><i class=\"hc\">\/** @var array&lt;string, array&lt;int, string&gt;&gt; *\/\n    <\/i><i class=\"hk\">private array <\/i><i class=\"hd\">$cache <\/i><i class=\"hk\">= [];\n\n\n    public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $cacheDirectory<\/i><i class=\"hk\">)\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">cacheDirectory <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\rtrim<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$cacheDirectory<\/i><i class=\"hk\">, <\/i><i class=\"hs\">'\\\/'<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return array&lt;int, string&gt;\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">load<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Db\\Connection $connection<\/i><i class=\"hk\">): array\n    {\n        <\/i><i class=\"hd\">$connectionConfig <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectionConfig<\/i><i class=\"hk\">();\n\n        if (!isset(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">cache<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$connectionConfig<\/i><i class=\"hk\">])) {\n            <\/i><i class=\"hd\">$cacheFile <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getCacheFile<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$connectionConfig<\/i><i class=\"hk\">);\n            if (!<\/i><i class=\"hd\">\\is_file<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$cacheFile<\/i><i class=\"hk\">)) {\n                if (!<\/i><i class=\"hd\">\\is_dir<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">cacheDirectory<\/i><i class=\"hk\">)) {\n                    @<\/i><i class=\"hd\">\\mkdir<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">cacheDirectory<\/i><i class=\"hk\">, <\/i><i class=\"hd\">0777<\/i><i class=\"hk\">, <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">); <\/i><i class=\"hc\">\/\/ @ - dir may already exist\n                <\/i><i class=\"hk\">}\n\n                <\/i><i class=\"hd\">$lockFile <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$cacheFile <\/i><i class=\"hk\">. <\/i><i class=\"hs\">'.lock'<\/i><i class=\"hk\">;\n                <\/i><i class=\"hd\">$handle <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\fopen<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$lockFile<\/i><i class=\"hk\">, <\/i><i class=\"hs\">'c+'<\/i><i class=\"hk\">);\n                if ((<\/i><i class=\"hd\">$handle <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) || !<\/i><i class=\"hd\">\\flock<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$handle<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\LOCK_EX<\/i><i class=\"hk\">)) {\n                    throw new <\/i><i class=\"hd\">\\RuntimeException<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Unable to create or acquire exclusive lock on file \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$lockFile<\/i><i class=\"hk\">));\n                }\n\n                <\/i><i class=\"hc\">\/\/ cache still not exists\n                <\/i><i class=\"hk\">if (!<\/i><i class=\"hd\">\\is_file<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$cacheFile<\/i><i class=\"hk\">)) {\n                    <\/i><i class=\"hd\">$tempFile <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$cacheFile <\/i><i class=\"hk\">. <\/i><i class=\"hs\">'.tmp'<\/i><i class=\"hk\">;\n                    <\/i><i class=\"hd\">\\file_put_contents<\/i><i class=\"hk\">(\n                        <\/i><i class=\"hd\">$tempFile<\/i><i class=\"hk\">,\n                        <\/i><i class=\"hs\">'&lt;?php declare(strict_types=1);' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\PHP_EOL <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'return [%s];'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">prepareCacheArray<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">loadFromDb<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$connection<\/i><i class=\"hk\">))),\n                    );\n                    <\/i><i class=\"hd\">\\rename<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$tempFile<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$cacheFile<\/i><i class=\"hk\">); <\/i><i class=\"hc\">\/\/ atomic replace (in Linux)\n\n                    <\/i><i class=\"hk\">if (<\/i><i class=\"hd\">\\function_exists<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'opcache_invalidate'<\/i><i class=\"hk\">)) {\n                        <\/i><i class=\"hd\">\\opcache_invalidate<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$cacheFile<\/i><i class=\"hk\">, <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">);\n                    }\n                }\n\n                <\/i><i class=\"hd\">\\flock<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$handle<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\LOCK_UN<\/i><i class=\"hk\">);\n                <\/i><i class=\"hd\">\\fclose<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$handle<\/i><i class=\"hk\">);\n            }\n\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">cache<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$connectionConfig<\/i><i class=\"hk\">] = require <\/i><i class=\"hd\">$cacheFile<\/i><i class=\"hk\">;\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">cache<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$connectionConfig<\/i><i class=\"hk\">];\n    }\n\n\n    public function <\/i><i class=\"hd\">clean<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Db\\Connection $connection<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$connectionConfig <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectionConfig<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$cacheFile <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getCacheFile<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$connectionConfig<\/i><i class=\"hk\">);\n        @<\/i><i class=\"hd\">\\unlink<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$cacheFile<\/i><i class=\"hk\">); <\/i><i class=\"hc\">\/\/ intentionally @ - file may not exists\n\n        <\/i><i class=\"hk\">if (<\/i><i class=\"hd\">\\function_exists<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'opcache_invalidate'<\/i><i class=\"hk\">)) {\n            <\/i><i class=\"hd\">\\opcache_invalidate<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$cacheFile<\/i><i class=\"hk\">, <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">);\n        }\n\n        unset(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">cache<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$connectionConfig<\/i><i class=\"hk\">]);\n    }\n\n\n    private function <\/i><i class=\"hd\">getCacheFile<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $connectionConfig<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">cacheDirectory <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\DIRECTORY_SEPARATOR <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\md5<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$connectionConfig<\/i><i class=\"hk\">) . <\/i><i class=\"hs\">'.php'<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;int, string&gt; $data\n     *\/\n    <\/i><i class=\"hk\">private static function <\/i><i class=\"hd\">prepareCacheArray<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$data<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$cache <\/i><i class=\"hk\">= <\/i><i class=\"hs\">''<\/i><i class=\"hk\">;\n        foreach (<\/i><i class=\"hd\">$data <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$oid <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$typname<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$cache <\/i><i class=\"hk\">.= <\/i><i class=\"hd\">$oid <\/i><i class=\"hk\">. <\/i><i class=\"hs\">'=&gt;\\'' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\str_replace<\/i><i class=\"hk\">(<\/i><i class=\"hs\">\"'\"<\/i><i class=\"hk\">, <\/i><i class=\"hs\">\"\\\\'\"<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$typname<\/i><i class=\"hk\">) . <\/i><i class=\"hs\">'\\','<\/i><i class=\"hk\">;\n        }\n        return <\/i><i class=\"hd\">$cache<\/i><i class=\"hk\">;\n    }\n\n}\n<\/i><\/code><\/pre>"},"F11":{"name":"Db\/DataTypeCaches\/DbLoader.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/DataTypeCaches\/DbLoader.php","lines":{"17":1,"18":1,"19":1,"20":-1,"23":1,"24":1,"25":1,"28":1,"29":-2,"7":1,"32":1},"coverage":90,"total":10,"class":null,"digits":3,"lineCount":32,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db\\DataTypeCaches<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nabstract class <\/i><i class=\"hd\">DbLoader <\/i><i class=\"hk\">implements <\/i><i class=\"hd\">Db\\DataTypeCache\n<\/i><i class=\"hk\">{\n    private const <\/i><i class=\"hd\">LOAD_QUERY <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'SELECT oid, typname FROM pg_catalog.pg_type'<\/i><i class=\"hk\">;\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return array&lt;int, string&gt;\n     *\/\n    <\/i><i class=\"hk\">protected function <\/i><i class=\"hd\">loadFromDb<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Db\\Connection $connection<\/i><i class=\"hk\">): array\n    {\n        <\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getResource<\/i><i class=\"hk\">();\n        <\/i><i class=\"hd\">$query <\/i><i class=\"hk\">= @<\/i><i class=\"hd\">\\pg_query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$resource<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">LOAD_QUERY<\/i><i class=\"hk\">); <\/i><i class=\"hc\">\/\/ intentionally @\n        <\/i><i class=\"hk\">if (<\/i><i class=\"hd\">$query <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Db\\Exceptions\\DataTypeCacheException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">cantLoadTypes<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getLastError<\/i><i class=\"hk\">());\n        }\n\n        <\/i><i class=\"hd\">$types <\/i><i class=\"hk\">= [];\n        while ((<\/i><i class=\"hd\">$data <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\pg_fetch_assoc<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$query<\/i><i class=\"hk\">)) !== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$types<\/i><i class=\"hk\">[(int) <\/i><i class=\"hd\">$data<\/i><i class=\"hk\">[<\/i><i class=\"hs\">'oid'<\/i><i class=\"hk\">]] = (string) <\/i><i class=\"hd\">$data<\/i><i class=\"hk\">[<\/i><i class=\"hs\">'typname'<\/i><i class=\"hk\">];\n        }\n\n        return <\/i><i class=\"hd\">$types<\/i><i class=\"hk\">;\n    }\n\n}\n<\/i><\/code><\/pre>"},"F12":{"name":"Db\/DataTypeParser.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/DataTypeParser.php","lines":{"11":1},"coverage":100,"total":1,"class":"light","digits":3,"lineCount":11,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\ninterface <\/i><i class=\"hd\">DataTypeParser\n<\/i><i class=\"hk\">{\n\n    function <\/i><i class=\"hd\">parse<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $type<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">mixed<\/i><i class=\"hk\">;\n\n}\n<\/i><\/code><\/pre>"},"F13":{"name":"Db\/ResultFactory.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/ResultFactory.php","lines":{"22":1},"coverage":100,"total":1,"class":"light","digits":3,"lineCount":22,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">PgSql<\/i><i class=\"hk\">;\n\ninterface <\/i><i class=\"hd\">ResultFactory\n<\/i><i class=\"hk\">{\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;int, string&gt;|NULL $dataTypesCache\n     *\/\n    <\/i><i class=\"hk\">function <\/i><i class=\"hd\">create<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">PgSql\\Result $queryResource<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">Query $query<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">RowFactory $rowFactory<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">DataTypeParser $dataTypeParser<\/i><i class=\"hk\">,\n        array|<\/i><i class=\"hd\">NULL $dataTypesCache<\/i><i class=\"hk\">,\n    ): <\/i><i class=\"hd\">Result<\/i><i class=\"hk\">;\n\n}\n<\/i><\/code><\/pre>"},"F14":{"name":"Db\/DataTypeCache.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/DataTypeCache.php","lines":{"14":1},"coverage":100,"total":1,"class":"light","digits":3,"lineCount":14,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\ninterface <\/i><i class=\"hd\">DataTypeCache\n<\/i><i class=\"hk\">{\n\n    <\/i><i class=\"hc\">\/**\n     * @return array&lt;int, string&gt; with structure [int column-oid =&gt; string column-typname] from table pg_catalog.pg_type\n     *\/\n    <\/i><i class=\"hk\">function <\/i><i class=\"hd\">load<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Connection $connection<\/i><i class=\"hk\">): array;\n\n}\n<\/i><\/code><\/pre>"},"F15":{"name":"Db\/RowFactories\/Basic.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/RowFactories\/Basic.php","lines":{"16":-2,"15":1,"7":1,"19":1},"coverage":100,"total":3,"class":"light","digits":3,"lineCount":19,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db\\RowFactories<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">Basic <\/i><i class=\"hk\">implements <\/i><i class=\"hd\">Db\\RowFactory\n<\/i><i class=\"hk\">{\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, string|NULL&gt; $rawValues\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">create<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Db\\ColumnValueParser $columnValueParser<\/i><i class=\"hk\">, array <\/i><i class=\"hd\">$rawValues<\/i><i class=\"hk\">): <\/i><i class=\"hd\">Db\\Row\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">Db\\Row<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$columnValueParser<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$rawValues<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F16":{"name":"Db\/Connection.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Connection.php","lines":{"50":1,"55":1,"60":1,"62":-1,"68":1,"76":-2,"85":-2,"94":-2,"100":1,"106":-2,"112":-2,"118":1,"124":-2,"138":-2,"146":-2,"154":-2,"162":-2,"170":-2,"187":-2,"195":-2,"203":-2,"211":-2,"219":-2,"230":-2,"260":-2,"275":1,"279":1,"283":-2,"294":-2,"314":1,"318":1,"322":-2,"335":1,"339":1,"345":-2,"356":1,"361":1,"362":1,"363":1,"371":-2,"380":-1,"386":-2,"392":-2,"398":-2,"408":-1,"417":-2,"427":-2,"436":-2,"445":-2,"454":-2,"465":-2,"473":-2,"488":-2,"496":1,"497":-2,"507":1,"508":-2,"93":1,"99":1,"103":1,"105":1,"111":1,"117":1,"121":1,"123":1,"129":1,"130":1,"132":1,"133":1,"137":1,"143":1,"145":1,"151":1,"153":1,"159":1,"161":1,"167":1,"169":1,"192":1,"194":1,"200":1,"202":1,"208":1,"210":1,"216":1,"218":1,"248":1,"252":1,"256":1,"269":1,"271":1,"273":1,"274":1,"278":1,"282":1,"292":1,"293":1,"304":1,"306":1,"307":1,"308":1,"310":1,"313":1,"317":1,"321":1,"331":1,"333":1,"334":1,"338":1,"342":1,"344":1,"354":1,"355":1,"359":1,"360":1,"368":1,"370":1,"379":1,"383":1,"385":1,"391":1,"397":1,"406":1,"407":1,"411":1,"412":1,"416":1,"422":1,"423":1,"426":1,"435":1,"444":1,"470":1,"471":1,"472":1,"49":1,"53":1,"54":1,"58":1,"59":1,"61":1,"65":1,"67":1,"71":1,"73":1,"75":1,"84":1,"175":1,"176":1,"179":1,"180":1,"183":1,"184":1,"186":1,"228":1,"229":1,"240":1,"242":1,"244":1,"245":1,"246":1,"251":1,"255":1,"259":1,"453":1,"464":1,"481":1,"482":1,"485":1,"487":1,"33":1,"34":1,"36":1,"38":1,"39":1,"40":1,"41":1,"511":1},"coverage":98,"total":142,"class":null,"digits":4,"lineCount":511,"content":"<pre style='margin-left: 4em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">PgSql<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">Connection\n<\/i><i class=\"hk\">{\n    private <\/i><i class=\"hd\">string $connectionConfig<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">bool $connectForceNew<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">int $errorVerbosity<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">AsyncHelper $asyncHelper<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">Events $events<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">ResultBuilder $resultBuilder<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">Transaction<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $transaction <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">PgSql\\Connection<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $resource <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">bool $connected <\/i><i class=\"hk\">= <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">;\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $connectionConfig <\/i><i class=\"hk\">= <\/i><i class=\"hs\">''<\/i><i class=\"hk\">, <\/i><i class=\"hd\">bool $connectForceNew <\/i><i class=\"hk\">= <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">)\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connectionConfig <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$connectionConfig<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connectForceNew <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$connectForceNew<\/i><i class=\"hk\">;\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">errorVerbosity <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\PGSQL_ERRORS_DEFAULT<\/i><i class=\"hk\">;\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncHelper <\/i><i class=\"hk\">= new <\/i><i class=\"hd\">AsyncHelper<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">);\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events <\/i><i class=\"hk\">= new <\/i><i class=\"hd\">Events<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">);\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultBuilder <\/i><i class=\"hk\">= new <\/i><i class=\"hd\">ResultBuilder<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">connect<\/i><i class=\"hk\">(): static\n    {\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connectionConfig <\/i><i class=\"hk\">=== <\/i><i class=\"hs\">''<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\ConnectionException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">noConfig<\/i><i class=\"hk\">();\n        }\n\n        <\/i><i class=\"hd\">$connectType <\/i><i class=\"hk\">= <\/i><i class=\"hd\">0<\/i><i class=\"hk\">;\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connectForceNew <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$connectType <\/i><i class=\"hk\">|= <\/i><i class=\"hd\">\\PGSQL_CONNECT_FORCE_NEW<\/i><i class=\"hk\">;\n        }\n\n        <\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">= @<\/i><i class=\"hd\">\\pg_connect<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connectionConfig<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$connectType<\/i><i class=\"hk\">); <\/i><i class=\"hc\">\/\/ intentionally @\n        <\/i><i class=\"hk\">if (<\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\ConnectionException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">connectionFailed<\/i><i class=\"hk\">();\n        } elseif (<\/i><i class=\"hd\">\\pg_connection_status<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$resource<\/i><i class=\"hk\">) === <\/i><i class=\"hd\">\\PGSQL_CONNECTION_BAD<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\ConnectionException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">badConnection<\/i><i class=\"hk\">();\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resource <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$resource<\/i><i class=\"hk\">;\n\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">errorVerbosity <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">\\PGSQL_ERRORS_DEFAULT<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">\\pg_set_error_verbosity<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resource<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">errorVerbosity<\/i><i class=\"hk\">);\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connected <\/i><i class=\"hk\">= <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">;\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onConnect<\/i><i class=\"hk\">();\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">isConnected<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connected<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">ping<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">\\pg_ping<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectedResource<\/i><i class=\"hk\">());\n    }\n\n\n    public function <\/i><i class=\"hd\">setConnectionConfig<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $config<\/i><i class=\"hk\">): static\n    {\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">isConnected<\/i><i class=\"hk\">()) {\n            throw <\/i><i class=\"hd\">Exceptions\\ConnectionException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">cantChangeWhenConnected<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'config'<\/i><i class=\"hk\">);\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connectionConfig <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$config<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">getConnectionConfig<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connectionConfig<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">setConnectForceNew<\/i><i class=\"hk\">(<\/i><i class=\"hd\">bool $forceNew <\/i><i class=\"hk\">= <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">): static\n    {\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">isConnected<\/i><i class=\"hk\">()) {\n            throw <\/i><i class=\"hd\">Exceptions\\ConnectionException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">cantChangeWhenConnected<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'forceNew'<\/i><i class=\"hk\">);\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connectForceNew <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$forceNew<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">setErrorVerbosity<\/i><i class=\"hk\">(<\/i><i class=\"hd\">int $errorVerbosity<\/i><i class=\"hk\">): static\n    {\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">errorVerbosity <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">$errorVerbosity<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">errorVerbosity <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$errorVerbosity<\/i><i class=\"hk\">;\n\n            if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">isConnected<\/i><i class=\"hk\">()) {\n                <\/i><i class=\"hd\">\\pg_set_error_verbosity<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectedResource<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">errorVerbosity<\/i><i class=\"hk\">);\n            }\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">addOnConnect<\/i><i class=\"hk\">(callable <\/i><i class=\"hd\">$callback<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">addOnConnect<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$callback<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">addOnClose<\/i><i class=\"hk\">(callable <\/i><i class=\"hd\">$callback<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">addOnClose<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$callback<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">addOnQuery<\/i><i class=\"hk\">(callable <\/i><i class=\"hd\">$callback<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">addOnQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$callback<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">addOnResult<\/i><i class=\"hk\">(callable <\/i><i class=\"hd\">$callback<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">addOnResult<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$callback<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">close<\/i><i class=\"hk\">(): static\n    {\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">isConnected<\/i><i class=\"hk\">()) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onClose<\/i><i class=\"hk\">();\n        }\n\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resource <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">\\pg_close<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resource<\/i><i class=\"hk\">);\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resource <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connected <\/i><i class=\"hk\">= <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">setResultFactory<\/i><i class=\"hk\">(<\/i><i class=\"hd\">ResultFactory $resultFactory<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultBuilder<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">setResultFactory<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$resultFactory<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">setRowFactory<\/i><i class=\"hk\">(<\/i><i class=\"hd\">RowFactory $rowFactory<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultBuilder<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">setRowFactory<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$rowFactory<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">setDataTypeParser<\/i><i class=\"hk\">(<\/i><i class=\"hd\">DataTypeParser $dataTypeParser<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultBuilder<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">setDataTypeParser<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$dataTypeParser<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">setDataTypeCache<\/i><i class=\"hk\">(<\/i><i class=\"hd\">DataTypeCache $dataTypeCache<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultBuilder<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">setDataTypeCache<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$dataTypeCache<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Sql $sql<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed <\/i><i class=\"hk\">...<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">Result\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">\\assert<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\array_is_list<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">));\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryArgs<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\ConnectionException\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">queryArgs<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Sql $sql<\/i><i class=\"hk\">, array <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">Result\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$query <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">prepareQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">from<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">));\n\n        <\/i><i class=\"hd\">$startTime <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">hasOnQuery<\/i><i class=\"hk\">() ? <\/i><i class=\"hd\">\\hrtime<\/i><i class=\"hk\">(<\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">) : <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n        <\/i><i class=\"hd\">$queryParams <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">;\n        if (<\/i><i class=\"hd\">$queryParams <\/i><i class=\"hk\">=== []) {\n            <\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">= @<\/i><i class=\"hd\">\\pg_query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectedResource<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sql<\/i><i class=\"hk\">); <\/i><i class=\"hc\">\/\/ intentionally @\n        <\/i><i class=\"hk\">} else {\n            <\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">= @<\/i><i class=\"hd\">\\pg_query_params<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectedResource<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sql<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">); <\/i><i class=\"hc\">\/\/ intentionally @\n        <\/i><i class=\"hk\">}\n\n        if (<\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">queryFailed<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getLastError<\/i><i class=\"hk\">());\n        }\n\n        if (<\/i><i class=\"hd\">$startTime <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\hrtime<\/i><i class=\"hk\">(<\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">) - <\/i><i class=\"hd\">$startTime<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultBuilder<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">build<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$resource<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">execute<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $sql<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$sql <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">prepareQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">);\n\n        <\/i><i class=\"hd\">$startTime <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">hasOnQuery<\/i><i class=\"hk\">() ? <\/i><i class=\"hd\">\\hrtime<\/i><i class=\"hk\">(<\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">) : <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n        <\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">= @<\/i><i class=\"hd\">\\pg_query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectedResource<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">); <\/i><i class=\"hc\">\/\/ intentionally @\n        <\/i><i class=\"hk\">if (<\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">queryFailed<\/i><i class=\"hk\">(new <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">, []), <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getLastError<\/i><i class=\"hk\">());\n        }\n\n        if (<\/i><i class=\"hd\">$startTime <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onQuery<\/i><i class=\"hk\">(new <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">, []), <\/i><i class=\"hd\">\\hrtime<\/i><i class=\"hk\">(<\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">) - <\/i><i class=\"hd\">$startTime<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">asyncQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Sql $sql<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed <\/i><i class=\"hk\">...<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">AsyncQuery\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">\\assert<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\array_is_list<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">));\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncQueryArgs<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\ConnectionException\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">asyncQueryArgs<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Sql $sql<\/i><i class=\"hk\">, array <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">AsyncQuery\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$query <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">prepareQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">from<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">));\n\n        <\/i><i class=\"hd\">$queryParams <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">;\n        if (<\/i><i class=\"hd\">$queryParams <\/i><i class=\"hk\">=== []) {\n            <\/i><i class=\"hd\">$querySuccess <\/i><i class=\"hk\">= @<\/i><i class=\"hd\">\\pg_send_query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectedResource<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sql<\/i><i class=\"hk\">); <\/i><i class=\"hc\">\/\/ intentionally @\n        <\/i><i class=\"hk\">} else {\n            <\/i><i class=\"hd\">$querySuccess <\/i><i class=\"hk\">= @<\/i><i class=\"hd\">\\pg_send_query_params<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectedResource<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sql<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">); <\/i><i class=\"hc\">\/\/ intentionally @\n        <\/i><i class=\"hk\">}\n\n        if (<\/i><i class=\"hd\">$querySuccess <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\ConnectionException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">asyncQuerySentFailed<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getLastError<\/i><i class=\"hk\">());\n        }\n\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">hasOnQuery<\/i><i class=\"hk\">()) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$query<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncHelper<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">createAndSetAsyncQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultBuilder<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">asyncExecute<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $sql<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$sql <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">prepareQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">);\n\n        <\/i><i class=\"hd\">$querySuccess <\/i><i class=\"hk\">= @<\/i><i class=\"hd\">\\pg_send_query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectedResource<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">); <\/i><i class=\"hc\">\/\/ intentionally @\n        <\/i><i class=\"hk\">if (<\/i><i class=\"hd\">$querySuccess <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\ConnectionException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">asyncQuerySentFailed<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getLastError<\/i><i class=\"hk\">());\n        }\n\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">hasOnQuery<\/i><i class=\"hk\">()) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onQuery<\/i><i class=\"hk\">(new <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">, []));\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncHelper<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">setAsyncExecuteQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">completeAsyncExecute<\/i><i class=\"hk\">(): static\n    {\n        <\/i><i class=\"hd\">$asyncExecuteQuery <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncHelper<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getAsyncExecuteQuery<\/i><i class=\"hk\">();\n        if (<\/i><i class=\"hd\">$asyncExecuteQuery <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\ConnectionException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">asyncNoExecuteIsSent<\/i><i class=\"hk\">();\n        }\n\n        while ((<\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\pg_get_result<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectedResource<\/i><i class=\"hk\">())) !== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            if (!<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncHelper<\/i><i class=\"hk\">::<\/i><i class=\"hd\">checkAsyncQueryResult<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$resource<\/i><i class=\"hk\">)) {\n                throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">asyncQueryFailed<\/i><i class=\"hk\">(\n                    new <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$asyncExecuteQuery<\/i><i class=\"hk\">, []),\n                    (string) <\/i><i class=\"hd\">\\pg_result_error<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$resource<\/i><i class=\"hk\">),\n                );\n            }\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncHelper<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">clearQuery<\/i><i class=\"hk\">();\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">cancelAsyncQuery<\/i><i class=\"hk\">(): static\n    {\n        if (!<\/i><i class=\"hd\">\\pg_cancel_query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectedResource<\/i><i class=\"hk\">())) {\n            throw <\/i><i class=\"hd\">Exceptions\\ConnectionException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">asyncCancelFailed<\/i><i class=\"hk\">();\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncHelper<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">clearQuery<\/i><i class=\"hk\">();\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">prepareStatement<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $sql<\/i><i class=\"hk\">): <\/i><i class=\"hd\">PreparedStatement\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">PreparedStatement<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultBuilder<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">prepareQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">));\n    }\n\n\n    public function <\/i><i class=\"hd\">asyncPrepareStatement<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $sql<\/i><i class=\"hk\">): <\/i><i class=\"hd\">AsyncPreparedStatement\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">AsyncPreparedStatement<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncHelper<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultBuilder<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">prepareQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">));\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return list&lt;string&gt;\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">getNotices<\/i><i class=\"hk\">(<\/i><i class=\"hd\">bool $clearAfterRead <\/i><i class=\"hk\">= <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">): array\n    {\n        <\/i><i class=\"hd\">$notices <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\pg_last_notice<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectedResource<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">\\PGSQL_NOTICE_ALL<\/i><i class=\"hk\">);\n        if (<\/i><i class=\"hd\">$notices <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\ConnectionException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">cantGetNotices<\/i><i class=\"hk\">();\n        }\n\n        if (<\/i><i class=\"hd\">$clearAfterRead<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">\\pg_last_notice<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectedResource<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">\\PGSQL_NOTICE_CLEAR<\/i><i class=\"hk\">);\n        }\n\n        <\/i><i class=\"hc\">\/** @phpstan-var list&lt;string&gt; *\/\n        <\/i><i class=\"hk\">return <\/i><i class=\"hd\">$notices<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">transaction<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Transaction\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">transaction <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">transaction <\/i><i class=\"hk\">= new <\/i><i class=\"hd\">Transaction<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">transaction<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">isBusy<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">\\pg_connection_busy<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectedResource<\/i><i class=\"hk\">());\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">isInTransaction<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return !<\/i><i class=\"hd\">\\in_array<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\pg_transaction_status<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectedResource<\/i><i class=\"hk\">()), [<\/i><i class=\"hd\">\\PGSQL_TRANSACTION_UNKNOWN<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\PGSQL_TRANSACTION_IDLE<\/i><i class=\"hk\">], <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">getResource<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">PgSql\\Connection\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConnectedResource<\/i><i class=\"hk\">();\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * Extend this method to update query before execution.\n     *\n     * @return ($query is string ? string : Query)\n     *\/\n    <\/i><i class=\"hk\">protected function <\/i><i class=\"hd\">prepareQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Query $query<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Query\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">getLastError<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        return (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resource <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">)\n            ? <\/i><i class=\"hd\">\\pg_last_error<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resource<\/i><i class=\"hk\">)\n            : <\/i><i class=\"hs\">'unknown error'<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConnectionException\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">getConnectedResource<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">PgSql\\Connection\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resource <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connect<\/i><i class=\"hk\">();\n        }\n\n        <\/i><i class=\"hd\">\\assert<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resource <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resource<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * Prevents unserialization.\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">__wakeup<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        throw new <\/i><i class=\"hd\">\\RuntimeException<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'You can\\'t serialize or unserialize \\'%s\\' instances.'<\/i><i class=\"hk\">, static::class));\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * Prevents serialization.\n     *\n     * @return array&lt;string, mixed&gt;\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">__sleep<\/i><i class=\"hk\">(): array\n    {\n        throw new <\/i><i class=\"hd\">\\RuntimeException<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'You can\\'t serialize or unserialize \\'%s\\' instances.'<\/i><i class=\"hk\">, static::class));\n    }\n\n}\n<\/i><\/code><\/pre>"},"F17":{"name":"Db\/DummyColumnValueParser.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/DummyColumnValueParser.php","lines":{"11":-2,"10":1,"5":1,"14":1},"coverage":100,"total":3,"class":"light","digits":3,"lineCount":14,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">DummyColumnValueParser <\/i><i class=\"hk\">implements <\/i><i class=\"hd\">ColumnValueParser\n<\/i><i class=\"hk\">{\n\n    public function <\/i><i class=\"hd\">parseColumnValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed $rawValue<\/i><i class=\"hk\">): <\/i><i class=\"hd\">mixed\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$rawValue<\/i><i class=\"hk\">;\n    }\n\n}\n<\/i><\/code><\/pre>"},"F18":{"name":"Db\/RowIterator.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/RowIterator.php","lines":{"33":1,"34":-2,"40":-2,"53":-2,"8":1,"19":1,"20":1,"25":1,"26":1,"27":1,"28":1,"39":1,"45":1,"46":1,"47":1,"52":1,"56":1},"coverage":100,"total":14,"class":null,"digits":3,"lineCount":56,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\n<\/i><i class=\"hc\">\/**\n * @implements \\Iterator&lt;int, Row&gt;\n *\/\n<\/i><i class=\"hk\">class <\/i><i class=\"hd\">RowIterator <\/i><i class=\"hk\">implements <\/i><i class=\"hd\">\\Iterator\n<\/i><i class=\"hk\">{\n    private <\/i><i class=\"hd\">Result $result<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">Row<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $row <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">int $pointer<\/i><i class=\"hk\">;\n\n\n    public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Result $result<\/i><i class=\"hk\">)\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$result<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">rewind<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">pointer <\/i><i class=\"hk\">= <\/i><i class=\"hd\">0<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">seek<\/i><i class=\"hk\">(<\/i><i class=\"hd\">0<\/i><i class=\"hk\">);\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">row <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">fetch<\/i><i class=\"hk\">();\n    }\n\n\n    public function <\/i><i class=\"hd\">key<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">int\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">pointer<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">current<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Row\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">row<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">next<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">row <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">fetch<\/i><i class=\"hk\">();\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">pointer<\/i><i class=\"hk\">++;\n    }\n\n\n    public function <\/i><i class=\"hd\">valid<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">row <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n    }\n\n}\n<\/i><\/code><\/pre>"},"F19":{"name":"Db\/PreparedStatement.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/PreparedStatement.php","lines":{"12":-2,"30":1,"34":1,"38":-2,"50":1,"51":1,"52":1,"53":1,"61":-2,"33":1,"37":1,"5":1,"10":1,"11":1,"20":1,"22":1,"24":1,"26":1,"28":1,"29":1,"43":1,"44":1,"46":1,"48":1,"49":1,"57":1,"60":1,"64":1},"coverage":100,"total":25,"class":null,"digits":3,"lineCount":64,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">PreparedStatement <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">PreparedStatementHelper\n<\/i><i class=\"hk\">{\n\n    public function <\/i><i class=\"hd\">execute<\/i><i class=\"hk\">(<\/i><i class=\"hd\">mixed <\/i><i class=\"hk\">...<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">Result\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">\\assert<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\array_is_list<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">));\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">executeArgs<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $params\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">executeArgs<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">Result\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$statementName <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">prepareStatement<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$startTime <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">hasOnQuery<\/i><i class=\"hk\">() ? <\/i><i class=\"hd\">\\hrtime<\/i><i class=\"hk\">(<\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">) : <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n        <\/i><i class=\"hd\">$params <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">prepareParams<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n\n        <\/i><i class=\"hd\">$query <\/i><i class=\"hk\">= new <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n\n        <\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">= @<\/i><i class=\"hd\">\\pg_execute<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getResource<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">$statementName<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">); <\/i><i class=\"hc\">\/\/ intentionally @\n        <\/i><i class=\"hk\">if (<\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">preparedStatementQueryFailed<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$statementName<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getLastError<\/i><i class=\"hk\">());\n        }\n\n        if (<\/i><i class=\"hd\">$startTime <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\hrtime<\/i><i class=\"hk\">(<\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">) - <\/i><i class=\"hd\">$startTime<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$statementName<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultBuilder<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">build<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$resource<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">);\n    }\n\n\n    private function <\/i><i class=\"hd\">prepareStatement<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">statementName <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$statementName <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">getNextStatementName<\/i><i class=\"hk\">();\n\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">prepareQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">);\n\n            <\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">= @<\/i><i class=\"hd\">\\pg_prepare<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getResource<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">$statementName<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">); <\/i><i class=\"hc\">\/\/ intentionally @\n            <\/i><i class=\"hk\">if (<\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n                throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">preparedStatementQueryFailed<\/i><i class=\"hk\">(\n                    <\/i><i class=\"hd\">$statementName<\/i><i class=\"hk\">,\n                    new <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">, []),\n                    <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getLastError<\/i><i class=\"hk\">(),\n                );\n            }\n\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">statementName <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$statementName<\/i><i class=\"hk\">;\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">statementName<\/i><i class=\"hk\">;\n    }\n\n}\n<\/i><\/code><\/pre>"},"F20":{"name":"Db\/Query.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Query.php","lines":{"31":1,"35":-2,"28":1,"29":1,"30":1,"34":1,"18":1,"19":1,"20":1,"38":1},"coverage":100,"total":9,"class":null,"digits":3,"lineCount":38,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">Query\n<\/i><i class=\"hk\">{\n    public readonly <\/i><i class=\"hd\">string $sql<\/i><i class=\"hk\">;\n\n    <\/i><i class=\"hc\">\/** @var list&lt;mixed&gt; *\/\n    <\/i><i class=\"hk\">public readonly array <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">;\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $params\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $sql<\/i><i class=\"hk\">, array <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">)\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sql <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $params\n     *\/\n    <\/i><i class=\"hk\">public static function <\/i><i class=\"hd\">from<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">self<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Sql $query<\/i><i class=\"hk\">, array <\/i><i class=\"hd\">$params <\/i><i class=\"hk\">= []): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">is_string<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$query<\/i><i class=\"hk\">)) {\n            <\/i><i class=\"hd\">$query <\/i><i class=\"hk\">= new <\/i><i class=\"hd\">Sql\\Query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n        } else if (<\/i><i class=\"hd\">$params <\/i><i class=\"hk\">!== []) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">cantPassParams<\/i><i class=\"hk\">();\n        }\n\n        return <\/i><i class=\"hd\">$query <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Sql <\/i><i class=\"hk\">? <\/i><i class=\"hd\">SqlDefinition<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$query<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getSqlDefinition<\/i><i class=\"hk\">()) : <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">;\n    }\n\n}\n<\/i><\/code><\/pre>"},"F21":{"name":"Db\/SqlDefinition.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/SqlDefinition.php","lines":{"26":-2,"43":1,"67":1,"80":1,"88":-2,"65":1,"39":1,"51":1,"52":1,"53":1,"54":1,"56":1,"58":1,"59":1,"60":1,"61":1,"69":1,"84":1,"57":1,"64":1,"66":1,"72":1,"77":1,"79":1,"83":1,"87":1,"38":1,"42":1,"46":1,"47":1,"48":1,"50":1,"18":1,"19":1,"20":1,"25":1,"31":1,"32":1,"33":1,"35":1,"36":1,"37":1,"73":1,"74":1,"91":1},"coverage":100,"total":43,"class":null,"digits":3,"lineCount":91,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">SqlDefinition\n<\/i><i class=\"hk\">{\n    public readonly <\/i><i class=\"hd\">string $sql<\/i><i class=\"hk\">;\n\n    <\/i><i class=\"hc\">\/** @var list&lt;mixed&gt; *\/\n    <\/i><i class=\"hk\">public readonly array <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">;\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $params\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $value<\/i><i class=\"hk\">, array <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">)\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sql <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">;\n    }\n\n\n    public static function <\/i><i class=\"hd\">createQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self $sqlDefinition<\/i><i class=\"hk\">): <\/i><i class=\"hd\">Query\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">processSqlDefinition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sqlDefinition<\/i><i class=\"hk\">, <\/i><i class=\"hd\">0<\/i><i class=\"hk\">);\n    }\n\n\n    private static function <\/i><i class=\"hd\">processSqlDefinition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self $sqlDefinition<\/i><i class=\"hk\">, <\/i><i class=\"hd\">int $paramIndex<\/i><i class=\"hk\">): <\/i><i class=\"hd\">Query\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$params <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$sqlDefinition<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$origParamIndex <\/i><i class=\"hk\">= <\/i><i class=\"hd\">0<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$parsedParams <\/i><i class=\"hk\">= [];\n\n        <\/i><i class=\"hd\">$sql <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\preg_replace_callback<\/i><i class=\"hk\">(\n            <\/i><i class=\"hs\">'\/([\\\\\\\\]?)\\?\/'<\/i><i class=\"hk\">,\n            static function (<\/i><i class=\"hd\">$matches<\/i><i class=\"hk\">) use (&amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">, &amp;<\/i><i class=\"hd\">$parsedParams<\/i><i class=\"hk\">, &amp;<\/i><i class=\"hd\">$origParamIndex<\/i><i class=\"hk\">, &amp;<\/i><i class=\"hd\">$paramIndex<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string <\/i><i class=\"hk\">{\n                if (<\/i><i class=\"hd\">$matches<\/i><i class=\"hk\">[<\/i><i class=\"hd\">1<\/i><i class=\"hk\">] === <\/i><i class=\"hs\">'\\\\'<\/i><i class=\"hk\">) {\n                    return <\/i><i class=\"hs\">'?'<\/i><i class=\"hk\">;\n                }\n\n                if (!<\/i><i class=\"hd\">\\array_key_exists<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$origParamIndex<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">)) {\n                    throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">missingParam<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$origParamIndex<\/i><i class=\"hk\">);\n                }\n\n                <\/i><i class=\"hd\">$param <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$origParamIndex<\/i><i class=\"hk\">];\n                unset(<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$origParamIndex<\/i><i class=\"hk\">]);\n                <\/i><i class=\"hd\">$origParamIndex<\/i><i class=\"hk\">++;\n\n                if (<\/i><i class=\"hd\">\\is_array<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">)) {\n                    <\/i><i class=\"hd\">$keys <\/i><i class=\"hk\">= [];\n                    foreach (<\/i><i class=\"hd\">$param <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) {\n                        <\/i><i class=\"hd\">$keys<\/i><i class=\"hk\">[] = <\/i><i class=\"hs\">'$' <\/i><i class=\"hk\">. ++<\/i><i class=\"hd\">$paramIndex<\/i><i class=\"hk\">;\n                        <\/i><i class=\"hd\">$parsedParams<\/i><i class=\"hk\">[] = (<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">\\BackedEnum<\/i><i class=\"hk\">) ? <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">value <\/i><i class=\"hk\">: <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n                    }\n                    return <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">', '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$keys<\/i><i class=\"hk\">);\n                } else if (<\/i><i class=\"hd\">$param <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Sql<\/i><i class=\"hk\">) {\n                    <\/i><i class=\"hd\">$subquerySql <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">processSqlDefinition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getSqlDefinition<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">$paramIndex<\/i><i class=\"hk\">);\n                    <\/i><i class=\"hd\">$paramIndex <\/i><i class=\"hk\">+= <\/i><i class=\"hd\">\\count<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$subquerySql<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">);\n                    <\/i><i class=\"hd\">$parsedParams <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\array_merge<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$parsedParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$subquerySql<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">);\n                    return <\/i><i class=\"hd\">$subquerySql<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sql<\/i><i class=\"hk\">;\n                }\n\n                if (<\/i><i class=\"hd\">\\is_bool<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">)) {\n                    <\/i><i class=\"hd\">$parsedParams<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$param <\/i><i class=\"hk\">? <\/i><i class=\"hs\">'t' <\/i><i class=\"hk\">: <\/i><i class=\"hs\">'f'<\/i><i class=\"hk\">;\n                } else if (<\/i><i class=\"hd\">$param <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">\\BackedEnum<\/i><i class=\"hk\">) {\n                    <\/i><i class=\"hd\">$parsedParams<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$param<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">value<\/i><i class=\"hk\">;\n                } else {\n                    <\/i><i class=\"hd\">$parsedParams<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$param<\/i><i class=\"hk\">;\n                }\n\n                return <\/i><i class=\"hs\">'$' <\/i><i class=\"hk\">. ++<\/i><i class=\"hd\">$paramIndex<\/i><i class=\"hk\">;\n            },\n            <\/i><i class=\"hd\">$sqlDefinition<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sql<\/i><i class=\"hk\">,\n        );\n\n        <\/i><i class=\"hd\">\\assert<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\is_string<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">));\n\n        if ((<\/i><i class=\"hd\">$origParamIndex <\/i><i class=\"hk\">&gt; <\/i><i class=\"hd\">0<\/i><i class=\"hk\">) &amp;&amp; (<\/i><i class=\"hd\">$params <\/i><i class=\"hk\">!== [])) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">extraParam<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\array_values<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">));\n        }\n\n        if (<\/i><i class=\"hd\">$parsedParams <\/i><i class=\"hk\">=== []) {\n            <\/i><i class=\"hd\">$parsedParams <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\array_values<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n        }\n\n        return new <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$parsedParams<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F22":{"name":"Db\/Events.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Events.php","lines":{"33":-2,"41":-2,"49":-2,"57":-2,"63":1,"95":-2,"30":1,"32":1,"38":1,"40":1,"46":1,"48":1,"54":1,"56":1,"71":1,"78":1,"79":1,"81":1,"87":1,"62":1,"65":1,"70":1,"73":1,"86":1,"89":1,"94":1,"24":1,"25":1,"98":1},"coverage":100,"total":24,"class":null,"digits":3,"lineCount":98,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">Events\n<\/i><i class=\"hk\">{\n    private <\/i><i class=\"hd\">Connection $connection<\/i><i class=\"hk\">;\n\n    <\/i><i class=\"hc\">\/** @var list&lt;callable(Connection): void&gt; function (Connection $connection) {} *\/\n    <\/i><i class=\"hk\">private array <\/i><i class=\"hd\">$onConnect <\/i><i class=\"hk\">= [];\n\n    <\/i><i class=\"hc\">\/** @var list&lt;callable(Connection): void&gt; function (Connection $connection) {} *\/\n    <\/i><i class=\"hk\">private array <\/i><i class=\"hd\">$onClose <\/i><i class=\"hk\">= [];\n\n    <\/i><i class=\"hc\">\/** @var list&lt;callable(Connection, Query, int|float|NULL, string|NULL): void&gt; function (Connection $connection, Query $query, int|float|NULL $timeNs, string|NULL $prepareStatementName) {} *\/\n    <\/i><i class=\"hk\">private array <\/i><i class=\"hd\">$onQuery <\/i><i class=\"hk\">= [];\n\n    <\/i><i class=\"hc\">\/** @var list&lt;callable(Connection, Result): void&gt; function (Connection $connection, Result $result) {} *\/\n    <\/i><i class=\"hk\">private array <\/i><i class=\"hd\">$onResult <\/i><i class=\"hk\">= [];\n\n\n    public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Connection $connection<\/i><i class=\"hk\">)\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$connection<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">addOnConnect<\/i><i class=\"hk\">(callable <\/i><i class=\"hd\">$callback<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onConnect<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$callback<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">addOnClose<\/i><i class=\"hk\">(callable <\/i><i class=\"hd\">$callback<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onClose<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$callback<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">addOnQuery<\/i><i class=\"hk\">(callable <\/i><i class=\"hd\">$callback<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onQuery<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$callback<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">addOnResult<\/i><i class=\"hk\">(callable <\/i><i class=\"hd\">$callback<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onResult<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$callback<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">onConnect<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        foreach (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onConnect <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$event<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$event<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">);\n        }\n    }\n\n\n    public function <\/i><i class=\"hd\">onClose<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        foreach (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onClose <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$event<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$event<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">);\n        }\n    }\n\n\n    public function <\/i><i class=\"hd\">onQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Query $query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">float<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $timeNs <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $prepareStatementName <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        foreach (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onQuery <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$event<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$event<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$timeNs<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$prepareStatementName<\/i><i class=\"hk\">);\n        }\n    }\n\n\n    public function <\/i><i class=\"hd\">onResult<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Result $result<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        foreach (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onResult <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$event<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$event<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$result<\/i><i class=\"hk\">);\n        }\n    }\n\n\n    public function <\/i><i class=\"hd\">hasOnQuery<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onQuery <\/i><i class=\"hk\">!== [];\n    }\n\n}\n<\/i><\/code><\/pre>"},"F23":{"name":"Db\/Exceptions\/RowException.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Exceptions\/RowException.php","lines":{"14":-2,"19":1,"20":-2,"13":1,"5":1,"23":1},"coverage":100,"total":4,"class":"light","digits":3,"lineCount":23,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db\\Exceptions<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">RowException <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">Exception\n<\/i><i class=\"hk\">{\n    public const <\/i><i class=\"hd\">NO_COLUMN <\/i><i class=\"hk\">= <\/i><i class=\"hd\">1<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">NOT_STRING_KEY <\/i><i class=\"hk\">= <\/i><i class=\"hd\">2<\/i><i class=\"hk\">;\n\n\n    public static function <\/i><i class=\"hd\">noColumn<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'There is no column \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$column<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">NO_COLUMN<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">notStringKey<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Requested key must be string.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">NOT_STRING_KEY<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F24":{"name":"Db\/Exceptions\/DataTypeParserException.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Exceptions\/DataTypeParserException.php","lines":{"16":-2,"21":1,"22":-2,"27":1,"28":-2,"33":1,"34":-2,"15":1,"5":1,"37":1},"coverage":100,"total":6,"class":null,"digits":3,"lineCount":37,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db\\Exceptions<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">DataTypeParserException <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">Exception\n<\/i><i class=\"hk\">{\n    public const <\/i><i class=\"hd\">CANT_PARSE_TYPE <\/i><i class=\"hk\">= <\/i><i class=\"hd\">1<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">VALUE_IS_NOT_ARRAY <\/i><i class=\"hk\">= <\/i><i class=\"hd\">2<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">CANT_CONVERT_DATETIME <\/i><i class=\"hk\">= <\/i><i class=\"hd\">3<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">TRY_USE_CONVERT_TO_JSON <\/i><i class=\"hk\">= <\/i><i class=\"hd\">4<\/i><i class=\"hk\">;\n\n\n    public static function <\/i><i class=\"hd\">cantParseType<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $type<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Can\\'t parse type \\'%s\\' for value \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$type<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">CANT_PARSE_TYPE<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">valueIsNotArray<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Value \\'%s\\' isn\\'t an array.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">VALUE_IS_NOT_ARRAY<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">cantConvertDatetime<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $format<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Can\\'t convert value \\'%s\\' to datetime with format \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$format<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">CANT_CONVERT_DATETIME<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">tryUseConvertToJson<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $type<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string $value<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string $pgJsonFunction<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Can\\'t parse type \\'%s\\' for value \\'%s\\', try convert it JSON with \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$type<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$pgJsonFunction<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TRY_USE_CONVERT_TO_JSON<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F25":{"name":"Db\/Exceptions\/ResultException.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Exceptions\/ResultException.php","lines":{"23":1,"24":-2,"30":-2,"35":1,"36":-2,"41":1,"42":-2,"47":1,"48":-2,"53":1,"54":-2,"59":1,"60":-2,"65":1,"66":-2,"71":1,"72":-2,"77":1,"78":-2,"29":1,"7":1,"81":1},"coverage":100,"total":12,"class":null,"digits":3,"lineCount":81,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db\\Exceptions<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">ResultException <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">Exception\n<\/i><i class=\"hk\">{\n    public const <\/i><i class=\"hd\">NO_COLUMN <\/i><i class=\"hk\">= <\/i><i class=\"hd\">1<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">COLUMN_NAME_IS_ALREADY_IN_USE <\/i><i class=\"hk\">= <\/i><i class=\"hd\">2<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">FETCH_ASSOC_BAD_DESCRIPTOR <\/i><i class=\"hk\">= <\/i><i class=\"hd\">3<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">FETCH_ASSOC_NO_COLUMN <\/i><i class=\"hk\">= <\/i><i class=\"hd\">4<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">FETCH_ASSOC_ONLY_SCALAR_AS_KEY <\/i><i class=\"hk\">= <\/i><i class=\"hd\">5<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">FETCH_PAIRS_BAD_COLUMNS <\/i><i class=\"hk\">= <\/i><i class=\"hd\">6<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">FETCH_PAIRS_ONLY_SCALAR_AS_KEY <\/i><i class=\"hk\">= <\/i><i class=\"hd\">7<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">FETCH_MUTATOR_BAR_RETURN_TYPE <\/i><i class=\"hk\">= <\/i><i class=\"hd\">8<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">NO_OTHER_ASYNC_RESULT <\/i><i class=\"hk\">= <\/i><i class=\"hd\">9<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">NO_OID_IN_DATA_TYPE_CACHE <\/i><i class=\"hk\">= <\/i><i class=\"hd\">10<\/i><i class=\"hk\">;\n\n\n    public static function <\/i><i class=\"hd\">noColumn<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'There is no column \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$column<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">NO_COLUMN<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">columnNameIsAlreadyInUse<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Column \\'%s\\' is already used in result.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$column<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">COLUMN_NAME_IS_ALREADY_IN_USE<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">fetchAssocBadDescriptor<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $assocDesc<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Bad associative descriptor format \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$assocDesc<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">FETCH_ASSOC_BAD_DESCRIPTOR<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">fetchAssocNoColumn<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string $assocDesc<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'No column (or bad operator) \\'%s\\' in associative descriptor \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$assocDesc<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">FETCH_ASSOC_NO_COLUMN<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">fetchAssocOnlyScalarAsKey<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $assocDesc<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'You can use only scalar type as a key in associative descriptor \\'%s\\'. Column \\'%s\\' was parsed as \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$assocDesc<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\gettype<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">)), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">FETCH_ASSOC_ONLY_SCALAR_AS_KEY<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">fetchPairsBadColumns<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'None or both columns or just value column must be specified.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">FETCH_PAIRS_BAD_COLUMNS<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">fetchPairsOnlyScalarAsKey<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'You can use only scalar type as a key. Column \\'%s\\' was parsed as \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\gettype<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">)), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">FETCH_PAIRS_ONLY_SCALAR_AS_KEY<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">fetchMutatorBadReturnType<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'You can use only scalar type as a key. Column \\'%s\\' was mutated as \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\gettype<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">)), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">FETCH_MUTATOR_BAR_RETURN_TYPE<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">noOtherAsyncResult<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Db\\Query $query<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'No other result for async query \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sql<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">NO_OTHER_ASYNC_RESULT<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">noOidInDataTypeCache<\/i><i class=\"hk\">(<\/i><i class=\"hd\">int<\/i><i class=\"hk\">|<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">FALSE $oid<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'There is no oid \\'%s\\' in data type cache. Try clear your data type cache.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$oid <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE <\/i><i class=\"hk\">? <\/i><i class=\"hs\">'FALSE' <\/i><i class=\"hk\">: <\/i><i class=\"hd\">$oid<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">NO_OID_IN_DATA_TYPE_CACHE<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F26":{"name":"Db\/Exceptions\/QueryException.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Exceptions\/QueryException.php","lines":{"34":1,"35":-2,"41":-2,"46":1,"47":-2,"56":1,"57":-2,"66":1,"67":-2,"72":1,"73":-2,"78":1,"79":-2,"87":1,"88":1,"89":-2,"40":1,"7":1,"27":1,"28":1,"29":1,"92":1},"coverage":100,"total":14,"class":null,"digits":3,"lineCount":92,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db\\Exceptions<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">QueryException <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">Exception\n<\/i><i class=\"hk\">{\n    public const <\/i><i class=\"hd\">QUERY_FAILED <\/i><i class=\"hk\">= <\/i><i class=\"hd\">1<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">ASYNC_QUERY_FAILED <\/i><i class=\"hk\">= <\/i><i class=\"hd\">2<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PREPARED_STATEMENT_QUERY_FAILED <\/i><i class=\"hk\">= <\/i><i class=\"hd\">3<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">ASYNC_PREPARED_STATEMENT_QUERY_FAILED <\/i><i class=\"hk\">= <\/i><i class=\"hd\">4<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">CANT_PASS_PARAMS <\/i><i class=\"hk\">= <\/i><i class=\"hd\">5<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">MISSING_PARAM <\/i><i class=\"hk\">= <\/i><i class=\"hd\">6<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">EXTRA_PARAM <\/i><i class=\"hk\">= <\/i><i class=\"hd\">7<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">Db\\Query<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $query<\/i><i class=\"hk\">;\n\n\n    public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">string $message <\/i><i class=\"hk\">= <\/i><i class=\"hs\">''<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">int $code <\/i><i class=\"hk\">= <\/i><i class=\"hd\">0<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">Db\\Query<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $query <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">\\Throwable<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $previous <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n    )\n    {\n        <\/i><i class=\"hd\">parent<\/i><i class=\"hk\">::<\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$message<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$code<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$previous<\/i><i class=\"hk\">);\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">getQuery<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Db\\Query<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">;\n    }\n\n\n    public static function <\/i><i class=\"hd\">queryFailed<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Db\\Query $query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string $error<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Query failed [%s]: \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$error<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sql<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">QUERY_FAILED<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">asyncQueryFailed<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Db\\Query $query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string $error<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Async query failed [%s]: \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$error<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sql<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">ASYNC_QUERY_FAILED<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">preparedStatementQueryFailed<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">string $preparedStatementName<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">Db\\Query $query<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string $error<\/i><i class=\"hk\">,\n    ): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Prepared statement failed [%s]: \\'%s\\', query: \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$error<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$preparedStatementName<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sql<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PREPARED_STATEMENT_QUERY_FAILED<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">asyncPreparedStatementQueryFailed<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">string $preparedStatementName<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">Db\\Query $query<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string $error<\/i><i class=\"hk\">,\n    ): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Async prepared statement failed [%s]: \\'%s\\', query \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$error<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$preparedStatementName<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sql<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">ASYNC_PREPARED_STATEMENT_QUERY_FAILED<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">cantPassParams<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Can\\'t pass params when passing Query object.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">CANT_PASS_PARAMS<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">missingParam<\/i><i class=\"hk\">(<\/i><i class=\"hd\">int $index<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'There is no param for index %s. Did you escape all \\'?\\' characters, which you want to use as \\'?\\' and not as parameter?'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$index<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">MISSING_PARAM<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $extraParams\n     *\/\n    <\/i><i class=\"hk\">public static function <\/i><i class=\"hd\">extraParam<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$extraParams<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$count <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\count<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$extraParams<\/i><i class=\"hk\">);\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'The number of \\'?\\' don\\'t match the number of parameters. ' <\/i><i class=\"hk\">. (<\/i><i class=\"hd\">$count <\/i><i class=\"hk\">&gt; <\/i><i class=\"hd\">1 <\/i><i class=\"hk\">? <\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'The last %d parameters are extra.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$count<\/i><i class=\"hk\">) : <\/i><i class=\"hs\">'The last parameter is extra.'<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">EXTRA_PARAM<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F27":{"name":"Db\/Exceptions\/ConnectionException.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Exceptions\/ConnectionException.php","lines":{"21":1,"22":-2,"27":1,"28":-2,"40":-2,"45":-1,"46":-2,"51":-1,"52":-2,"57":-1,"58":-2,"63":1,"64":-2,"69":1,"70":-2,"75":1,"76":-2,"81":1,"82":1,"83":1,"84":1,"85":1,"87":1,"89":-2,"33":1,"34":1,"35":1,"36":1,"39":1,"5":1,"92":1},"coverage":86,"total":21,"class":null,"digits":3,"lineCount":92,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db\\Exceptions<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">ConnectionException <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">Exception\n<\/i><i class=\"hk\">{\n    public const <\/i><i class=\"hd\">NO_CONFIG <\/i><i class=\"hk\">= <\/i><i class=\"hd\">1<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">CANT_CHANGE_WHEN_CONNECTED <\/i><i class=\"hk\">= <\/i><i class=\"hd\">2<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">CONNECTION_FAILED <\/i><i class=\"hk\">= <\/i><i class=\"hd\">3<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">BAD_CONNECTION <\/i><i class=\"hk\">= <\/i><i class=\"hd\">4<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">CANT_GET_NOTICES <\/i><i class=\"hk\">= <\/i><i class=\"hd\">5<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">ASYNC_CANCEL_FAILED <\/i><i class=\"hk\">= <\/i><i class=\"hd\">6<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">ASYNC_QUERY_SENT_FAILED <\/i><i class=\"hk\">= <\/i><i class=\"hd\">7<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">ASYNC_NO_QUERY_IS_SENT <\/i><i class=\"hk\">= <\/i><i class=\"hd\">8<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">ASYNC_NO_EXECUTE_IS_SENT <\/i><i class=\"hk\">= <\/i><i class=\"hd\">9<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">ASYNC_ANOTHER_QUERY_IS_RUNNING <\/i><i class=\"hk\">= <\/i><i class=\"hd\">10<\/i><i class=\"hk\">;\n\n\n    public static function <\/i><i class=\"hd\">noConfig<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'No configuration was provided.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">NO_CONFIG<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">cantChangeWhenConnected<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $type<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'You can\\'t change \\'%s\\' when connected.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$type<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">CANT_CHANGE_WHEN_CONNECTED<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">connectionFailed<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$message <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'.'<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$lastPhpError <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\error_get_last<\/i><i class=\"hk\">();\n        if (<\/i><i class=\"hd\">$lastPhpError <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL <\/i><i class=\"hk\">&amp;&amp; <\/i><i class=\"hd\">$lastPhpError<\/i><i class=\"hk\">[<\/i><i class=\"hs\">'type'<\/i><i class=\"hk\">] === <\/i><i class=\"hd\">\\E_WARNING<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$message <\/i><i class=\"hk\">= <\/i><i class=\"hs\">': ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$lastPhpError<\/i><i class=\"hk\">[<\/i><i class=\"hs\">'message'<\/i><i class=\"hk\">];\n        }\n\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Connection failed' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$message<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">CONNECTION_FAILED<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">badConnection<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Connection failed (bad connection).'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">BAD_CONNECTION<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">cantGetNotices<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Can\\'t get notices from connection. Is notice message tracking not ignored in php.ini - pgsql.ignore_notice = 0 is the right value.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">CANT_GET_NOTICES<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">asyncCancelFailed<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Cancelation of async query failed.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">ASYNC_CANCEL_FAILED<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">asyncQuerySentFailed<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $error<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Sending new async query failed: \\'%s\\'. Did you complete previous async query?'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$error<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">ASYNC_QUERY_SENT_FAILED<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">asyncNoQueryIsSent<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'No async query is sent.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">ASYNC_NO_QUERY_IS_SENT<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">asyncNoExecuteIsSent<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'No async execute is sent.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">ASYNC_NO_EXECUTE_IS_SENT<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">anotherAsyncQueryIsRunning<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $resultQuery<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string $actualQuery<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(\n            <\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(\n                <\/i><i class=\"hs\">'Result async query \\'%s\\' is different from actual connection async query \\'%s\\', async query results can\\'t be read.'<\/i><i class=\"hk\">,\n                <\/i><i class=\"hd\">$resultQuery<\/i><i class=\"hk\">,\n                <\/i><i class=\"hd\">$actualQuery<\/i><i class=\"hk\">,\n            ),\n            <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">ASYNC_ANOTHER_QUERY_IS_RUNNING<\/i><i class=\"hk\">,\n        );\n    }\n\n}\n<\/i><\/code><\/pre>"},"F28":{"name":"Db\/Exceptions\/Exception.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Exceptions\/Exception.php","lines":{"9":1},"coverage":100,"total":1,"class":"light","digits":2,"lineCount":9,"content":"<pre style='margin-left: 2em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db\\Exceptions<\/i><i class=\"hk\">;\n\nabstract class <\/i><i class=\"hd\">Exception <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">\\RuntimeException\n<\/i><i class=\"hk\">{\n\n}\n<\/i><\/code><\/pre>"},"F29":{"name":"Db\/Exceptions\/DataTypeCacheException.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Exceptions\/DataTypeCacheException.php","lines":[],"coverage":0,"total":0,"class":"light","digits":3,"lineCount":16,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db\\Exceptions<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">DataTypeCacheException <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">Exception\n<\/i><i class=\"hk\">{\n    public const <\/i><i class=\"hd\">CANT_LOAD_TYPES <\/i><i class=\"hk\">= <\/i><i class=\"hd\">1<\/i><i class=\"hk\">;\n\n\n    public static function <\/i><i class=\"hd\">cantLoadTypes<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $error<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Can\\'t load types from database: %s.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$error<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">CANT_LOAD_TYPES<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F30":{"name":"Db\/AsyncHelper.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/AsyncHelper.php","lines":{"32":-2,"38":-2,"51":-2,"64":-2,"28":1,"29":1,"31":1,"37":1,"43":1,"44":1,"45":1,"50":1,"56":1,"57":1,"58":1,"63":1,"18":1,"19":1,"67":1},"coverage":100,"total":15,"class":null,"digits":3,"lineCount":67,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">PgSql<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">AsyncHelper\n<\/i><i class=\"hk\">{\n    private <\/i><i class=\"hd\">Connection $connection<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">AsyncQuery<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $asyncQuery <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $asyncExecuteQuery <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n\n    public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Connection $connection<\/i><i class=\"hk\">)\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$connection<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">createAndSetAsyncQuery<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">ResultBuilder $resultBuilder<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">Query $query<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $preparedStatementName <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n    ): <\/i><i class=\"hd\">AsyncQuery\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncQuery <\/i><i class=\"hk\">= new <\/i><i class=\"hd\">AsyncQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$resultBuilder<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$preparedStatementName<\/i><i class=\"hk\">);\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncExecuteQuery <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncQuery<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">getAsyncQuery<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">AsyncQuery<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncQuery<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">setAsyncExecuteQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $asyncExecuteQuery<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncQuery <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncExecuteQuery <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$asyncExecuteQuery<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">getAsyncExecuteQuery<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncExecuteQuery<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">clearQuery<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncQuery <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncExecuteQuery <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n    }\n\n\n    public static function <\/i><i class=\"hd\">checkAsyncQueryResult<\/i><i class=\"hk\">(<\/i><i class=\"hd\">PgSql\\Result $result<\/i><i class=\"hk\">): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return !<\/i><i class=\"hd\">\\in_array<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\pg_result_status<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$result<\/i><i class=\"hk\">), [<\/i><i class=\"hd\">\\PGSQL_BAD_RESPONSE<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\PGSQL_NONFATAL_ERROR<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\PGSQL_FATAL_ERROR<\/i><i class=\"hk\">], <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F31":{"name":"Db\/ResultBuilder.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/ResultBuilder.php","lines":{"42":-2,"50":-2,"60":-2,"76":-2,"92":-2,"107":-2,"47":1,"49":1,"65":1,"66":1,"81":1,"82":1,"97":1,"98":1,"31":1,"32":1,"34":1,"35":1,"36":1,"39":1,"41":1,"55":1,"56":1,"59":1,"71":1,"72":1,"75":1,"87":1,"88":1,"91":1,"106":1,"24":1,"25":1,"26":1,"110":1},"coverage":100,"total":29,"class":null,"digits":4,"lineCount":110,"content":"<pre style='margin-left: 4em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">PgSql<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">ResultBuilder\n<\/i><i class=\"hk\">{\n    private <\/i><i class=\"hd\">Connection $connection<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">Events $events<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">ResultFactory<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $resultFactory <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">RowFactory<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $rowFactory <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">DataTypeParser<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $dataTypeParser <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">DataTypeCache<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $dataTypeCache <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n\n    public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Connection $connection<\/i><i class=\"hk\">, <\/i><i class=\"hd\">Events $events<\/i><i class=\"hk\">)\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$connection<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$events<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">build<\/i><i class=\"hk\">(<\/i><i class=\"hd\">PgSql\\Result $resource<\/i><i class=\"hk\">, <\/i><i class=\"hd\">Query $query<\/i><i class=\"hk\">): <\/i><i class=\"hd\">Result\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$result <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getResultFactory<\/i><i class=\"hk\">()-&gt;<\/i><i class=\"hd\">create<\/i><i class=\"hk\">(\n            <\/i><i class=\"hd\">$resource<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getRowFactory<\/i><i class=\"hk\">(),\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getDataTypeParser<\/i><i class=\"hk\">(),\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getDataTypesCache<\/i><i class=\"hk\">(),\n        );\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onResult<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$result<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$result<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">setResultFactory<\/i><i class=\"hk\">(<\/i><i class=\"hd\">ResultFactory $resultFactory<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultFactory <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$resultFactory<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    private function <\/i><i class=\"hd\">getResultFactory<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">ResultFactory\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultFactory <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultFactory <\/i><i class=\"hk\">= new <\/i><i class=\"hd\">ResultFactories\\Basic<\/i><i class=\"hk\">();\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultFactory<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">setRowFactory<\/i><i class=\"hk\">(<\/i><i class=\"hd\">RowFactory $rowFactory<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rowFactory <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$rowFactory<\/i><i class=\"hk\">;\n    }\n\n\n    private function <\/i><i class=\"hd\">getRowFactory<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">RowFactory\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rowFactory <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rowFactory <\/i><i class=\"hk\">= new <\/i><i class=\"hd\">RowFactories\\Basic<\/i><i class=\"hk\">();\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rowFactory<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">setDataTypeParser<\/i><i class=\"hk\">(<\/i><i class=\"hd\">DataTypeParser $dataTypeParser<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dataTypeParser <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$dataTypeParser<\/i><i class=\"hk\">;\n    }\n\n\n    private function <\/i><i class=\"hd\">getDataTypeParser<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">DataTypeParser\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dataTypeParser <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dataTypeParser <\/i><i class=\"hk\">= new <\/i><i class=\"hd\">DataTypeParsers\\Basic<\/i><i class=\"hk\">();\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dataTypeParser<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">setDataTypeCache<\/i><i class=\"hk\">(<\/i><i class=\"hd\">DataTypeCache $dataTypeCache<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dataTypeCache <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$dataTypeCache<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return array&lt;int, string&gt;|NULL\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">getDataTypesCache<\/i><i class=\"hk\">(): array|<\/i><i class=\"hd\">NULL\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dataTypeCache<\/i><i class=\"hk\">?-&gt;<\/i><i class=\"hd\">load<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">) ?? <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n    }\n\n}\n<\/i><\/code><\/pre>"},"F32":{"name":"Db\/PreparedStatementHelper.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/PreparedStatementHelper.php","lines":{"32":-2,"43":1,"50":-2,"61":1,"66":-2,"22":1,"23":1,"24":1,"25":1,"26":1,"31":1,"42":1,"46":1,"60":1,"64":1,"37":1,"39":1,"40":1,"41":1,"47":1,"48":1,"59":1,"65":1,"69":1},"coverage":100,"total":21,"class":null,"digits":3,"lineCount":69,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nabstract class <\/i><i class=\"hd\">PreparedStatementHelper\n<\/i><i class=\"hk\">{\n    private static <\/i><i class=\"hd\">int $id <\/i><i class=\"hk\">= <\/i><i class=\"hd\">1<\/i><i class=\"hk\">;\n\n    protected <\/i><i class=\"hd\">Connection $connection<\/i><i class=\"hk\">;\n\n    protected <\/i><i class=\"hd\">ResultBuilder $resultBuilder<\/i><i class=\"hk\">;\n\n    protected <\/i><i class=\"hd\">Events $events<\/i><i class=\"hk\">;\n\n    protected <\/i><i class=\"hd\">string $query<\/i><i class=\"hk\">;\n\n    protected <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $statementName <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n\n    public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Connection $connection<\/i><i class=\"hk\">, <\/i><i class=\"hd\">ResultBuilder $resultBuilder<\/i><i class=\"hk\">, <\/i><i class=\"hd\">Events $events<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string $query<\/i><i class=\"hk\">)\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$connection<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultBuilder <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$resultBuilder<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$events<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">;\n    }\n\n\n    protected static function <\/i><i class=\"hd\">getNextStatementName<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hs\">'phpgsql' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">$id<\/i><i class=\"hk\">++;\n    }\n\n\n    protected static function <\/i><i class=\"hd\">prepareQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $query<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$paramIndex <\/i><i class=\"hk\">= <\/i><i class=\"hd\">0<\/i><i class=\"hk\">;\n\n        return (string) <\/i><i class=\"hd\">\\preg_replace_callback<\/i><i class=\"hk\">(\n            <\/i><i class=\"hs\">'\/([\\\\\\\\]?)\\?\/'<\/i><i class=\"hk\">,\n            static function (<\/i><i class=\"hd\">$matches<\/i><i class=\"hk\">) use (&amp;<\/i><i class=\"hd\">$paramIndex<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string <\/i><i class=\"hk\">{\n                if (<\/i><i class=\"hd\">$matches<\/i><i class=\"hk\">[<\/i><i class=\"hd\">1<\/i><i class=\"hk\">] === <\/i><i class=\"hs\">'\\\\'<\/i><i class=\"hk\">) {\n                    return <\/i><i class=\"hs\">'?'<\/i><i class=\"hk\">;\n                }\n\n                return <\/i><i class=\"hs\">'$' <\/i><i class=\"hk\">. ++<\/i><i class=\"hd\">$paramIndex<\/i><i class=\"hk\">;\n            },\n            <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">,\n        );\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $params\n     * @return list&lt;mixed&gt;\n     *\/\n    <\/i><i class=\"hk\">protected static function <\/i><i class=\"hd\">prepareParams<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): array\n    {\n        return <\/i><i class=\"hd\">\\array_map<\/i><i class=\"hk\">(static function (<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) {\n            if (<\/i><i class=\"hd\">\\is_bool<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">)) {\n                return <\/i><i class=\"hd\">$value <\/i><i class=\"hk\">? <\/i><i class=\"hs\">'TRUE' <\/i><i class=\"hk\">: <\/i><i class=\"hs\">'FALSE'<\/i><i class=\"hk\">;\n            }\n\n            return <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n        }, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F33":{"name":"Db\/Result.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Result.php","lines":{"59":-2,"71":-2,"82":-2,"88":-2,"94":-2,"100":-2,"106":1,"107":-2,"113":-2,"118":1,"119":-2,"137":-2,"149":1,"156":1,"158":-2,"172":1,"178":1,"192":-2,"213":1,"219":1,"232":1,"257":1,"262":1,"277":-2,"292":1,"299":1,"306":1,"308":1,"309":1,"310":1,"312":1,"318":1,"332":1,"341":1,"342":1,"343":1,"348":1,"358":-2,"367":-2,"373":-2,"383":-2,"388":1,"389":-2,"399":1,"403":-2,"412":-2,"423":-2,"435":-2,"447":1,"453":1,"454":1,"455":1,"458":1,"475":-2,"56":1,"58":1,"68":1,"70":1,"79":1,"81":1,"87":1,"93":1,"99":1,"112":1,"124":1,"125":1,"126":1,"129":1,"130":1,"132":1,"133":1,"136":1,"147":1,"148":1,"152":1,"153":1,"155":1,"157":1,"168":1,"169":1,"170":1,"171":1,"175":1,"177":1,"180":1,"182":1,"183":1,"186":1,"188":1,"189":1,"191":1,"211":1,"212":1,"216":1,"217":1,"218":1,"222":1,"224":1,"225":1,"228":1,"229":1,"230":1,"231":1,"235":1,"238":1,"241":1,"242":1,"243":1,"244":1,"245":1,"246":1,"248":1,"249":1,"252":1,"253":1,"254":1,"255":1,"256":1,"260":1,"261":1,"266":1,"270":1,"271":1,"275":1,"276":1,"289":1,"290":1,"291":1,"295":1,"297":1,"298":1,"303":1,"304":1,"305":1,"315":1,"317":1,"321":1,"322":1,"324":1,"325":1,"326":1,"328":1,"331":1,"336":1,"337":1,"340":1,"346":1,"347":1,"352":1,"354":1,"355":1,"357":1,"366":1,"372":1,"378":1,"379":1,"382":1,"397":1,"398":1,"402":1,"411":1,"417":1,"418":1,"420":1,"422":1,"431":1,"432":1,"434":1,"440":1,"441":1,"442":1,"443":1,"444":1,"446":1,"450":1,"451":1,"461":1,"464":1,"472":1,"473":1,"474":1,"7":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"478":1},"coverage":100,"total":166,"class":null,"digits":4,"lineCount":478,"content":"<pre style='margin-left: 4em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">PgSql<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">Result <\/i><i class=\"hk\">implements <\/i><i class=\"hd\">ColumnValueParser<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\Countable\n<\/i><i class=\"hk\">{\n    protected <\/i><i class=\"hd\">PgSql\\Result $queryResource<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">Query $query<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">RowFactory $rowFactory<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">DataTypeParser $dataTypeParser<\/i><i class=\"hk\">;\n\n    <\/i><i class=\"hc\">\/** @var array&lt;int, string&gt;|NULL *\/\n    <\/i><i class=\"hk\">private array|<\/i><i class=\"hd\">NULL $dataTypesCache<\/i><i class=\"hk\">;\n\n    <\/i><i class=\"hc\">\/** @template T of Row @var \\Closure(Row): void|NULL *\/\n    <\/i><i class=\"hk\">private <\/i><i class=\"hd\">\\Closure<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $rowFetchMutator <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n    <\/i><i class=\"hc\">\/** @var array&lt;string, callable&gt; *\/\n    <\/i><i class=\"hk\">private array <\/i><i class=\"hd\">$columnsFetchMutator <\/i><i class=\"hk\">= [];\n\n    private <\/i><i class=\"hd\">int<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $affectedRows <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n    <\/i><i class=\"hc\">\/** @var array&lt;string, string&gt;|NULL *\/\n    <\/i><i class=\"hk\">private array|<\/i><i class=\"hd\">NULL $columnsDataTypes <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n    <\/i><i class=\"hc\">\/** @var array&lt;string, bool&gt; *\/\n    <\/i><i class=\"hk\">private array <\/i><i class=\"hd\">$parsedColumns <\/i><i class=\"hk\">= [];\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;int, string&gt;|NULL $dataTypesCache\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">PgSql\\Result $queryResource<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">Query $query<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">RowFactory $rowFactory<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">DataTypeParser $dataTypeParser<\/i><i class=\"hk\">,\n        array|<\/i><i class=\"hd\">NULL $dataTypesCache<\/i><i class=\"hk\">,\n    )\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryResource <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryResource<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rowFactory <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$rowFactory<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dataTypeParser <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$dataTypeParser<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dataTypesCache <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$dataTypesCache<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">setRowFactory<\/i><i class=\"hk\">(<\/i><i class=\"hd\">RowFactory $rowFactory<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rowFactory <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$rowFactory<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @template T of Row\n     * @param \\Closure(T): void $rowFetchMutator\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">setRowFetchMutator<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\Closure $rowFetchMutator<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rowFetchMutator <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$rowFetchMutator<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param non-empty-array&lt;string, callable&gt; $columnsFetchMutator\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">setColumnsFetchMutator<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$columnsFetchMutator<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsFetchMutator <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$columnsFetchMutator<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">free<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">\\pg_free_result<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryResource<\/i><i class=\"hk\">);\n    }\n\n\n    public function <\/i><i class=\"hd\">getResource<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">PgSql\\Result\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryResource<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">seek<\/i><i class=\"hk\">(<\/i><i class=\"hd\">int $row<\/i><i class=\"hk\">): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">\\pg_result_seek<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryResource<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">);\n    }\n\n\n    public function <\/i><i class=\"hd\">count<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">int\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hc\">\/** @phpstan-var int&lt;0, max&gt; *\/\n        <\/i><i class=\"hk\">return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getRowCount<\/i><i class=\"hk\">();\n    }\n\n\n    public function <\/i><i class=\"hd\">getRowCount<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">int\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">\\pg_num_rows<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryResource<\/i><i class=\"hk\">);\n    }\n\n\n    public function <\/i><i class=\"hd\">hasRows<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getRowCount<\/i><i class=\"hk\">() &gt; <\/i><i class=\"hd\">0<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">fetch<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Row<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$data <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\pg_fetch_assoc<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryResource<\/i><i class=\"hk\">);\n        if (<\/i><i class=\"hd\">$data <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            return <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">detectColumnDataTypes<\/i><i class=\"hk\">();\n        <\/i><i class=\"hd\">$row <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rowFactory<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">create<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$data<\/i><i class=\"hk\">);\n\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rowFetchMutator <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">call_user_func<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rowFetchMutator<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * Like fetch(), but returns only first field.\n     *\n     * @return mixed value on success, NULL if no next record\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">fetchSingle<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">mixed\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$row <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">fetch<\/i><i class=\"hk\">();\n        if (<\/i><i class=\"hd\">$row <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            return <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n        }\n\n        <\/i><i class=\"hd\">$columns <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getColumns<\/i><i class=\"hk\">();\n        <\/i><i class=\"hd\">$firstColumn <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">[<\/i><i class=\"hd\">0<\/i><i class=\"hk\">];\n\n        return isset(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsFetchMutator<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$firstColumn<\/i><i class=\"hk\">])\n            ? <\/i><i class=\"hd\">call_user_func<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsFetchMutator<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$firstColumn<\/i><i class=\"hk\">], <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$firstColumn<\/i><i class=\"hk\">])\n            : <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$firstColumn<\/i><i class=\"hk\">];\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * Fetches all records from table.\n     *\n     * @return list&lt;Row&gt;\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">fetchAll<\/i><i class=\"hk\">(<\/i><i class=\"hd\">int<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $offset <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">int<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $limit <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): array\n    {\n        <\/i><i class=\"hd\">$limit <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$limit <\/i><i class=\"hk\">?? -<\/i><i class=\"hd\">1<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">seek<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$offset <\/i><i class=\"hk\">?? <\/i><i class=\"hd\">0<\/i><i class=\"hk\">);\n        <\/i><i class=\"hd\">$row <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">fetch<\/i><i class=\"hk\">();\n        if (<\/i><i class=\"hd\">$row <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            return []; <\/i><i class=\"hc\">\/\/ empty result set\n        <\/i><i class=\"hk\">}\n\n        <\/i><i class=\"hd\">$data <\/i><i class=\"hk\">= [];\n        do {\n            if (<\/i><i class=\"hd\">$limit <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">0<\/i><i class=\"hk\">) {\n                break;\n            }\n            <\/i><i class=\"hd\">$limit<\/i><i class=\"hk\">--;\n\n            if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rowFetchMutator <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">call_user_func<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rowFetchMutator<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">);\n            }\n\n            <\/i><i class=\"hd\">$data<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">;\n\n            <\/i><i class=\"hd\">$row <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">fetch<\/i><i class=\"hk\">();\n        } while (<\/i><i class=\"hd\">$row <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$data<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * Fetches all records from table and returns associative tree.\n     * Examples:\n     * - associative descriptor: col1[]col2\n     *   builds a tree:          $tree[$val1][$index][$val2] = Row\n     * - associative descriptor: col1|col2=col3\n     *   builds a tree:          $tree[$val1][$val2] = $val3\n     * - associative descriptor: col1|col2=[]\n     *   builds a tree:          $tree[$val1][$val2] = Row::toArray()\n     *\n     * @return array&lt;int|string, mixed&gt;\n     * @throws Exceptions\\ResultException\n     * @credit dibi (https:\/\/dibiphp.com\/) | David Grudl\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">fetchAssoc<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $assocDesc<\/i><i class=\"hk\">): array\n    {\n        <\/i><i class=\"hd\">$parts <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\preg_split<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'#(\\[\\]|=|\\|)#'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$assocDesc<\/i><i class=\"hk\">, -<\/i><i class=\"hd\">1<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\PREG_SPLIT_DELIM_CAPTURE <\/i><i class=\"hk\">| <\/i><i class=\"hd\">\\PREG_SPLIT_NO_EMPTY<\/i><i class=\"hk\">);\n        if ((<\/i><i class=\"hd\">$parts <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) || (<\/i><i class=\"hd\">$parts <\/i><i class=\"hk\">=== [])) {\n            throw <\/i><i class=\"hd\">Exceptions\\ResultException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">fetchAssocBadDescriptor<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$assocDesc<\/i><i class=\"hk\">);\n        }\n\n        <\/i><i class=\"hd\">$firstPart <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\reset<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$parts<\/i><i class=\"hk\">);\n        <\/i><i class=\"hd\">$lastPart <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\end<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$parts<\/i><i class=\"hk\">);\n        if ((<\/i><i class=\"hd\">$firstPart <\/i><i class=\"hk\">=== <\/i><i class=\"hs\">'='<\/i><i class=\"hk\">) || (<\/i><i class=\"hd\">$firstPart <\/i><i class=\"hk\">=== <\/i><i class=\"hs\">'|'<\/i><i class=\"hk\">) || (<\/i><i class=\"hd\">$lastPart <\/i><i class=\"hk\">=== <\/i><i class=\"hs\">'='<\/i><i class=\"hk\">) || (<\/i><i class=\"hd\">$lastPart <\/i><i class=\"hk\">=== <\/i><i class=\"hs\">'|'<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\ResultException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">fetchAssocBadDescriptor<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$assocDesc<\/i><i class=\"hk\">);\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">seek<\/i><i class=\"hk\">(<\/i><i class=\"hd\">0<\/i><i class=\"hk\">);\n\n        <\/i><i class=\"hd\">$data <\/i><i class=\"hk\">= [];\n        <\/i><i class=\"hd\">$columnsChecked <\/i><i class=\"hk\">= <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">;\n\n        <\/i><i class=\"hc\">\/\/ make associative tree\n        <\/i><i class=\"hk\">while ((<\/i><i class=\"hd\">$row <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">fetch<\/i><i class=\"hk\">()) !== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            if (!<\/i><i class=\"hd\">$columnsChecked<\/i><i class=\"hk\">) {\n                foreach (<\/i><i class=\"hd\">$parts <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$checkPart<\/i><i class=\"hk\">) {\n                    if ((<\/i><i class=\"hd\">$checkPart <\/i><i class=\"hk\">!== <\/i><i class=\"hs\">'[]'<\/i><i class=\"hk\">) &amp;&amp; (<\/i><i class=\"hd\">$checkPart <\/i><i class=\"hk\">!== <\/i><i class=\"hs\">'='<\/i><i class=\"hk\">) &amp;&amp; (<\/i><i class=\"hd\">$checkPart <\/i><i class=\"hk\">!== <\/i><i class=\"hs\">'|'<\/i><i class=\"hk\">) &amp;&amp; !<\/i><i class=\"hd\">$row<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">hasColumn<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$checkPart<\/i><i class=\"hk\">)) {\n                        throw <\/i><i class=\"hd\">Exceptions\\ResultException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">fetchAssocNoColumn<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$checkPart<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$assocDesc<\/i><i class=\"hk\">);\n                    }\n                }\n                <\/i><i class=\"hd\">$columnsChecked <\/i><i class=\"hk\">= <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">;\n            }\n\n            <\/i><i class=\"hd\">$x <\/i><i class=\"hk\">= &amp;<\/i><i class=\"hd\">$data<\/i><i class=\"hk\">;\n\n            <\/i><i class=\"hc\">\/\/ iterative deepening\n            <\/i><i class=\"hk\">foreach (<\/i><i class=\"hd\">$parts <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$i <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$part<\/i><i class=\"hk\">) {\n                if (<\/i><i class=\"hd\">$part <\/i><i class=\"hk\">=== <\/i><i class=\"hs\">'[]'<\/i><i class=\"hk\">) { <\/i><i class=\"hc\">\/\/ indexed-array node\n                    <\/i><i class=\"hd\">$x <\/i><i class=\"hk\">= &amp;<\/i><i class=\"hd\">$x<\/i><i class=\"hk\">[];\n                } else if (<\/i><i class=\"hd\">$part <\/i><i class=\"hk\">=== <\/i><i class=\"hs\">'='<\/i><i class=\"hk\">) { <\/i><i class=\"hc\">\/\/ \"value\" node\n                    <\/i><i class=\"hk\">if (<\/i><i class=\"hd\">$parts<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$i <\/i><i class=\"hk\">+ <\/i><i class=\"hd\">1<\/i><i class=\"hk\">] === <\/i><i class=\"hs\">'[]'<\/i><i class=\"hk\">) { <\/i><i class=\"hc\">\/\/ get Row as array\n                        <\/i><i class=\"hd\">$x <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">toArray<\/i><i class=\"hk\">();\n                    } else { <\/i><i class=\"hc\">\/\/ get concrete Row column\n                        <\/i><i class=\"hd\">$key <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$parts<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$i <\/i><i class=\"hk\">+ <\/i><i class=\"hd\">1<\/i><i class=\"hk\">];\n                        <\/i><i class=\"hd\">$x <\/i><i class=\"hk\">= isset(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsFetchMutator<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">]) ? <\/i><i class=\"hd\">call_user_func<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsFetchMutator<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">], <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">) : <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">;\n                    }\n\n                    continue <\/i><i class=\"hd\">2<\/i><i class=\"hk\">;\n                } else if (<\/i><i class=\"hd\">$part <\/i><i class=\"hk\">!== <\/i><i class=\"hs\">'|'<\/i><i class=\"hk\">) { <\/i><i class=\"hc\">\/\/ associative-array node\n                    <\/i><i class=\"hk\">if (isset(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsFetchMutator<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$part<\/i><i class=\"hk\">])) {\n                        <\/i><i class=\"hd\">$val <\/i><i class=\"hk\">= <\/i><i class=\"hd\">call_user_func<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsFetchMutator<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$part<\/i><i class=\"hk\">], <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">$part<\/i><i class=\"hk\">);\n                        if ((<\/i><i class=\"hd\">$val <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) &amp;&amp; !<\/i><i class=\"hd\">\\is_scalar<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$val<\/i><i class=\"hk\">)) {\n                            throw <\/i><i class=\"hd\">Exceptions\\ResultException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">fetchMutatorBadReturnType<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$part<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$val<\/i><i class=\"hk\">);\n                        }\n                    } else {\n                        <\/i><i class=\"hd\">$val <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">$part<\/i><i class=\"hk\">;\n                        if ((<\/i><i class=\"hd\">$val <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) &amp;&amp; !<\/i><i class=\"hd\">\\is_scalar<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$val<\/i><i class=\"hk\">)) {\n                            throw <\/i><i class=\"hd\">Exceptions\\ResultException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">fetchAssocOnlyScalarAsKey<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$assocDesc<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$part<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$val<\/i><i class=\"hk\">);\n                        }\n                    }\n\n                    <\/i><i class=\"hd\">$x <\/i><i class=\"hk\">= &amp;<\/i><i class=\"hd\">$x<\/i><i class=\"hk\">[(string) <\/i><i class=\"hd\">$val<\/i><i class=\"hk\">];\n                }\n            }\n\n            if (<\/i><i class=\"hd\">$x <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) { <\/i><i class=\"hc\">\/\/ build leaf\n                <\/i><i class=\"hd\">$x <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">;\n            }\n        }\n\n        unset(<\/i><i class=\"hd\">$x<\/i><i class=\"hk\">);\n        return <\/i><i class=\"hd\">$data<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * Fetches all records from table like $key =&gt; $value pairs.\n     *\n     * @return array&lt;int|string, mixed&gt;\n     * @throws Exceptions\\ResultException\n     * @credit dibi (https:\/\/dibiphp.com\/) | David Grudl\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">fetchPairs<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $key <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $value <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): array\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">seek<\/i><i class=\"hk\">(<\/i><i class=\"hd\">0<\/i><i class=\"hk\">);\n        <\/i><i class=\"hd\">$row <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">fetch<\/i><i class=\"hk\">();\n        if (<\/i><i class=\"hd\">$row <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            return []; <\/i><i class=\"hc\">\/\/ empty result set\n        <\/i><i class=\"hk\">}\n\n        <\/i><i class=\"hd\">$data <\/i><i class=\"hk\">= [];\n\n        if (<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            if (<\/i><i class=\"hd\">$key <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                throw <\/i><i class=\"hd\">Exceptions\\ResultException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">fetchPairsBadColumns<\/i><i class=\"hk\">();\n            }\n\n            <\/i><i class=\"hc\">\/\/ autodetect\n            <\/i><i class=\"hd\">$tmp <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\array_keys<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$row<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">toArray<\/i><i class=\"hk\">());\n            <\/i><i class=\"hd\">$key <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$tmp<\/i><i class=\"hk\">[<\/i><i class=\"hd\">0<\/i><i class=\"hk\">];\n            if (<\/i><i class=\"hd\">\\count<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$row<\/i><i class=\"hk\">) &lt; <\/i><i class=\"hd\">2<\/i><i class=\"hk\">) { <\/i><i class=\"hc\">\/\/ indexed-array\n                <\/i><i class=\"hd\">$fetchMutator <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsFetchMutator<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">] ?? <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n                do {\n                    <\/i><i class=\"hd\">$data<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$fetchMutator <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL <\/i><i class=\"hk\">? <\/i><i class=\"hd\">call_user_func<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$fetchMutator<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">]) : <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">];\n                    <\/i><i class=\"hd\">$row <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">fetch<\/i><i class=\"hk\">();\n                } while (<\/i><i class=\"hd\">$row <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">);\n\n                return <\/i><i class=\"hd\">$data<\/i><i class=\"hk\">;\n            }\n\n            <\/i><i class=\"hd\">$value <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$tmp<\/i><i class=\"hk\">[<\/i><i class=\"hd\">1<\/i><i class=\"hk\">];\n        } else {\n            if (<\/i><i class=\"hd\">$row<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">hasColumn<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) === <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n                throw <\/i><i class=\"hd\">Exceptions\\ResultException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">noColumn<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n            }\n\n            if (<\/i><i class=\"hd\">$key <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) { <\/i><i class=\"hc\">\/\/ indexed-array\n                <\/i><i class=\"hd\">$fetchMutator <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsFetchMutator<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">] ?? <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n                do {\n                    <\/i><i class=\"hd\">$data<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$fetchMutator <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL <\/i><i class=\"hk\">? <\/i><i class=\"hd\">call_user_func<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$fetchMutator<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">]) : <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">];\n                    <\/i><i class=\"hd\">$row <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">fetch<\/i><i class=\"hk\">();\n                } while (<\/i><i class=\"hd\">$row <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">);\n\n                return <\/i><i class=\"hd\">$data<\/i><i class=\"hk\">;\n            }\n\n            if (<\/i><i class=\"hd\">$row<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">hasColumn<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">) === <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n                throw <\/i><i class=\"hd\">Exceptions\\ResultException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">noColumn<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">);\n            }\n        }\n\n        <\/i><i class=\"hd\">$fetchMutatorKey <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsFetchMutator<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">] ?? <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$fetchMutatorValue <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsFetchMutator<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">] ?? <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n        do {\n            if (<\/i><i class=\"hd\">$fetchMutatorKey <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$keyValue <\/i><i class=\"hk\">= <\/i><i class=\"hd\">call_user_func<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$fetchMutatorKey<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">]);\n                if ((<\/i><i class=\"hd\">$keyValue <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) &amp;&amp; !<\/i><i class=\"hd\">\\is_scalar<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$keyValue<\/i><i class=\"hk\">)) {\n                    throw <\/i><i class=\"hd\">Exceptions\\ResultException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">fetchMutatorBadReturnType<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$keyValue<\/i><i class=\"hk\">);\n                }\n            } else {\n                <\/i><i class=\"hd\">$keyValue <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">];\n                if ((<\/i><i class=\"hd\">$keyValue <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) &amp;&amp; !<\/i><i class=\"hd\">\\is_scalar<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$keyValue<\/i><i class=\"hk\">)) {\n                    throw <\/i><i class=\"hd\">Exceptions\\ResultException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">fetchPairsOnlyScalarAsKey<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$keyValue<\/i><i class=\"hk\">);\n                }\n            }\n\n            <\/i><i class=\"hd\">$data<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$keyValue<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$fetchMutatorValue <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL <\/i><i class=\"hk\">? <\/i><i class=\"hd\">call_user_func<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$fetchMutatorValue<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">]) : <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">];\n\n            <\/i><i class=\"hd\">$row <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">fetch<\/i><i class=\"hk\">();\n        } while (<\/i><i class=\"hd\">$row <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$data<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return RowIterator&lt;int, Row&gt;\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">fetchIterator<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">RowIterator\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">RowIterator<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">);\n    }\n\n\n    public function <\/i><i class=\"hd\">getQuery<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Query\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">getAffectedRows<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">int\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">affectedRows <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">affectedRows <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\pg_affected_rows<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryResource<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">affectedRows<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">hasAffectedRows<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getAffectedRows<\/i><i class=\"hk\">() &gt; <\/i><i class=\"hd\">0<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ResultException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">getColumnType<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$type <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getColumnsDataTypes<\/i><i class=\"hk\">()[<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">] ?? <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n        if (<\/i><i class=\"hd\">$type <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\ResultException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">noColumn<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$type<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return list&lt;string&gt;\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">getColumns<\/i><i class=\"hk\">(): array\n    {\n        return <\/i><i class=\"hd\">\\array_keys<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getColumnsDataTypes<\/i><i class=\"hk\">());\n    }\n\n\n    public function <\/i><i class=\"hd\">parseColumnValue<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed $rawValue<\/i><i class=\"hk\">): <\/i><i class=\"hd\">mixed\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">\\assert<\/i><i class=\"hk\">((<\/i><i class=\"hd\">$rawValue <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) || <\/i><i class=\"hd\">\\is_string<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$rawValue<\/i><i class=\"hk\">)); <\/i><i class=\"hc\">\/\/ database result all values as string or NULL\n        <\/i><i class=\"hd\">$value <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dataTypeParser<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parse<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getColumnType<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">), <\/i><i class=\"hd\">$rawValue<\/i><i class=\"hk\">);\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parsedColumns<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return array&lt;string, string&gt;\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">getColumnsDataTypes<\/i><i class=\"hk\">(): array\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">detectColumnDataTypes<\/i><i class=\"hk\">();\n        <\/i><i class=\"hd\">\\assert<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsDataTypes <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsDataTypes<\/i><i class=\"hk\">;\n    }\n\n\n    private function <\/i><i class=\"hd\">detectColumnDataTypes<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsDataTypes <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsDataTypes <\/i><i class=\"hk\">= [];\n            <\/i><i class=\"hd\">$fieldsCnt <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\pg_num_fields<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryResource<\/i><i class=\"hk\">);\n            for (<\/i><i class=\"hd\">$i <\/i><i class=\"hk\">= <\/i><i class=\"hd\">0<\/i><i class=\"hk\">; <\/i><i class=\"hd\">$i <\/i><i class=\"hk\">&lt; <\/i><i class=\"hd\">$fieldsCnt<\/i><i class=\"hk\">; <\/i><i class=\"hd\">$i<\/i><i class=\"hk\">++) {\n                <\/i><i class=\"hd\">$name <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\pg_field_name<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryResource<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$i<\/i><i class=\"hk\">);\n\n                if (isset(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsDataTypes<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$name<\/i><i class=\"hk\">])) {\n                    throw <\/i><i class=\"hd\">Exceptions\\ResultException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">columnNameIsAlreadyInUse<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$name<\/i><i class=\"hk\">);\n                }\n\n                if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dataTypesCache <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                    <\/i><i class=\"hd\">$type <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\pg_field_type<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryResource<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$i<\/i><i class=\"hk\">);\n                } else {\n                    <\/i><i class=\"hd\">$typeOid <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\pg_field_type_oid<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryResource<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$i<\/i><i class=\"hk\">);\n                    if (!isset(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dataTypesCache<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$typeOid<\/i><i class=\"hk\">])) {\n                        throw <\/i><i class=\"hd\">Exceptions\\ResultException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">noOidInDataTypeCache<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$typeOid<\/i><i class=\"hk\">);\n                    }\n\n                    <\/i><i class=\"hd\">$type <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dataTypesCache<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$typeOid<\/i><i class=\"hk\">];\n                }\n\n                <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsDataTypes<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$name<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$type<\/i><i class=\"hk\">;\n            }\n        }\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return array&lt;string, bool&gt;|NULL NULL = no column was used\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">getParsedColumns<\/i><i class=\"hk\">(): array|<\/i><i class=\"hd\">NULL\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parsedColumns <\/i><i class=\"hk\">=== []\n            ? <\/i><i class=\"hd\">NULL\n            <\/i><i class=\"hk\">: <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parsedColumns <\/i><i class=\"hk\">+ <\/i><i class=\"hd\">\\array_fill_keys<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getColumns<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F34":{"name":"Db\/AsyncPreparedStatement.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/AsyncPreparedStatement.php","lines":{"27":-2,"43":1,"44":1,"45":-1,"46":1,"51":1,"55":-2,"67":-1,"68":-1,"69":-1,"70":-1,"76":1,"77":1,"78":1,"79":1,"87":-2,"5":1,"18":1,"19":1,"20":1,"25":1,"26":1,"35":1,"37":1,"39":1,"41":1,"42":1,"50":1,"54":1,"60":1,"61":1,"63":1,"65":1,"66":1,"74":1,"75":1,"83":1,"86":1,"90":1},"coverage":86,"total":36,"class":null,"digits":3,"lineCount":90,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">AsyncPreparedStatement <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">PreparedStatementHelper\n<\/i><i class=\"hk\">{\n    private <\/i><i class=\"hd\">AsyncHelper $asyncHelper<\/i><i class=\"hk\">;\n\n\n    public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">AsyncHelper $asyncHelper<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">Connection $connection<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">ResultBuilder $resultBuilder<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">Events $events<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string $query<\/i><i class=\"hk\">,\n    )\n    {\n        <\/i><i class=\"hd\">parent<\/i><i class=\"hk\">::<\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$connection<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$resultBuilder<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$events<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">);\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncHelper <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$asyncHelper<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">execute<\/i><i class=\"hk\">(<\/i><i class=\"hd\">mixed <\/i><i class=\"hk\">...<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">AsyncQuery\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">\\assert<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\array_is_list<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">));\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">executeArgs<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $params\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">executeArgs<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">AsyncQuery\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$statementName <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">prepareStatement<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$params <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">prepareParams<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n\n        <\/i><i class=\"hd\">$query <\/i><i class=\"hk\">= new <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n\n        <\/i><i class=\"hd\">$success <\/i><i class=\"hk\">= @<\/i><i class=\"hd\">\\pg_send_execute<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getResource<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">$statementName<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">); <\/i><i class=\"hc\">\/\/ intentionally @\n        <\/i><i class=\"hk\">if (<\/i><i class=\"hd\">$success <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">asyncPreparedStatementQueryFailed<\/i><i class=\"hk\">(\n                <\/i><i class=\"hd\">$statementName<\/i><i class=\"hk\">,\n                <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">,\n                <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getLastError<\/i><i class=\"hk\">(),\n            );\n        }\n\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">hasOnQuery<\/i><i class=\"hk\">()) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">events<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">onQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$statementName<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncHelper<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">createAndSetAsyncQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resultBuilder<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$statementName<\/i><i class=\"hk\">);\n    }\n\n\n    private function <\/i><i class=\"hd\">prepareStatement<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">statementName <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$statementName <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">getNextStatementName<\/i><i class=\"hk\">();\n\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">prepareQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">);\n\n            <\/i><i class=\"hd\">$success <\/i><i class=\"hk\">= @<\/i><i class=\"hd\">\\pg_send_prepare<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getResource<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">$statementName<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">); <\/i><i class=\"hc\">\/\/ intentionally @\n            <\/i><i class=\"hk\">if (<\/i><i class=\"hd\">$success <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n                throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">asyncPreparedStatementQueryFailed<\/i><i class=\"hk\">(\n                    <\/i><i class=\"hd\">$statementName<\/i><i class=\"hk\">,\n                    new <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">, []),\n                    <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getLastError<\/i><i class=\"hk\">(),\n                );\n            }\n\n            <\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\pg_get_result<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getResource<\/i><i class=\"hk\">());\n            if ((<\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) || (!<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncHelper<\/i><i class=\"hk\">::<\/i><i class=\"hd\">checkAsyncQueryResult<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$resource<\/i><i class=\"hk\">))) {\n                throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">asyncPreparedStatementQueryFailed<\/i><i class=\"hk\">(\n                    <\/i><i class=\"hd\">$statementName<\/i><i class=\"hk\">,\n                    new <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">, []),\n                    (<\/i><i class=\"hd\">$resource <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) ? (string) <\/i><i class=\"hd\">\\pg_result_error<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$resource<\/i><i class=\"hk\">) : <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getLastError<\/i><i class=\"hk\">(),\n                );\n            }\n\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">statementName <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$statementName<\/i><i class=\"hk\">;\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">statementName<\/i><i class=\"hk\">;\n    }\n\n}\n<\/i><\/code><\/pre>"},"F35":{"name":"Db\/Sql.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Sql.php","lines":{"11":1},"coverage":100,"total":1,"class":"light","digits":3,"lineCount":11,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\ninterface <\/i><i class=\"hd\">Sql\n<\/i><i class=\"hk\">{\n\n    function <\/i><i class=\"hd\">getSqlDefinition<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">SqlDefinition<\/i><i class=\"hk\">;\n\n}\n<\/i><\/code><\/pre>"},"F36":{"name":"Db\/Helper.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Db\/Helper.php","lines":{"14":-2,"23":-2,"32":1,"37":1,"40":1,"46":1,"51":-2,"59":1,"60":1,"61":1,"62":1,"66":1,"67":-2,"13":1,"39":1,"43":1,"44":1,"22":1,"31":1,"35":1,"36":1,"38":1,"45":1,"50":1,"70":1},"coverage":100,"total":21,"class":null,"digits":3,"lineCount":70,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">Helper\n<\/i><i class=\"hk\">{\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $array\n     *\/\n    <\/i><i class=\"hk\">public static function <\/i><i class=\"hd\">createStringPgArray<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$array<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">doCreatePgArray<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$array<\/i><i class=\"hk\">, <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $array\n     *\/\n    <\/i><i class=\"hk\">public static function <\/i><i class=\"hd\">createPgArray<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$array<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">doCreatePgArray<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$array<\/i><i class=\"hk\">, <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $array\n     *\/\n    <\/i><i class=\"hk\">private static function <\/i><i class=\"hd\">doCreatePgArray<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$array<\/i><i class=\"hk\">, <\/i><i class=\"hd\">bool $string<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$array <\/i><i class=\"hk\">=== []) {\n            return <\/i><i class=\"hs\">'{}'<\/i><i class=\"hk\">;\n        }\n\n        foreach (<\/i><i class=\"hd\">$array <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$i <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) {\n            if (<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$array<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$i<\/i><i class=\"hk\">] = <\/i><i class=\"hs\">'NULL'<\/i><i class=\"hk\">;\n            } else if (<\/i><i class=\"hd\">$string<\/i><i class=\"hk\">) {\n                if (<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">\\BackedEnum<\/i><i class=\"hk\">) {\n                    <\/i><i class=\"hd\">$value <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">value<\/i><i class=\"hk\">;\n                }\n\n                <\/i><i class=\"hd\">\\assert<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\is_scalar<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">));\n                <\/i><i class=\"hd\">$array<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$i<\/i><i class=\"hk\">] = <\/i><i class=\"hs\">'\"' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\str_replace<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'\"'<\/i><i class=\"hk\">, <\/i><i class=\"hs\">'\\\"'<\/i><i class=\"hk\">, (string) <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) . <\/i><i class=\"hs\">'\"'<\/i><i class=\"hk\">;\n            } else if (<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">\\BackedEnum<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$array<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$i<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">value<\/i><i class=\"hk\">;\n            }\n        }\n\n        return <\/i><i class=\"hs\">'{' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">','<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$array<\/i><i class=\"hk\">) . <\/i><i class=\"hs\">'}'<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, string|int|float|NULL&gt; $config\n     *\/\n    <\/i><i class=\"hk\">public static function <\/i><i class=\"hd\">prepareConfig<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$config<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$configItems <\/i><i class=\"hk\">= [];\n        foreach (<\/i><i class=\"hd\">$config <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$key <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) {\n            if (<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$configItems<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$key <\/i><i class=\"hk\">. <\/i><i class=\"hs\">'=\\'' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$value <\/i><i class=\"hk\">. <\/i><i class=\"hs\">'\\''<\/i><i class=\"hk\">;\n            }\n        }\n\n        return <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">' '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$configItems<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F37":{"name":"Fluent\/QueryBuilder.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Fluent\/QueryBuilder.php","lines":{"68":1,"72":-2,"81":-2,"110":-2,"155":1,"165":1,"179":1,"181":1,"207":1,"234":-2,"244":1,"245":1,"247":1,"264":1,"272":1,"273":1,"275":1,"293":-2,"315":-2,"330":1,"334":1,"338":1,"364":-1,"382":-2,"393":-2,"418":-2,"428":1,"432":1,"434":1,"438":-2,"451":1,"458":1,"475":-2,"510":-2,"529":-1,"543":-1,"546":1,"557":-2,"575":-2,"587":-2,"604":1,"605":-2,"632":-2,"651":-2,"667":1,"669":1,"670":-2,"705":-1,"706":-2,"736":-2,"754":1,"755":1,"762":-2,"774":1,"780":-2,"793":1,"798":1,"802":-2,"813":-2,"819":-2,"47":1,"49":1,"51":1,"52":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"71":1,"80":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"109":1,"121":1,"123":1,"124":1,"126":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1,"146":1,"148":1,"150":1,"152":1,"153":1,"158":1,"159":1,"160":1,"161":1,"162":1,"164":1,"168":1,"171":1,"174":1,"175":1,"176":1,"178":1,"180":1,"182":1,"183":1,"185":1,"186":1,"187":1,"188":1,"191":1,"192":1,"193":1,"196":1,"198":1,"199":1,"201":1,"203":1,"204":1,"205":1,"206":1,"210":1,"211":1,"212":1,"213":1,"215":1,"219":1,"221":1,"222":1,"223":1,"229":1,"230":1,"231":1,"232":1,"233":1,"243":1,"246":1,"249":1,"250":1,"252":1,"263":1,"267":1,"269":1,"270":1,"271":1,"274":1,"277":1,"278":1,"282":1,"283":1,"285":1,"287":1,"288":1,"289":1,"290":1,"291":1,"292":1,"304":1,"306":1,"307":1,"309":1,"312":1,"313":1,"314":1,"326":1,"328":1,"329":1,"333":1,"337":1,"341":1,"342":1,"344":1,"346":1,"347":1,"349":1,"351":1,"352":1,"356":1,"357":1,"359":1,"361":1,"362":1,"363":1,"367":1,"369":1,"370":1,"373":1,"374":1,"375":1,"378":1,"381":1,"392":1,"404":1,"406":1,"407":1,"408":1,"409":1,"411":1,"412":1,"413":1,"414":1,"417":1,"427":1,"431":1,"433":1,"437":1,"450":1,"454":1,"455":1,"456":1,"457":1,"461":1,"463":1,"466":1,"467":1,"468":1,"471":1,"474":1,"486":1,"488":1,"489":1,"490":1,"491":1,"492":1,"494":1,"500":1,"501":1,"502":1,"504":1,"509":1,"521":1,"523":1,"524":1,"525":1,"528":1,"532":1,"533":1,"535":1,"536":1,"538":1,"542":1,"545":1,"549":1,"550":1,"556":1,"568":1,"570":1,"571":1,"574":1,"584":1,"585":1,"586":1,"598":1,"600":1,"601":1,"616":1,"618":1,"619":1,"622":1,"623":1,"624":1,"625":1,"626":1,"628":1,"631":1,"642":1,"644":1,"645":1,"648":1,"650":1,"661":1,"663":1,"664":1,"682":1,"684":1,"685":1,"688":1,"689":1,"690":1,"692":1,"693":1,"696":1,"699":1,"700":1,"701":1,"702":1,"717":1,"719":1,"720":1,"723":1,"724":1,"725":1,"727":1,"728":1,"729":1,"732":1,"735":1,"747":1,"748":1,"751":1,"752":1,"753":1,"758":1,"761":1,"773":1,"777":1,"779":1,"788":1,"789":1,"790":1,"791":1,"797":1,"801":1,"811":1,"812":1,"818":1,"822":1},"coverage":99,"total":314,"class":null,"digits":4,"lineCount":822,"content":"<pre style='margin-left: 4em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Fluent<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\n<\/i><i class=\"hc\">\/**\n * @phpstan-type QueryParams array{\n *   select: array&lt;int|string, string|int|\\BackedEnum|Query|Db\\Sql&gt;,\n *   distinct: bool,\n *   distinctOn: list&lt;string&gt;,\n *   tables: array&lt;string, array{0: string, 1: string}&gt;,\n *   table-types: array{main: string|NULL, from: list&lt;string&gt;, joins: list&lt;string&gt;, using: string|NULL},\n *   on-conditions: array&lt;string, Condition&gt;,\n *   lateral-tables: array&lt;string, string&gt;,\n *   where: Condition|NULL,\n *   groupBy: array&lt;string&gt;,\n *   having: Condition|NULL,\n *   orderBy: array&lt;string|Db\\Sql|Query&gt;,\n *   limit: int|NULL,\n *   offset: int|NULL,\n *   combine-queries: list&lt;array{0: string|Query|Db\\Sql, 1: string}&gt;,\n *   insert-columns: array&lt;string&gt;,\n *   insert-onconflict: array{columns-or-constraint: string|list&lt;string&gt;|FALSE|NULL, where: Condition|NULL, do: array&lt;int|string, string|Db\\Sql&gt;|FALSE|NULL, do-where: Condition|NULL},\n *   returning: array&lt;int|string, string|int|Query|Db\\Sql&gt;,\n *   data: array&lt;string, mixed&gt;,\n *   rows: array&lt;int, array&lt;string, mixed&gt;&gt;,\n *   merge: list&lt;array{0: string, 1: string|Db\\Sql, 2: Condition|NULL}&gt;,\n *   with: array{queries: array&lt;string, string|Query|Db\\Sql&gt;, queries-suffix: array&lt;string, string&gt;, queries-not-materialized: array&lt;string, string&gt;, recursive: bool},\n *   prefix: list&lt;array&lt;mixed&gt;&gt;,\n *   suffix: list&lt;array&lt;mixed&gt;&gt;\n * }\n *\/\n<\/i><i class=\"hk\">class <\/i><i class=\"hd\">QueryBuilder\n<\/i><i class=\"hk\">{\n    private const <\/i><i class=\"hd\">TABLE_NAME <\/i><i class=\"hk\">= <\/i><i class=\"hd\">0<\/i><i class=\"hk\">;\n    private const <\/i><i class=\"hd\">TABLE_TYPE <\/i><i class=\"hk\">= <\/i><i class=\"hd\">1<\/i><i class=\"hk\">;\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">createSqlDefinition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $queryType<\/i><i class=\"hk\">, array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">): <\/i><i class=\"hd\">Db\\SqlDefinition\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$params <\/i><i class=\"hk\">= [];\n\n        <\/i><i class=\"hd\">$sql <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getPrefixSuffix<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_PREFIX<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n\n        if (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WITH<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">WITH_QUERIES<\/i><i class=\"hk\">] !== []) {\n            <\/i><i class=\"hd\">$sql <\/i><i class=\"hk\">.= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">createWith<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n        }\n\n        if (<\/i><i class=\"hd\">$queryType <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">QUERY_SELECT<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$sql <\/i><i class=\"hk\">.= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">createSelect<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">) . <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getPrefixSuffix<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_SUFFIX<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n        } else if (<\/i><i class=\"hd\">$queryType <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">QUERY_INSERT<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$sql <\/i><i class=\"hk\">.= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">createInsert<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n        } else if (<\/i><i class=\"hd\">$queryType <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">QUERY_UPDATE<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$sql <\/i><i class=\"hk\">.= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">createUpdate<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n        } else if (<\/i><i class=\"hd\">$queryType <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">QUERY_DELETE<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$sql <\/i><i class=\"hk\">.= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">createDelete<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n        } else if (<\/i><i class=\"hd\">$queryType <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">QUERY_MERGE<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$sql <\/i><i class=\"hk\">.= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">createMerge<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n        } else if (<\/i><i class=\"hd\">$queryType <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">QUERY_TRUNCATE<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$sql <\/i><i class=\"hk\">.= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">createTruncate<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">) . <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getPrefixSuffix<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_SUFFIX<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n        } else {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">badQueryType<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryType<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">prepareSql<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $params\n     *\/\n    <\/i><i class=\"hk\">protected function <\/i><i class=\"hd\">prepareSql<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $sql<\/i><i class=\"hk\">, array <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">Db\\SqlDefinition\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">Db\\SqlDefinition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param list&lt;mixed&gt; $params\n     * @param list&lt;string&gt;|NULL $insertSelectColumnNames\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">createSelect<\/i><i class=\"hk\">(\n        array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">,\n        array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">,\n        array|<\/i><i class=\"hd\">NULL <\/i><i class=\"hk\">&amp;<\/i><i class=\"hd\">$insertSelectColumnNames <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n    ): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$selectSql <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'SELECT ' <\/i><i class=\"hk\">.\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getSelectDistinct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getSelectColumns<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$insertSelectColumnNames<\/i><i class=\"hk\">) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getFrom<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$insertSelectColumnNames <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getJoins<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getWhere<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getGroupBy<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getHaving<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getOrderBy<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getLimit<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getOffset<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">combine<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$selectSql<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">createInsert<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        [<\/i><i class=\"hs\">'table' <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$mainTable<\/i><i class=\"hk\">, <\/i><i class=\"hs\">'alias' <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$mainTableAlias<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getMainTableMetadata<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">);\n\n        <\/i><i class=\"hd\">$insert <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'INSERT INTO ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">processTable<\/i><i class=\"hk\">(\n            <\/i><i class=\"hd\">$mainTable<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">$mainTableAlias<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">,\n        );\n\n        <\/i><i class=\"hd\">$columns <\/i><i class=\"hk\">= [];\n        <\/i><i class=\"hd\">$rows <\/i><i class=\"hk\">= [];\n        if (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DATA<\/i><i class=\"hk\">] !== []) {\n            <\/i><i class=\"hd\">$values <\/i><i class=\"hk\">= [];\n            foreach (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DATA<\/i><i class=\"hk\">] as <\/i><i class=\"hd\">$column <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$column<\/i><i class=\"hk\">;\n                <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">prepareRow<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$values<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n            }\n            <\/i><i class=\"hd\">$rows<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">', '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$values<\/i><i class=\"hk\">);\n        } else if (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ROWS<\/i><i class=\"hk\">] !== []) {\n            <\/i><i class=\"hd\">$columns <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_INSERT_COLUMNS<\/i><i class=\"hk\">];\n            foreach (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ROWS<\/i><i class=\"hk\">] as <\/i><i class=\"hd\">$row<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$values <\/i><i class=\"hk\">= [];\n                <\/i><i class=\"hd\">$fillColumns <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$columns <\/i><i class=\"hk\">=== [];\n                foreach (<\/i><i class=\"hd\">$row <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$column <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) {\n                    if (<\/i><i class=\"hd\">$fillColumns<\/i><i class=\"hk\">) {\n                        <\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$column<\/i><i class=\"hk\">;\n                    }\n                    <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">prepareRow<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$values<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n                }\n                <\/i><i class=\"hd\">$rows<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">', '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$values<\/i><i class=\"hk\">);\n            }\n        } else if (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_SELECT<\/i><i class=\"hk\">] !== []) {\n            <\/i><i class=\"hd\">$columns <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_INSERT_COLUMNS<\/i><i class=\"hk\">];\n        } else {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">noDataToInsert<\/i><i class=\"hk\">();\n        }\n\n        if (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_SELECT<\/i><i class=\"hk\">] !== []) {\n            <\/i><i class=\"hd\">$selectColumns <\/i><i class=\"hk\">= [];\n            <\/i><i class=\"hd\">$data <\/i><i class=\"hk\">= <\/i><i class=\"hs\">' ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">createSelect<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$selectColumns<\/i><i class=\"hk\">);\n            if (<\/i><i class=\"hd\">$columns <\/i><i class=\"hk\">=== []) {\n                <\/i><i class=\"hd\">\\assert<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$selectColumns <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">);\n\n                if ((<\/i><i class=\"hd\">\\count<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$selectColumns<\/i><i class=\"hk\">) &gt; <\/i><i class=\"hd\">1<\/i><i class=\"hk\">) &amp;&amp; <\/i><i class=\"hd\">\\in_array<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'*'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$selectColumns<\/i><i class=\"hk\">, <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">)) {\n                    throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">selectAllColumnsCantBeCombinedWithConcreteColumnForInsertSelectWithColumnDetection<\/i><i class=\"hk\">();\n                }\n\n                <\/i><i class=\"hd\">$columns <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$selectColumns<\/i><i class=\"hk\">;\n            }\n        } else {\n            <\/i><i class=\"hd\">$data <\/i><i class=\"hk\">= <\/i><i class=\"hs\">' VALUES(' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'), ('<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$rows<\/i><i class=\"hk\">) . <\/i><i class=\"hs\">')'<\/i><i class=\"hk\">;\n        }\n\n        <\/i><i class=\"hd\">$onConflict <\/i><i class=\"hk\">= <\/i><i class=\"hs\">''<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$onConflictColumnsOrConstraint <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_INSERT_ONCONFLICT<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">INSERT_ONCONFLICT_COLUMNS_OR_CONSTRAINT<\/i><i class=\"hk\">];\n        <\/i><i class=\"hd\">$onConflictDo <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_INSERT_ONCONFLICT<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">INSERT_ONCONFLICT_DO<\/i><i class=\"hk\">];\n\n        if ((<\/i><i class=\"hd\">$onConflictColumnsOrConstraint <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) &amp;&amp; (<\/i><i class=\"hd\">$onConflictDo <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">onConflictNoDo<\/i><i class=\"hk\">();\n        } else if ((<\/i><i class=\"hd\">$onConflictColumnsOrConstraint <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) &amp;&amp; (<\/i><i class=\"hd\">$onConflictDo <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">onConflictDoWithoutDefinition<\/i><i class=\"hk\">();\n        } else if ((<\/i><i class=\"hd\">$onConflictColumnsOrConstraint <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) &amp;&amp; (<\/i><i class=\"hd\">$onConflictDo <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">)) {\n            <\/i><i class=\"hd\">$onConflict <\/i><i class=\"hk\">= <\/i><i class=\"hs\">' ON CONFLICT'<\/i><i class=\"hk\">;\n\n            if (<\/i><i class=\"hd\">\\is_array<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$onConflictColumnsOrConstraint<\/i><i class=\"hk\">)) {\n                <\/i><i class=\"hd\">$onConflict <\/i><i class=\"hk\">.= <\/i><i class=\"hs\">' (' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">', '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$onConflictColumnsOrConstraint<\/i><i class=\"hk\">) . <\/i><i class=\"hs\">')'<\/i><i class=\"hk\">;\n            } else if (<\/i><i class=\"hd\">$onConflictColumnsOrConstraint <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$onConflict <\/i><i class=\"hk\">.= <\/i><i class=\"hs\">' ON CONSTRAINT ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$onConflictColumnsOrConstraint<\/i><i class=\"hk\">;\n            }\n\n            <\/i><i class=\"hd\">$onConflictWhere <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_INSERT_ONCONFLICT<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">INSERT_ONCONFLICT_WHERE<\/i><i class=\"hk\">];\n            if (<\/i><i class=\"hd\">$onConflictWhere <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$onConflict <\/i><i class=\"hk\">.= <\/i><i class=\"hs\">' WHERE ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">processCondition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$onConflictWhere<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n            }\n\n            <\/i><i class=\"hd\">$onConflict <\/i><i class=\"hk\">.= <\/i><i class=\"hs\">' DO '<\/i><i class=\"hk\">;\n\n            if (<\/i><i class=\"hd\">$onConflictDo <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$onConflict <\/i><i class=\"hk\">.= <\/i><i class=\"hs\">'NOTHING'<\/i><i class=\"hk\">;\n            } else {\n                <\/i><i class=\"hd\">$onConflict <\/i><i class=\"hk\">.= <\/i><i class=\"hs\">'UPDATE SET '<\/i><i class=\"hk\">;\n\n                <\/i><i class=\"hd\">$set <\/i><i class=\"hk\">= [];\n                foreach (<\/i><i class=\"hd\">$onConflictDo <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$column <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) {\n                    if (<\/i><i class=\"hd\">\\is_int<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">)) {\n                        if (!<\/i><i class=\"hd\">\\is_string<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">)) {\n                            throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">onConflictDoUpdateSetSingleColumnCanBeOnlyString<\/i><i class=\"hk\">();\n                        }\n\n                        <\/i><i class=\"hd\">$set<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$value <\/i><i class=\"hk\">. <\/i><i class=\"hs\">' = EXCLUDED.' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n                    } else if (<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">) {\n                        <\/i><i class=\"hd\">$set<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$column <\/i><i class=\"hk\">. <\/i><i class=\"hs\">' = ?'<\/i><i class=\"hk\">;\n                        <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n                    } else {\n                        <\/i><i class=\"hd\">$set<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$column <\/i><i class=\"hk\">. <\/i><i class=\"hs\">' = ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n                    }\n                }\n\n                <\/i><i class=\"hd\">$onConflict <\/i><i class=\"hk\">.= <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">', '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$set<\/i><i class=\"hk\">);\n\n                <\/i><i class=\"hd\">$onConflictDoWhere <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_INSERT_ONCONFLICT<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">INSERT_ONCONFLICT_DO_WHERE<\/i><i class=\"hk\">];\n                if (<\/i><i class=\"hd\">$onConflictDoWhere <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                    <\/i><i class=\"hd\">$onConflict <\/i><i class=\"hk\">.= <\/i><i class=\"hs\">' WHERE ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">processCondition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$onConflictDoWhere<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n                }\n            }\n        }\n\n        return <\/i><i class=\"hd\">$insert\n            <\/i><i class=\"hk\">. (<\/i><i class=\"hd\">$columns <\/i><i class=\"hk\">=== [<\/i><i class=\"hs\">'*'<\/i><i class=\"hk\">] ? <\/i><i class=\"hs\">'' <\/i><i class=\"hk\">: <\/i><i class=\"hs\">' (' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">', '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">) . <\/i><i class=\"hs\">')'<\/i><i class=\"hk\">)\n            . <\/i><i class=\"hd\">$data\n            <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$onConflict\n            <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getPrefixSuffix<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_SUFFIX<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">)\n            . <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getReturning<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;string&gt; $values\n     * @param list&lt;mixed&gt; $params\n     *\/\n    <\/i><i class=\"hk\">private static function <\/i><i class=\"hd\">prepareRow<\/i><i class=\"hk\">(<\/i><i class=\"hd\">mixed $value<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$values<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        if ((<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">) &amp;&amp; <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">areParenthesisNeeded<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">)) {\n            <\/i><i class=\"hd\">$values<\/i><i class=\"hk\">[] = <\/i><i class=\"hs\">'(?)'<\/i><i class=\"hk\">;\n            <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n        } else if (<\/i><i class=\"hd\">\\is_array<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">dataCantContainArray<\/i><i class=\"hk\">();\n        } else {\n            <\/i><i class=\"hd\">$values<\/i><i class=\"hk\">[] = <\/i><i class=\"hs\">'?'<\/i><i class=\"hk\">;\n            <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n        }\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">createUpdate<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DATA<\/i><i class=\"hk\">] === []) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">noDataToUpdate<\/i><i class=\"hk\">();\n        }\n\n        [<\/i><i class=\"hs\">'table' <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$mainTable<\/i><i class=\"hk\">, <\/i><i class=\"hs\">'alias' <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$mainTableAlias<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getMainTableMetadata<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">);\n\n        <\/i><i class=\"hd\">$set <\/i><i class=\"hk\">= [];\n        foreach (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DATA<\/i><i class=\"hk\">] as <\/i><i class=\"hd\">$column <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) {\n            if ((<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">) &amp;&amp; <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">areParenthesisNeeded<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">)) {\n                <\/i><i class=\"hd\">$set<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$column <\/i><i class=\"hk\">. <\/i><i class=\"hs\">' = (?)'<\/i><i class=\"hk\">;\n                <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n            } else if (<\/i><i class=\"hd\">\\is_array<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">)) {\n                throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">dataCantContainArray<\/i><i class=\"hk\">();\n            } else {\n                <\/i><i class=\"hd\">$set<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$column <\/i><i class=\"hk\">. <\/i><i class=\"hs\">' = ?'<\/i><i class=\"hk\">;\n                <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n            }\n        }\n\n        return <\/i><i class=\"hs\">'UPDATE ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">processTable<\/i><i class=\"hk\">(\n            <\/i><i class=\"hd\">$mainTable<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">$mainTableAlias<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">,\n        ) . <\/i><i class=\"hs\">' SET ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">', '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$set<\/i><i class=\"hk\">) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getFrom<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">, <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getJoins<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getWhere<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getPrefixSuffix<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_SUFFIX<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getReturning<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">createDelete<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        [<\/i><i class=\"hs\">'table' <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$mainTable<\/i><i class=\"hk\">, <\/i><i class=\"hs\">'alias' <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$mainTableAlias<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getMainTableMetadata<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hs\">'DELETE FROM ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">processTable<\/i><i class=\"hk\">(\n            <\/i><i class=\"hd\">$mainTable<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">$mainTableAlias<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">,\n        ) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getWhere<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getPrefixSuffix<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_SUFFIX<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">) .\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getReturning<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">createMerge<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        [<\/i><i class=\"hs\">'table' <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$mainTable<\/i><i class=\"hk\">, <\/i><i class=\"hs\">'alias' <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$mainTableAlias<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getMainTableMetadata<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">);\n\n        <\/i><i class=\"hd\">$usingAlias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLE_TYPES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_USING<\/i><i class=\"hk\">];\n        if (<\/i><i class=\"hd\">$usingAlias <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">mergeNoUsing<\/i><i class=\"hk\">();\n        }\n\n        if (!isset(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ON_CONDITIONS<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$usingAlias<\/i><i class=\"hk\">])) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">noOnCondition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$usingAlias<\/i><i class=\"hk\">);\n        }\n\n        if (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_MERGE<\/i><i class=\"hk\">] === []) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">mergeNoWhen<\/i><i class=\"hk\">();\n        }\n\n        <\/i><i class=\"hd\">$merge <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'MERGE INTO ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">processTable<\/i><i class=\"hk\">(\n            <\/i><i class=\"hd\">$mainTable<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">$mainTableAlias<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">,\n        ) . <\/i><i class=\"hs\">' USING ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">processTable<\/i><i class=\"hk\">(\n            <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$usingAlias<\/i><i class=\"hk\">][<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_NAME<\/i><i class=\"hk\">],\n            <\/i><i class=\"hd\">$usingAlias<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">,\n        ) . <\/i><i class=\"hs\">' ON ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">processCondition<\/i><i class=\"hk\">(\n            <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ON_CONDITIONS<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$usingAlias<\/i><i class=\"hk\">],\n            <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">,\n        );\n\n        foreach (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_MERGE<\/i><i class=\"hk\">] as <\/i><i class=\"hd\">$when<\/i><i class=\"hk\">) {\n            [<\/i><i class=\"hd\">$type<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$then<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$when<\/i><i class=\"hk\">;\n\n            <\/i><i class=\"hd\">$merge <\/i><i class=\"hk\">.= <\/i><i class=\"hs\">' WHEN'<\/i><i class=\"hk\">;\n\n            if (<\/i><i class=\"hd\">$type <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">MERGE_WHEN_NOT_MATCHED<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$merge <\/i><i class=\"hk\">.= <\/i><i class=\"hs\">' NOT'<\/i><i class=\"hk\">;\n            } else if (<\/i><i class=\"hd\">$type <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">MERGE_WHEN_MATCHED<\/i><i class=\"hk\">) {\n                throw new <\/i><i class=\"hd\">Exceptions\\ShouldNotHappenException<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Bad WHEN type \\'%s\\' for MERGE.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$type<\/i><i class=\"hk\">));\n            }\n\n            <\/i><i class=\"hd\">$merge <\/i><i class=\"hk\">.= <\/i><i class=\"hs\">' MATCHED'<\/i><i class=\"hk\">;\n\n            if (<\/i><i class=\"hd\">$condition <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$merge <\/i><i class=\"hk\">.= <\/i><i class=\"hs\">' AND ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">processCondition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n            }\n\n            if (<\/i><i class=\"hd\">$then <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$then<\/i><i class=\"hk\">;\n                <\/i><i class=\"hd\">$then <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'?'<\/i><i class=\"hk\">;\n            }\n\n            <\/i><i class=\"hd\">$merge <\/i><i class=\"hk\">.= <\/i><i class=\"hs\">' THEN ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$then<\/i><i class=\"hk\">;\n        }\n\n        return <\/i><i class=\"hd\">$merge <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getReturning<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">createTruncate<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hs\">'TRUNCATE ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getMainTableMetadata<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">)[<\/i><i class=\"hs\">'table'<\/i><i class=\"hk\">];\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">createWith<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$queries <\/i><i class=\"hk\">= [];\n\n        foreach (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WITH<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">WITH_QUERIES<\/i><i class=\"hk\">] as <\/i><i class=\"hd\">$as <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">) {\n            if (<\/i><i class=\"hd\">$query <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">;\n                <\/i><i class=\"hd\">$query <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'?'<\/i><i class=\"hk\">;\n            }\n            <\/i><i class=\"hd\">$queries<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$as <\/i><i class=\"hk\">. <\/i><i class=\"hs\">' AS '\n                <\/i><i class=\"hk\">. (isset(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WITH<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">WITH_QUERIES_NOT_MATERIALIZED<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$as<\/i><i class=\"hk\">]) ? <\/i><i class=\"hs\">'NOT MATERIALIZED ' <\/i><i class=\"hk\">: <\/i><i class=\"hs\">''<\/i><i class=\"hk\">)\n                . <\/i><i class=\"hs\">'(' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$query <\/i><i class=\"hk\">. <\/i><i class=\"hs\">')'\n                <\/i><i class=\"hk\">. (isset(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WITH<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">WITH_QUERIES_SUFFIX<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$as<\/i><i class=\"hk\">]) ? (<\/i><i class=\"hs\">' ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WITH<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">WITH_QUERIES_SUFFIX<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$as<\/i><i class=\"hk\">]) : <\/i><i class=\"hs\">''<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hs\">'WITH ' <\/i><i class=\"hk\">. (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WITH<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">WITH_RECURSIVE<\/i><i class=\"hk\">] ? <\/i><i class=\"hs\">'RECURSIVE ' <\/i><i class=\"hk\">: <\/i><i class=\"hs\">''<\/i><i class=\"hk\">) . <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">', '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$queries<\/i><i class=\"hk\">) . <\/i><i class=\"hs\">' '<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">getSelectDistinct<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        if ((<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DISTINCT<\/i><i class=\"hk\">] === <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">) &amp;&amp; (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DISTINCTON<\/i><i class=\"hk\">] !== [])) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">cantCombineDistinctAndDistinctOn<\/i><i class=\"hk\">();\n        }\n\n        if (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DISTINCT<\/i><i class=\"hk\">] === <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">) {\n            return <\/i><i class=\"hs\">'DISTINCT '<\/i><i class=\"hk\">;\n        } else if (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DISTINCTON<\/i><i class=\"hk\">] !== []) {\n            return <\/i><i class=\"hs\">'DISTINCT ON (' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">', '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DISTINCTON<\/i><i class=\"hk\">]) . <\/i><i class=\"hs\">') '<\/i><i class=\"hk\">;\n        }\n\n        return <\/i><i class=\"hs\">''<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param list&lt;mixed&gt; $params\n     * @param list&lt;string&gt;|NULL $columnNames\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">getSelectColumns<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">, array|<\/i><i class=\"hd\">NULL <\/i><i class=\"hk\">&amp;<\/i><i class=\"hd\">$columnNames <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_SELECT<\/i><i class=\"hk\">] === []) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">noColumnsToSelect<\/i><i class=\"hk\">();\n        }\n\n        <\/i><i class=\"hd\">$columns <\/i><i class=\"hk\">= [];\n        foreach (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_SELECT<\/i><i class=\"hk\">] as <\/i><i class=\"hd\">$key <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) {\n            if (<\/i><i class=\"hd\">$columnNames <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                if (<\/i><i class=\"hd\">\\is_int<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">) &amp;&amp; !<\/i><i class=\"hd\">\\is_string<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">)) {\n                    throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">missingColumnAlias<\/i><i class=\"hk\">();\n                }\n\n                <\/i><i class=\"hd\">\\assert<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\is_string<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">) || <\/i><i class=\"hd\">\\is_string<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">));\n\n                <\/i><i class=\"hd\">$columnNames<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">\\is_int<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">) ? <\/i><i class=\"hd\">$value <\/i><i class=\"hk\">: <\/i><i class=\"hd\">$key<\/i><i class=\"hk\">;\n            }\n\n            if (<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n                <\/i><i class=\"hd\">$value <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'(?)'<\/i><i class=\"hk\">;\n            }\n\n            <\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">[] = ((<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">\\BackedEnum<\/i><i class=\"hk\">) ? <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">value <\/i><i class=\"hk\">: <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) . (<\/i><i class=\"hd\">\\is_int<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">) ? <\/i><i class=\"hs\">'' <\/i><i class=\"hk\">: (<\/i><i class=\"hs\">' AS \"' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$key <\/i><i class=\"hk\">. <\/i><i class=\"hs\">'\"'<\/i><i class=\"hk\">));\n        }\n\n        return <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">', '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">getFrom<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">, <\/i><i class=\"hd\">bool $useMainTable <\/i><i class=\"hk\">= <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$from <\/i><i class=\"hk\">= [];\n\n        if (<\/i><i class=\"hd\">$useMainTable <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$mainTableAlias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLE_TYPES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_MAIN<\/i><i class=\"hk\">];\n            if (<\/i><i class=\"hd\">$mainTableAlias <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$from<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">processTable<\/i><i class=\"hk\">(\n                    <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$mainTableAlias<\/i><i class=\"hk\">][<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_NAME<\/i><i class=\"hk\">],\n                    <\/i><i class=\"hd\">$mainTableAlias<\/i><i class=\"hk\">,\n                    isset(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_LATERAL_TABLES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$mainTableAlias<\/i><i class=\"hk\">]),\n                    <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">,\n                );\n            }\n        }\n\n        foreach (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLE_TYPES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_FROM<\/i><i class=\"hk\">] as <\/i><i class=\"hd\">$tableAlias<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$from<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">processTable<\/i><i class=\"hk\">(\n                <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$tableAlias<\/i><i class=\"hk\">][<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_NAME<\/i><i class=\"hk\">],\n                <\/i><i class=\"hd\">$tableAlias<\/i><i class=\"hk\">,\n                isset(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_LATERAL_TABLES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$tableAlias<\/i><i class=\"hk\">]),\n                <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">,\n            );\n        }\n\n        return <\/i><i class=\"hd\">$from <\/i><i class=\"hk\">!== [] ? (<\/i><i class=\"hs\">' FROM ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">', '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$from<\/i><i class=\"hk\">)) : <\/i><i class=\"hs\">''<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">getJoins<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$joins <\/i><i class=\"hk\">= [];\n\n        <\/i><i class=\"hd\">$aliasesWithoutTables <\/i><i class=\"hk\">= <\/i><i class=\"hd\">array_diff<\/i><i class=\"hk\">(\n            <\/i><i class=\"hd\">array_keys<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ON_CONDITIONS<\/i><i class=\"hk\">]),\n            <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLE_TYPES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_JOINS<\/i><i class=\"hk\">],\n        );\n\n        if (<\/i><i class=\"hd\">$aliasesWithoutTables <\/i><i class=\"hk\">!== []) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">noCorrespondingTable<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\array_values<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$aliasesWithoutTables<\/i><i class=\"hk\">));\n        }\n\n        foreach (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLE_TYPES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_JOINS<\/i><i class=\"hk\">] as <\/i><i class=\"hd\">$tableAlias<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$joinType <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$tableAlias<\/i><i class=\"hk\">][<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE<\/i><i class=\"hk\">];\n\n            <\/i><i class=\"hd\">$table <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$joinType <\/i><i class=\"hk\">. <\/i><i class=\"hs\">' ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">processTable<\/i><i class=\"hk\">(\n                <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$tableAlias<\/i><i class=\"hk\">][<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_NAME<\/i><i class=\"hk\">],\n                <\/i><i class=\"hd\">$tableAlias<\/i><i class=\"hk\">,\n                isset(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_LATERAL_TABLES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$tableAlias<\/i><i class=\"hk\">]),\n                <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">,\n            );\n\n            if (<\/i><i class=\"hd\">$joinType <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">JOIN_CROSS<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$joins<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$table<\/i><i class=\"hk\">;\n            } else {\n                if (!isset(<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ON_CONDITIONS<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$tableAlias<\/i><i class=\"hk\">])) {\n                    throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">noOnCondition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$tableAlias<\/i><i class=\"hk\">);\n                }\n\n                <\/i><i class=\"hd\">$joins<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$table <\/i><i class=\"hk\">. <\/i><i class=\"hs\">' ON ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">processCondition<\/i><i class=\"hk\">(\n                    <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ON_CONDITIONS<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$tableAlias<\/i><i class=\"hk\">],\n                    <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">,\n                );\n            }\n        }\n\n        return <\/i><i class=\"hd\">$joins <\/i><i class=\"hk\">!== [] ? (<\/i><i class=\"hs\">' ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">' '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$joins<\/i><i class=\"hk\">)) : <\/i><i class=\"hs\">''<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">getWhere<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$where <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WHERE<\/i><i class=\"hk\">];\n\n        if (<\/i><i class=\"hd\">$where <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            return <\/i><i class=\"hs\">''<\/i><i class=\"hk\">;\n        }\n\n        return <\/i><i class=\"hs\">' WHERE ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">processCondition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$where<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">getGroupBy<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_GROUPBY<\/i><i class=\"hk\">] === []\n            ? <\/i><i class=\"hs\">''\n            <\/i><i class=\"hk\">: <\/i><i class=\"hs\">' GROUP BY ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">', '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_GROUPBY<\/i><i class=\"hk\">]);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">getHaving<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$having <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_HAVING<\/i><i class=\"hk\">];\n\n        if (<\/i><i class=\"hd\">$having <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            return <\/i><i class=\"hs\">''<\/i><i class=\"hk\">;\n        }\n\n        return <\/i><i class=\"hs\">' HAVING ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">processCondition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$having<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">getOrderBy<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$orderBy <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ORDERBY<\/i><i class=\"hk\">];\n\n        if (<\/i><i class=\"hd\">$orderBy <\/i><i class=\"hk\">=== []) {\n            return <\/i><i class=\"hs\">''<\/i><i class=\"hk\">;\n        }\n\n        <\/i><i class=\"hd\">$columns <\/i><i class=\"hk\">= [];\n        foreach (<\/i><i class=\"hd\">$orderBy <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) {\n            if (<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n                <\/i><i class=\"hd\">$value <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">areParenthesisNeeded<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) ? <\/i><i class=\"hs\">'(?)' <\/i><i class=\"hk\">: <\/i><i class=\"hs\">'?'<\/i><i class=\"hk\">;\n            }\n            <\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n        }\n\n        return <\/i><i class=\"hs\">' ORDER BY ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">', '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param list&lt;mixed&gt; $params\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">getLimit<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$limit <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_LIMIT<\/i><i class=\"hk\">];\n\n        if (<\/i><i class=\"hd\">$limit <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            return <\/i><i class=\"hs\">''<\/i><i class=\"hk\">;\n        }\n\n        <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$limit<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hs\">' LIMIT ?'<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param list&lt;mixed&gt; $params\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">getOffset<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$offset <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_OFFSET<\/i><i class=\"hk\">];\n\n        if (<\/i><i class=\"hd\">$offset <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            return <\/i><i class=\"hs\">''<\/i><i class=\"hk\">;\n        }\n\n        <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$offset<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hs\">' OFFSET ?'<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param Query::PARAM_PREFIX|Query::PARAM_SUFFIX $type\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">getPrefixSuffix<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string $type<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$items <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$type<\/i><i class=\"hk\">] ?? [];\n\n        if (<\/i><i class=\"hd\">$items <\/i><i class=\"hk\">=== []) {\n            return <\/i><i class=\"hs\">''<\/i><i class=\"hk\">;\n        }\n\n        <\/i><i class=\"hd\">$processedItems <\/i><i class=\"hk\">= [];\n        foreach (<\/i><i class=\"hd\">$items <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$itemParams<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$item <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\array_shift<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$itemParams<\/i><i class=\"hk\">);\n\n            foreach (<\/i><i class=\"hd\">$itemParams <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$param<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$param<\/i><i class=\"hk\">;\n            }\n\n            <\/i><i class=\"hd\">$processedItems<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$item<\/i><i class=\"hk\">;\n        }\n\n        if (<\/i><i class=\"hd\">$type <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_PREFIX<\/i><i class=\"hk\">) {\n            return <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">' '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$processedItems<\/i><i class=\"hk\">) . <\/i><i class=\"hs\">' '<\/i><i class=\"hk\">;\n        } else if (<\/i><i class=\"hd\">$type <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_SUFFIX<\/i><i class=\"hk\">) {\n            return <\/i><i class=\"hs\">' ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">' '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$processedItems<\/i><i class=\"hk\">);\n        }\n\n        throw new <\/i><i class=\"hd\">Exceptions\\ShouldNotHappenException<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Bad prefix\/suffix type with value \\'%s\\'. Valid values are \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$type<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'\\', \\''<\/i><i class=\"hk\">, [<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_PREFIX<\/i><i class=\"hk\">, <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_SUFFIX<\/i><i class=\"hk\">])));\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">combine<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $sql<\/i><i class=\"hk\">, array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$combineQueries <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_COMBINE_QUERIES<\/i><i class=\"hk\">];\n\n        if (<\/i><i class=\"hd\">$combineQueries <\/i><i class=\"hk\">=== []) {\n            return <\/i><i class=\"hd\">$sql<\/i><i class=\"hk\">;\n        }\n\n        <\/i><i class=\"hd\">$combines <\/i><i class=\"hk\">= [];\n        foreach (<\/i><i class=\"hd\">$combineQueries <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$combineQuery<\/i><i class=\"hk\">) {\n            [<\/i><i class=\"hd\">$query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$type<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$combineQuery<\/i><i class=\"hk\">;\n\n            if (<\/i><i class=\"hd\">$query <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">;\n                <\/i><i class=\"hd\">$query <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'?'<\/i><i class=\"hk\">;\n            }\n\n            <\/i><i class=\"hd\">$combines<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$type <\/i><i class=\"hk\">. <\/i><i class=\"hs\">' (' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$query <\/i><i class=\"hk\">. <\/i><i class=\"hs\">')'<\/i><i class=\"hk\">;\n        }\n\n        return <\/i><i class=\"hs\">'(' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$sql <\/i><i class=\"hk\">. <\/i><i class=\"hs\">') ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">' '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$combines<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">getReturning<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_RETURNING<\/i><i class=\"hk\">] === []) {\n            return <\/i><i class=\"hs\">''<\/i><i class=\"hk\">;\n        }\n\n        <\/i><i class=\"hd\">$columns <\/i><i class=\"hk\">= [];\n        foreach (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_RETURNING<\/i><i class=\"hk\">] as <\/i><i class=\"hd\">$key <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) {\n            if (<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n                <\/i><i class=\"hd\">$value <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'(?)'<\/i><i class=\"hk\">;\n            }\n\n            <\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$value <\/i><i class=\"hk\">. (<\/i><i class=\"hd\">\\is_int<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">) ? <\/i><i class=\"hs\">'' <\/i><i class=\"hk\">: (<\/i><i class=\"hs\">' AS \"' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$key <\/i><i class=\"hk\">. <\/i><i class=\"hs\">'\"'<\/i><i class=\"hk\">));\n        }\n\n        return <\/i><i class=\"hs\">' RETURNING ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">', '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $queryParams\n     * @return array{table: string, alias: string}\n     * @throws Exceptions\\QueryBuilderException\n     * @phpstan-param QueryParams $queryParams\n     *\/\n    <\/i><i class=\"hk\">final protected function <\/i><i class=\"hd\">getMainTableMetadata<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">): array\n    {\n        if (<\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLE_TYPES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_MAIN<\/i><i class=\"hk\">] === <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryBuilderException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">noMainTable<\/i><i class=\"hk\">();\n        }\n\n        <\/i><i class=\"hd\">$alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLE_TYPES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_MAIN<\/i><i class=\"hk\">];\n\n        return [<\/i><i class=\"hs\">'table' <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$queryParams<\/i><i class=\"hk\">[<\/i><i class=\"hd\">Query<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">][<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_NAME<\/i><i class=\"hk\">], <\/i><i class=\"hs\">'alias' <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">];\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $params\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">processTable<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Query $table<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string $alias<\/i><i class=\"hk\">, <\/i><i class=\"hd\">bool $isLateral<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$table <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$table<\/i><i class=\"hk\">;\n            if (<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">areParenthesisNeeded<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$table<\/i><i class=\"hk\">)) {\n                <\/i><i class=\"hd\">$table <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'(?)'<\/i><i class=\"hk\">;\n            } else {\n                <\/i><i class=\"hd\">$table <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'?'<\/i><i class=\"hk\">;\n            }\n        }\n\n        if (<\/i><i class=\"hd\">$isLateral<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$table <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'LATERAL ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$table<\/i><i class=\"hk\">;\n        }\n\n        return (<\/i><i class=\"hd\">$table <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">) ? <\/i><i class=\"hd\">$table <\/i><i class=\"hk\">: (<\/i><i class=\"hd\">$table <\/i><i class=\"hk\">. <\/i><i class=\"hs\">' AS ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\QueryBuilderException\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">processCondition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Condition $condition<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">;\n        return <\/i><i class=\"hs\">'?'<\/i><i class=\"hk\">;\n    }\n\n\n    protected static function <\/i><i class=\"hd\">areParenthesisNeeded<\/i><i class=\"hk\">(<\/i><i class=\"hd\">Db\\Sql $sql<\/i><i class=\"hk\">): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$sql <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql\\Query <\/i><i class=\"hk\">|| <\/i><i class=\"hd\">$sql <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">;\n    }\n\n}\n<\/i><\/code><\/pre>"},"F38":{"name":"Fluent\/Condition.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Fluent\/Condition.php","lines":{"45":1,"51":1,"52":1,"63":-2,"78":-2,"93":-2,"99":-2,"108":-2,"117":1,"121":-2,"130":1,"134":-2,"143":-2,"152":-2,"160":1,"161":-2,"171":1,"172":-2,"182":1,"188":1,"189":-1,"192":1,"204":1,"205":1,"206":1,"208":1,"209":1,"221":1,"222":1,"231":-2,"242":-2,"273":1,"274":1,"282":1,"298":-2,"49":1,"71":1,"73":1,"75":1,"77":1,"86":1,"88":1,"90":1,"92":1,"116":1,"120":1,"129":1,"133":1,"151":1,"181":1,"185":1,"186":1,"195":1,"196":1,"219":1,"220":1,"223":1,"224":1,"262":1,"271":1,"98":1,"107":1,"236":1,"237":1,"238":1,"241":1,"257":1,"258":1,"259":1,"260":1,"261":1,"264":1,"265":1,"266":1,"267":1,"268":1,"269":1,"270":1,"272":1,"276":1,"278":1,"281":1,"285":1,"286":1,"289":1,"290":1,"294":1,"297":1,"48":1,"50":1,"54":1,"56":1,"57":1,"60":1,"62":1,"247":1,"248":1,"44":1,"10":1,"32":1,"33":1,"34":1,"35":1,"36":1,"142":1,"218":1,"230":1,"301":1},"coverage":99,"total":94,"class":null,"digits":4,"lineCount":301,"content":"<pre style='margin-left: 4em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Fluent<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\n<\/i><i class=\"hc\">\/**\n * @implements \\ArrayAccess&lt;int, string|list&lt;mixed&gt;|Db\\Sql&gt;\n *\/\n<\/i><i class=\"hk\">class <\/i><i class=\"hd\">Condition <\/i><i class=\"hk\">implements <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\ArrayAccess\n<\/i><i class=\"hk\">{\n    public const <\/i><i class=\"hd\">TYPE_AND <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'AND'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">TYPE_OR <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'OR'<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">string $type<\/i><i class=\"hk\">;\n\n    <\/i><i class=\"hc\">\/** @var list&lt;self|list&lt;mixed&gt;&gt; *\/\n    <\/i><i class=\"hk\">private array <\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">self<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $parent<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $query<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">Db\\SqlDefinition<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $sqlDefinition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;string|list&lt;mixed&gt;|Db\\Sql&gt; $conditions\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $type<\/i><i class=\"hk\">, array <\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $parent <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $query <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">)\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">type <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$type<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">conditions <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">normalizeConditions<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">);\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parent <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$parent<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConditionException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">add<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $condition<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed <\/i><i class=\"hk\">...<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): static\n    {\n        if ((<\/i><i class=\"hd\">$condition <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">) &amp;&amp; <\/i><i class=\"hd\">$params <\/i><i class=\"hk\">!== []) {\n            throw <\/i><i class=\"hd\">Exceptions\\ConditionException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">onlyStringConditionCanHaveParams<\/i><i class=\"hk\">();\n        }\n\n        if (<\/i><i class=\"hd\">$condition <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">self<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">conditions<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">;\n        } else if (<\/i><i class=\"hd\">$condition <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$sqlDefinition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getSqlDefinition<\/i><i class=\"hk\">();\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">conditions<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">\\array_merge<\/i><i class=\"hk\">([<\/i><i class=\"hd\">$sqlDefinition<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sql<\/i><i class=\"hk\">], <\/i><i class=\"hd\">$sqlDefinition<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">);\n        } else {\n            <\/i><i class=\"hd\">\\assert<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\array_is_list<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">));\n\n            <\/i><i class=\"hd\">\\array_unshift<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">);\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">conditions<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">;\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">reset<\/i><i class=\"hk\">();\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;string|list&lt;mixed&gt;|Db\\Sql&gt; $conditions\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">addAndBranch<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$conditions <\/i><i class=\"hk\">= []): static\n    {\n        <\/i><i class=\"hd\">$branchAnd <\/i><i class=\"hk\">= static::<\/i><i class=\"hd\">createAnd<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">);\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">add<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$branchAnd<\/i><i class=\"hk\">);\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">reset<\/i><i class=\"hk\">();\n\n        return <\/i><i class=\"hd\">$branchAnd<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;string|list&lt;mixed&gt;|Db\\Sql&gt; $conditions\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">addOrBranch<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$conditions <\/i><i class=\"hk\">= []): static\n    {\n        <\/i><i class=\"hd\">$branchOr <\/i><i class=\"hk\">= static::<\/i><i class=\"hd\">createOr<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">);\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">add<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$branchOr<\/i><i class=\"hk\">);\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">reset<\/i><i class=\"hk\">();\n\n        return <\/i><i class=\"hd\">$branchOr<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">getType<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">type<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return list&lt;self|list&lt;mixed&gt;&gt;\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">getConditions<\/i><i class=\"hk\">(): array\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">conditions<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConditionException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">parent<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parent <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\ConditionException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">noParent<\/i><i class=\"hk\">();\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">parent<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\ConditionException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">query<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Query\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\ConditionException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">noQuery<\/i><i class=\"hk\">();\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;string|list&lt;mixed&gt;|Db\\Sql&gt; $conditions\n     *\/\n    <\/i><i class=\"hk\">public static function <\/i><i class=\"hd\">createAnd<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$conditions <\/i><i class=\"hk\">= [], <\/i><i class=\"hd\">self<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $parent <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $query <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): static\n    {\n        return new static(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TYPE_AND<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$parent<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;string|list&lt;mixed&gt;|Db\\Sql&gt; $conditions\n     *\/\n    <\/i><i class=\"hk\">public static function <\/i><i class=\"hd\">createOr<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$conditions <\/i><i class=\"hk\">= [], <\/i><i class=\"hd\">self<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $parent <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">Query<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $query <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): static\n    {\n        return new static(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TYPE_OR<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$parent<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param int $offset\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">offsetExists<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$offset<\/i><i class=\"hk\">): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        return isset(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">conditions<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$offset<\/i><i class=\"hk\">]);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param int $offset\n     * @return string|list&lt;mixed&gt;|Db\\Sql|NULL\n     *\/\n    <\/i><i class=\"hk\">#[<\/i><i class=\"hd\">\\ReturnTypeWillChange<\/i><i class=\"hk\">]\n    public function <\/i><i class=\"hd\">offsetGet<\/i><i class=\"hk\">(<\/i><i class=\"hd\">mixed $offset<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|array|<\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">conditions<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$offset<\/i><i class=\"hk\">] ?? <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param int|NULL $offset\n     * @param string|list&lt;mixed&gt;|Db\\Sql $value\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">offsetSet<\/i><i class=\"hk\">(<\/i><i class=\"hd\">mixed $offset<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed $value<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        if (!<\/i><i class=\"hd\">\\is_array<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">)) {\n            <\/i><i class=\"hd\">$value <\/i><i class=\"hk\">= [<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">];\n        }\n\n        if (<\/i><i class=\"hd\">$offset <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">conditions<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n        } else {\n            if (!isset(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">conditions<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$offset<\/i><i class=\"hk\">])) {\n                throw new <\/i><i class=\"hd\">\\InvalidArgumentException<\/i><i class=\"hk\">(<\/i><i class=\"hd\">sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Can\\'t set non-existing offset \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$offset<\/i><i class=\"hk\">));\n            }\n\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">conditions<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$offset<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">;\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">reset<\/i><i class=\"hk\">();\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param int $offset\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">offsetUnset<\/i><i class=\"hk\">(<\/i><i class=\"hd\">mixed $offset<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$conditions <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">conditions<\/i><i class=\"hk\">;\n        unset(<\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$offset<\/i><i class=\"hk\">]);\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">conditions <\/i><i class=\"hk\">= <\/i><i class=\"hd\">array_values<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">);\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">reset<\/i><i class=\"hk\">();\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;string|list&lt;mixed&gt;|Db\\Sql&gt; $conditions\n     * @return list&lt;self|list&lt;mixed&gt;&gt;\n     *\/\n    <\/i><i class=\"hk\">private static function <\/i><i class=\"hd\">normalizeConditions<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">): array\n    {\n        foreach (<\/i><i class=\"hd\">$conditions <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$i <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">) {\n            if (!(<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">self<\/i><i class=\"hk\">)) {\n                if (<\/i><i class=\"hd\">$value <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">) {\n                    <\/i><i class=\"hd\">$sqlDefinition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getSqlDefinition<\/i><i class=\"hk\">();\n                    <\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$i<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">\\array_merge<\/i><i class=\"hk\">([<\/i><i class=\"hd\">$sqlDefinition<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sql<\/i><i class=\"hk\">], <\/i><i class=\"hd\">$sqlDefinition<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">);\n                } else if (!<\/i><i class=\"hd\">\\is_array<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">)) {\n                    <\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$i<\/i><i class=\"hk\">] = [<\/i><i class=\"hd\">$value<\/i><i class=\"hk\">];\n                }\n            }\n        }\n\n        <\/i><i class=\"hc\">\/** @phpstan-var list&lt;self|list&lt;mixed&gt;&gt; *\/\n        <\/i><i class=\"hk\">return <\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">getSqlDefinition<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Db\\SqlDefinition\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sqlDefinition <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$params <\/i><i class=\"hk\">= [];\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sqlDefinition <\/i><i class=\"hk\">= new <\/i><i class=\"hd\">Db\\SqlDefinition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">process<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">), <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sqlDefinition<\/i><i class=\"hk\">;\n    }\n\n\n    private function <\/i><i class=\"hd\">reset<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sqlDefinition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;mixed&gt; $params\n     * @throws Exceptions\\ConditionException\n     *\/\n    <\/i><i class=\"hk\">private static function <\/i><i class=\"hd\">process<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self $condition<\/i><i class=\"hk\">, array &amp;<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">string\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$conditions <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConditions<\/i><i class=\"hk\">();\n        <\/i><i class=\"hd\">$withoutParentheses <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\count<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">) === <\/i><i class=\"hd\">1<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$processedConditions <\/i><i class=\"hk\">= [];\n        foreach (<\/i><i class=\"hd\">$conditions <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$conditionParams<\/i><i class=\"hk\">) {\n            if (<\/i><i class=\"hd\">$conditionParams <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">self<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$conditionExpression <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$withoutParentheses <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">TRUE <\/i><i class=\"hk\">? <\/i><i class=\"hs\">'%s' <\/i><i class=\"hk\">: <\/i><i class=\"hs\">'(%s)'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">process<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$conditionParams<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">));\n            } else {\n                <\/i><i class=\"hd\">$conditionExpression <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\array_shift<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$conditionParams<\/i><i class=\"hk\">);\n                <\/i><i class=\"hd\">\\assert<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\is_string<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$conditionExpression<\/i><i class=\"hk\">)); <\/i><i class=\"hc\">\/\/ first array item is SQL, next are mixed params\n                <\/i><i class=\"hd\">$cnt <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\preg_match_all<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'\/(?&lt;!\\\\\\\\)\\?\/'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$conditionExpression<\/i><i class=\"hk\">);\n                <\/i><i class=\"hd\">$cntParams <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\count<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$conditionParams<\/i><i class=\"hk\">);\n                if ((<\/i><i class=\"hd\">$cnt <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">0<\/i><i class=\"hk\">) &amp;&amp; (<\/i><i class=\"hd\">$cntParams <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">1<\/i><i class=\"hk\">)) {\n                    <\/i><i class=\"hd\">$param <\/i><i class=\"hk\">= <\/i><i class=\"hd\">\\reset<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$conditionParams<\/i><i class=\"hk\">);\n                    if (<\/i><i class=\"hd\">\\is_array<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">) || (<\/i><i class=\"hd\">$param <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">)) {\n                        <\/i><i class=\"hd\">$conditionExpression <\/i><i class=\"hk\">.= <\/i><i class=\"hs\">' IN (?)'<\/i><i class=\"hk\">;\n                    } else if (<\/i><i class=\"hd\">$param <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                        <\/i><i class=\"hd\">$conditionExpression <\/i><i class=\"hk\">.= <\/i><i class=\"hs\">' IS NULL'<\/i><i class=\"hk\">;\n                        <\/i><i class=\"hd\">\\array_shift<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$conditionParams<\/i><i class=\"hk\">);\n                    } else {\n                        <\/i><i class=\"hd\">$conditionExpression <\/i><i class=\"hk\">.= <\/i><i class=\"hs\">' = ?'<\/i><i class=\"hk\">;\n                    }\n                    <\/i><i class=\"hd\">$cnt <\/i><i class=\"hk\">= <\/i><i class=\"hd\">1<\/i><i class=\"hk\">;\n                }\n\n                if (<\/i><i class=\"hd\">$cnt <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">$cntParams<\/i><i class=\"hk\">) {\n                    throw <\/i><i class=\"hd\">Exceptions\\ConditionException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">badParamsCount<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$conditionExpression<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$cnt<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$cntParams<\/i><i class=\"hk\">);\n                }\n\n                if (<\/i><i class=\"hd\">$withoutParentheses <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n                    <\/i><i class=\"hd\">$conditionExpression <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'(' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$conditionExpression <\/i><i class=\"hk\">. <\/i><i class=\"hs\">')'<\/i><i class=\"hk\">;\n                }\n\n                foreach (<\/i><i class=\"hd\">$conditionParams <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$param<\/i><i class=\"hk\">) {\n                    <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$param<\/i><i class=\"hk\">;\n                }\n            }\n\n            <\/i><i class=\"hd\">$processedConditions<\/i><i class=\"hk\">[] = <\/i><i class=\"hd\">$conditionExpression<\/i><i class=\"hk\">;\n        }\n\n        return <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">' ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getType<\/i><i class=\"hk\">() . <\/i><i class=\"hs\">' '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$processedConditions<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F39":{"name":"Fluent\/Connection.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Fluent\/Connection.php","lines":{"14":1,"16":1,"17":-2,"27":-2,"33":-2,"23":1,"22":1,"26":1,"32":1,"36":1,"7":1},"coverage":100,"total":8,"class":null,"digits":3,"lineCount":36,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Fluent<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">Connection <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">Db\\Connection\n<\/i><i class=\"hk\">{\n    private <\/i><i class=\"hd\">QueryBuilder<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $queryBuilder <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n\n    public function <\/i><i class=\"hd\">setQueryBuilder<\/i><i class=\"hk\">(<\/i><i class=\"hd\">QueryBuilder $queryBuilder<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryBuilder <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryBuilder<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    protected function <\/i><i class=\"hd\">getQueryBuilder<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">QueryBuilder\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryBuilder <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryBuilder <\/i><i class=\"hk\">= new <\/i><i class=\"hd\">QueryBuilder<\/i><i class=\"hk\">();\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryBuilder<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">createQuery<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">QueryExecute\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">QueryExecute<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getQueryBuilder<\/i><i class=\"hk\">(), <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F40":{"name":"Fluent\/Query.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Fluent\/Query.php","lines":{"137":-2,"154":1,"158":1,"164":1,"171":-2,"179":1,"181":1,"183":1,"184":-2,"192":1,"194":1,"196":1,"197":-2,"206":-2,"219":-2,"232":-2,"244":1,"245":-2,"257":1,"258":-2,"270":-1,"271":-2,"283":-1,"284":-2,"296":-1,"297":-2,"309":-1,"310":-2,"318":-1,"319":-2,"337":1,"346":1,"362":-2,"375":-2,"380":1,"382":1,"383":-2,"396":-2,"408":1,"409":-2,"418":1,"420":1,"421":1,"423":1,"424":-2,"439":-2,"447":1,"449":1,"451":1,"452":-2,"460":1,"462":1,"464":1,"465":-2,"474":1,"476":1,"477":1,"479":1,"480":-2,"489":1,"491":1,"492":1,"494":1,"495":-2,"514":-1,"515":-2,"528":-2,"541":-2,"549":1,"551":1,"553":1,"554":-2,"560":-2,"565":1,"566":-2,"571":-1,"572":-2,"577":-1,"578":-2,"585":-2,"605":-2,"620":-2,"635":-2,"647":1,"654":-2,"669":-2,"683":-2,"700":-2,"715":-2,"732":-2,"746":-2,"763":-2,"776":-2,"793":-2,"810":-2,"827":-2,"853":-2,"866":-2,"880":-2,"894":-2,"900":1,"904":-2,"909":1,"910":1,"913":1,"914":-2,"923":1,"931":-2,"947":1,"962":-2,"972":-2,"980":1,"984":1,"988":1,"136":1,"150":1,"156":1,"168":1,"170":1,"205":1,"218":1,"231":1,"332":1,"334":1,"336":1,"340":1,"341":1,"342":1,"345":1,"349":1,"351":1,"352":1,"354":1,"357":1,"358":1,"361":1,"370":1,"372":1,"374":1,"391":1,"393":1,"395":1,"404":1,"405":1,"433":1,"435":1,"436":1,"438":1,"500":1,"501":1,"502":1,"505":1,"506":1,"507":1,"508":1,"511":1,"523":1,"525":1,"527":1,"536":1,"538":1,"540":1,"559":1,"583":1,"584":1,"594":1,"596":1,"598":1,"599":1,"602":1,"604":1,"614":1,"616":1,"617":1,"619":1,"629":1,"631":1,"632":1,"634":1,"644":1,"646":1,"650":1,"651":1,"653":1,"663":1,"665":1,"666":1,"668":1,"677":1,"679":1,"680":1,"682":1,"691":1,"693":1,"695":1,"696":1,"699":1,"709":1,"711":1,"712":1,"714":1,"723":1,"725":1,"727":1,"728":1,"731":1,"741":1,"743":1,"745":1,"754":1,"756":1,"758":1,"759":1,"762":1,"775":1,"784":1,"786":1,"787":1,"788":1,"789":1,"792":1,"801":1,"803":1,"804":1,"805":1,"806":1,"809":1,"818":1,"820":1,"822":1,"823":1,"826":1,"840":1,"842":1,"844":1,"845":1,"848":1,"849":1,"852":1,"861":1,"863":1,"865":1,"874":1,"876":1,"877":1,"879":1,"888":1,"890":1,"891":1,"893":1,"899":1,"903":1,"922":1,"926":1,"928":1,"930":1,"957":1,"958":1,"961":1,"967":1,"968":1,"971":1,"977":1,"979":1,"983":1,"987":1,"990":1,"127":1,"128":1,"146":1,"148":1,"149":1,"153":1,"155":1,"157":1,"161":1,"163":1,"936":1,"937":1,"938":1,"946":1,"949":1,"10":1,"993":1},"coverage":96,"total":226,"class":null,"digits":4,"lineCount":993,"content":"<pre style='margin-left: 4em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Fluent<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\n<\/i><i class=\"hc\">\/**\n * @phpstan-import-type QueryParams from QueryBuilder\n *\/\n<\/i><i class=\"hk\">class <\/i><i class=\"hd\">Query <\/i><i class=\"hk\">implements <\/i><i class=\"hd\">Db\\Sql\n<\/i><i class=\"hk\">{\n    public const <\/i><i class=\"hd\">QUERY_SELECT <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'select'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">QUERY_INSERT <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'insert'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">QUERY_UPDATE <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'update'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">QUERY_DELETE <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'delete'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">QUERY_MERGE <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'merge'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">QUERY_TRUNCATE <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'truncate'<\/i><i class=\"hk\">;\n\n    public const <\/i><i class=\"hd\">PARAM_SELECT <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'select'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_DISTINCT <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'distinct'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_DISTINCTON <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'distinctOn'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_TABLES <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'tables'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_TABLE_TYPES <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'table-types'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_ON_CONDITIONS <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'on-conditions'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_LATERAL_TABLES <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'lateral-tables'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_WHERE <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'where'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_GROUPBY <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'groupBy'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_HAVING <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'having'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_ORDERBY <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'orderBy'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_LIMIT <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'limit'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_OFFSET <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'offset'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_COMBINE_QUERIES <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'combine-queries'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_INSERT_COLUMNS <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'insert-columns'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_INSERT_ONCONFLICT <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'insert-onconflict'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_RETURNING <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'returning'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_DATA <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'data'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_ROWS <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'rows'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_MERGE <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'merge'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_WITH <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'with'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_PREFIX <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'prefix'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_SUFFIX <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'suffix'<\/i><i class=\"hk\">;\n\n    public const <\/i><i class=\"hd\">TABLE_TYPE_MAIN <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'main'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">TABLE_TYPE_FROM <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'from'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">TABLE_TYPE_JOINS <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'joins'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">TABLE_TYPE_USING <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'using'<\/i><i class=\"hk\">;\n\n    private const <\/i><i class=\"hd\">JOIN_INNER <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'INNER JOIN'<\/i><i class=\"hk\">;\n    private const <\/i><i class=\"hd\">JOIN_LEFT_OUTER <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'LEFT OUTER JOIN'<\/i><i class=\"hk\">;\n    private const <\/i><i class=\"hd\">JOIN_RIGHT_OUTER <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'RIGHT OUTER JOIN'<\/i><i class=\"hk\">;\n    private const <\/i><i class=\"hd\">JOIN_FULL_OUTER <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'FULL OUTER JOIN'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">JOIN_CROSS <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'CROSS JOIN'<\/i><i class=\"hk\">;\n\n    private const <\/i><i class=\"hd\">COMBINE_UNION <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'UNION'<\/i><i class=\"hk\">;\n    private const <\/i><i class=\"hd\">COMBINE_UNION_ALL <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'UNION ALL'<\/i><i class=\"hk\">;\n    private const <\/i><i class=\"hd\">COMBINE_INTERSECT <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'INTERSECT'<\/i><i class=\"hk\">;\n    private const <\/i><i class=\"hd\">COMBINE_EXCEPT <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'EXCEPT'<\/i><i class=\"hk\">;\n\n    public const <\/i><i class=\"hd\">INSERT_ONCONFLICT_COLUMNS_OR_CONSTRAINT <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'columns-or-constraint'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">INSERT_ONCONFLICT_WHERE <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'where'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">INSERT_ONCONFLICT_DO <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'do'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">INSERT_ONCONFLICT_DO_WHERE <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'do-where'<\/i><i class=\"hk\">;\n\n    public const <\/i><i class=\"hd\">MERGE_WHEN_MATCHED <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'when-matched'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">MERGE_WHEN_NOT_MATCHED <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'when-not-matched'<\/i><i class=\"hk\">;\n\n    public const <\/i><i class=\"hd\">WITH_QUERIES <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'queries'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">WITH_QUERIES_SUFFIX <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'queries-suffix'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">WITH_QUERIES_NOT_MATERIALIZED <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'queries-not-materialized'<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">WITH_RECURSIVE <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'recursive'<\/i><i class=\"hk\">;\n\n    private const <\/i><i class=\"hd\">DEFAULT_PARAMS <\/i><i class=\"hk\">= [\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_SELECT <\/i><i class=\"hk\">=&gt; [],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DISTINCT <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DISTINCTON <\/i><i class=\"hk\">=&gt; [],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLES <\/i><i class=\"hk\">=&gt; [],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLE_TYPES <\/i><i class=\"hk\">=&gt; [\n            <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_MAIN <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_FROM <\/i><i class=\"hk\">=&gt; [],\n            <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_JOINS <\/i><i class=\"hk\">=&gt; [],\n            <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_USING <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        ],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ON_CONDITIONS <\/i><i class=\"hk\">=&gt; [],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_LATERAL_TABLES <\/i><i class=\"hk\">=&gt; [],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WHERE <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_GROUPBY <\/i><i class=\"hk\">=&gt; [],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_HAVING <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ORDERBY <\/i><i class=\"hk\">=&gt; [],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_LIMIT <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_OFFSET <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_COMBINE_QUERIES <\/i><i class=\"hk\">=&gt; [],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_INSERT_COLUMNS <\/i><i class=\"hk\">=&gt; [],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_INSERT_ONCONFLICT <\/i><i class=\"hk\">=&gt; [\n            <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">INSERT_ONCONFLICT_COLUMNS_OR_CONSTRAINT <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">INSERT_ONCONFLICT_WHERE <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">INSERT_ONCONFLICT_DO <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">INSERT_ONCONFLICT_DO_WHERE <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        ],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_RETURNING <\/i><i class=\"hk\">=&gt; [],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DATA <\/i><i class=\"hk\">=&gt; [],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ROWS <\/i><i class=\"hk\">=&gt; [],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_MERGE <\/i><i class=\"hk\">=&gt; [],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WITH <\/i><i class=\"hk\">=&gt; [\n            <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">WITH_QUERIES <\/i><i class=\"hk\">=&gt; [],\n            <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">WITH_QUERIES_SUFFIX <\/i><i class=\"hk\">=&gt; [],\n            <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">WITH_QUERIES_NOT_MATERIALIZED <\/i><i class=\"hk\">=&gt; [],\n            <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">WITH_RECURSIVE <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">,\n        ],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_PREFIX <\/i><i class=\"hk\">=&gt; [],\n        <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_SUFFIX <\/i><i class=\"hk\">=&gt; [],\n    ];\n\n    private <\/i><i class=\"hd\">QueryBuilder $queryBuilder<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">string $queryType <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">QUERY_SELECT<\/i><i class=\"hk\">;\n\n    <\/i><i class=\"hc\">\/** @phpstan-var QueryParams *\/\n    <\/i><i class=\"hk\">private array <\/i><i class=\"hd\">$params <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">DEFAULT_PARAMS<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">Db\\SqlDefinition<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $sqlDefinition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">Db\\Query<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $dbQuery <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n\n    public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">QueryBuilder $queryBuilder<\/i><i class=\"hk\">)\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryBuilder <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$queryBuilder<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">table<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $table<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): static\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">addTable<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_MAIN<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$table<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;int|string, string|int|bool|\\BackedEnum|Db\\Sql|NULL&gt; $columns\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">select<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        foreach (<\/i><i class=\"hd\">$columns <\/i><i class=\"hk\">as <\/i><i class=\"hd\">$alias <\/i><i class=\"hk\">=&gt; &amp;<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">) {\n            if (<\/i><i class=\"hd\">\\is_int<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">)) {\n                <\/i><i class=\"hd\">$alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n            }\n\n            if (<\/i><i class=\"hd\">$column <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$column <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'NULL'<\/i><i class=\"hk\">;\n            } else if (<\/i><i class=\"hd\">$column <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$column <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'TRUE'<\/i><i class=\"hk\">;\n            } else if (<\/i><i class=\"hd\">$column <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$column <\/i><i class=\"hk\">= <\/i><i class=\"hs\">'FALSE'<\/i><i class=\"hk\">;\n            }\n\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">checkAlias<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">);\n\n            if (!(<\/i><i class=\"hd\">$column <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">) &amp;&amp; !<\/i><i class=\"hd\">\\is_scalar<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$column<\/i><i class=\"hk\">) &amp;&amp; !(<\/i><i class=\"hd\">$column <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">\\BackedEnum<\/i><i class=\"hk\">)) {\n                throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">columnMustBeScalarOrEnumOrExpression<\/i><i class=\"hk\">();\n            }\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_SELECT<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">\\array_merge<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_SELECT<\/i><i class=\"hk\">], <\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">distinct<\/i><i class=\"hk\">(): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DISTINCT<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">distinctOn<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string <\/i><i class=\"hk\">...<\/i><i class=\"hd\">$on<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DISTINCTON<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">\\array_merge<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DISTINCTON<\/i><i class=\"hk\">], <\/i><i class=\"hd\">$on<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">from<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $from<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): static\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">addTable<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_FROM<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$from<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">join<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $join<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $onCondition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n    ): static\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">innerJoin<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$join<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$onCondition<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">innerJoin<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $join<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $onCondition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n    ): static\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">addTable<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">JOIN_INNER<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$join<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$onCondition<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">leftJoin<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $join<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $onCondition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n    ): static\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">leftOuterJoin<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$join<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$onCondition<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">leftOuterJoin<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $join<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $onCondition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n    ): static\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">addTable<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">JOIN_LEFT_OUTER<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$join<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$onCondition<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">rightJoin<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $join<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $onCondition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n    ): static\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rightOuterJoin<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$join<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$onCondition<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">rightOuterJoin<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $join<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $onCondition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n    ): static\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">addTable<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">JOIN_RIGHT_OUTER<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$join<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$onCondition<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">fullJoin<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $join<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $onCondition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n    ): static\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">fullOuterJoin<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$join<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$onCondition<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">fullOuterJoin<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $join<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $onCondition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n    ): static\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">addTable<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">JOIN_FULL_OUTER<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$join<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$onCondition<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">crossJoin<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $join<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): static\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">addTable<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">JOIN_CROSS<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$join<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">addTable<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">string $type<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $name<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $onCondition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n    ): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">checkAlias<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$name<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">);\n\n        if (<\/i><i class=\"hd\">\\in_array<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$type<\/i><i class=\"hk\">, [<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_MAIN<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_USING<\/i><i class=\"hk\">], <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">) &amp;&amp; (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLE_TYPES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$type<\/i><i class=\"hk\">] !== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">)) {\n            throw (<\/i><i class=\"hd\">$type <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_MAIN<\/i><i class=\"hk\">) ? <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">onlyOneMainTable<\/i><i class=\"hk\">() : <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">mergeOnlyOneUsing<\/i><i class=\"hk\">();\n        }\n\n        if (<\/i><i class=\"hd\">$alias <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$name<\/i><i class=\"hk\">;\n            <\/i><i class=\"hd\">\\assert<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\is_string<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">));\n        }\n\n        if (isset(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">])) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">tableAliasAlreadyExists<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">);\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">] = [<\/i><i class=\"hd\">$name<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$type<\/i><i class=\"hk\">];\n\n        if (<\/i><i class=\"hd\">\\in_array<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$type<\/i><i class=\"hk\">, [<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_MAIN<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_USING<\/i><i class=\"hk\">], <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">)) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLE_TYPES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$type<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">;\n        } else {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_TABLE_TYPES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$type <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_FROM <\/i><i class=\"hk\">? <\/i><i class=\"hd\">$type <\/i><i class=\"hk\">: <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_JOINS<\/i><i class=\"hk\">][] = <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">;\n        }\n\n        if (<\/i><i class=\"hd\">$onCondition <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConditionParam<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ON_CONDITIONS<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">)-&gt;<\/i><i class=\"hd\">add<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$onCondition<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">on<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $alias<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $condition<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed <\/i><i class=\"hk\">...<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConditionParam<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ON_CONDITIONS<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">)-&gt;<\/i><i class=\"hd\">add<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">, ...<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">lateral<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $alias<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_LATERAL_TABLES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">where<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $condition<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed <\/i><i class=\"hk\">...<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConditionParam<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WHERE<\/i><i class=\"hk\">)-&gt;<\/i><i class=\"hd\">add<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">, ...<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">whereIf<\/i><i class=\"hk\">(<\/i><i class=\"hd\">bool $ifCondition<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $condition<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed <\/i><i class=\"hk\">...<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): static\n    {\n        if (<\/i><i class=\"hd\">$ifCondition<\/i><i class=\"hk\">) {\n            return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">where<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">, ...<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;string|list&lt;mixed&gt;|Db\\Sql&gt; $conditions\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">whereAnd<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$conditions <\/i><i class=\"hk\">= []): <\/i><i class=\"hd\">Condition\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$condition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">Condition<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createAnd<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">, <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">);\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConditionParam<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WHERE<\/i><i class=\"hk\">)-&gt;<\/i><i class=\"hd\">add<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;string|list&lt;mixed&gt;|Db\\Sql&gt; $conditions\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">whereOr<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$conditions <\/i><i class=\"hk\">= []): <\/i><i class=\"hd\">Condition\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$condition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">Condition<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createOr<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">, <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">);\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConditionParam<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WHERE<\/i><i class=\"hk\">)-&gt;<\/i><i class=\"hd\">add<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">groupBy<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string <\/i><i class=\"hk\">...<\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_GROUPBY<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">\\array_merge<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_GROUPBY<\/i><i class=\"hk\">], <\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">having<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $condition<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed <\/i><i class=\"hk\">...<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConditionParam<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_HAVING<\/i><i class=\"hk\">)-&gt;<\/i><i class=\"hd\">add<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">, ...<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;string|list&lt;mixed&gt;|Db\\Sql&gt; $conditions\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">havingAnd<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$conditions <\/i><i class=\"hk\">= []): <\/i><i class=\"hd\">Condition\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$condition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">Condition<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createAnd<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">, <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">);\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConditionParam<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_HAVING<\/i><i class=\"hk\">)-&gt;<\/i><i class=\"hd\">add<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;string|list&lt;mixed&gt;|Db\\Sql&gt; $conditions\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">havingOr<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$conditions <\/i><i class=\"hk\">= []): <\/i><i class=\"hd\">Condition\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$condition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">Condition<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createOr<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$conditions<\/i><i class=\"hk\">, <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">);\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getConditionParam<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_HAVING<\/i><i class=\"hk\">)-&gt;<\/i><i class=\"hd\">add<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">;\n    }\n\n\n    private function <\/i><i class=\"hd\">getConditionParam<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $param<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): <\/i><i class=\"hd\">Condition\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$param <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ON_CONDITIONS<\/i><i class=\"hk\">) {\n            if (!isset(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">])) {\n                <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">Condition<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createAnd<\/i><i class=\"hk\">();\n            }\n\n            return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">];\n        } else if ((<\/i><i class=\"hd\">$param <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WHERE<\/i><i class=\"hk\">) || (<\/i><i class=\"hd\">$param <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_HAVING<\/i><i class=\"hk\">)) {\n            if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">] === <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">Condition<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createAnd<\/i><i class=\"hk\">();\n            }\n\n            return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">];\n        }\n\n        throw new <\/i><i class=\"hd\">Exceptions\\ShouldNotHappenException<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Invalid argument: ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">$param<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">orderBy<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql <\/i><i class=\"hk\">...<\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ORDERBY<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">\\array_merge<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ORDERBY<\/i><i class=\"hk\">], <\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">limit<\/i><i class=\"hk\">(<\/i><i class=\"hd\">int $limit<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_LIMIT<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$limit<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">offset<\/i><i class=\"hk\">(<\/i><i class=\"hd\">int $offset<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_OFFSET<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$offset<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">union<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $query<\/i><i class=\"hk\">): static\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">addCombine<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">COMBINE_UNION<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">);\n    }\n\n\n    public function <\/i><i class=\"hd\">unionAll<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $query<\/i><i class=\"hk\">): static\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">addCombine<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">COMBINE_UNION_ALL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">);\n    }\n\n\n    public function <\/i><i class=\"hd\">intersect<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $query<\/i><i class=\"hk\">): static\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">addCombine<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">COMBINE_INTERSECT<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">);\n    }\n\n\n    public function <\/i><i class=\"hd\">except<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $query<\/i><i class=\"hk\">): static\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">addCombine<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">COMBINE_EXCEPT<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">);\n    }\n\n\n    private function <\/i><i class=\"hd\">addCombine<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $type<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $query<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_COMBINE_QUERIES<\/i><i class=\"hk\">][] = [<\/i><i class=\"hd\">$query<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$type<\/i><i class=\"hk\">];\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;string&gt;|NULL $columns\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">insert<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $into <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, array|<\/i><i class=\"hd\">NULL $columns <\/i><i class=\"hk\">= []): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryType <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">QUERY_INSERT<\/i><i class=\"hk\">;\n\n        if (<\/i><i class=\"hd\">$into <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">table<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$into<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">);\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_INSERT_COLUMNS<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$columns<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $data\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">values<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$data<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryType <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">QUERY_INSERT<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DATA<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$data <\/i><i class=\"hk\">+ <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DATA<\/i><i class=\"hk\">];\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;array&lt;string, mixed&gt;&gt; $rows\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">rows<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$rows<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryType <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">QUERY_INSERT<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ROWS<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">\\array_merge<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ROWS<\/i><i class=\"hk\">], <\/i><i class=\"hd\">$rows<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param string|list&lt;string&gt;|NULL $columnsOrConstraint\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">onConflict<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|array|<\/i><i class=\"hd\">NULL $columnsOrConstraint <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $where <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        if (<\/i><i class=\"hd\">\\is_string<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$columnsOrConstraint<\/i><i class=\"hk\">) &amp;&amp; (<\/i><i class=\"hd\">$where <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">onConflictWhereNotForConstraint<\/i><i class=\"hk\">();\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_INSERT_ONCONFLICT<\/i><i class=\"hk\">][<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">INSERT_ONCONFLICT_COLUMNS_OR_CONSTRAINT<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$columnsOrConstraint <\/i><i class=\"hk\">?? <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_INSERT_ONCONFLICT<\/i><i class=\"hk\">][<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">INSERT_ONCONFLICT_WHERE<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$where <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL <\/i><i class=\"hk\">? <\/i><i class=\"hd\">NULL <\/i><i class=\"hk\">: <\/i><i class=\"hd\">Condition<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createAnd<\/i><i class=\"hk\">()-&gt;<\/i><i class=\"hd\">add<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$where<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;int|string, string|Db\\Sql&gt; $set\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">doUpdate<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$set<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $where <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_INSERT_ONCONFLICT<\/i><i class=\"hk\">][<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">INSERT_ONCONFLICT_DO<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$set<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_INSERT_ONCONFLICT<\/i><i class=\"hk\">][<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">INSERT_ONCONFLICT_DO_WHERE<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$where <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL <\/i><i class=\"hk\">? <\/i><i class=\"hd\">NULL <\/i><i class=\"hk\">: <\/i><i class=\"hd\">Condition<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createAnd<\/i><i class=\"hk\">()-&gt;<\/i><i class=\"hd\">add<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$where<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">doNothing<\/i><i class=\"hk\">(): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_INSERT_ONCONFLICT<\/i><i class=\"hk\">][<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">INSERT_ONCONFLICT_DO<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_INSERT_ONCONFLICT<\/i><i class=\"hk\">][<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">INSERT_ONCONFLICT_DO_WHERE<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">update<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $table <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryType <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">QUERY_UPDATE<\/i><i class=\"hk\">;\n\n        if (<\/i><i class=\"hd\">$table <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">table<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$table<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;string, mixed&gt; $data\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">set<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$data<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryType <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">QUERY_UPDATE<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DATA<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$data <\/i><i class=\"hk\">+ <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_DATA<\/i><i class=\"hk\">];\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">delete<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $from <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryType <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">QUERY_DELETE<\/i><i class=\"hk\">;\n\n        if (<\/i><i class=\"hd\">$from <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">table<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$from<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param array&lt;int|string, string|int|Db\\Sql&gt; $returning\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">returning<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$returning<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_RETURNING<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">\\array_merge<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_RETURNING<\/i><i class=\"hk\">], <\/i><i class=\"hd\">$returning<\/i><i class=\"hk\">);\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">merge<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $into <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryType <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">QUERY_MERGE<\/i><i class=\"hk\">;\n\n        if (<\/i><i class=\"hd\">$into <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">table<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$into<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">using<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $dataSource<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $onCondition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n    ): static\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">addTable<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_TYPE_USING<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$dataSource<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$onCondition<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">whenMatched<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $then<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $condition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_MERGE<\/i><i class=\"hk\">][] = [\n            <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">MERGE_WHEN_MATCHED<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">$then<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">$condition <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL <\/i><i class=\"hk\">? <\/i><i class=\"hd\">NULL <\/i><i class=\"hk\">: <\/i><i class=\"hd\">Condition<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createAnd<\/i><i class=\"hk\">()-&gt;<\/i><i class=\"hd\">add<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">),\n        ];\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">whenNotMatched<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $then<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $condition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_MERGE<\/i><i class=\"hk\">][] = [\n            <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">MERGE_WHEN_NOT_MATCHED<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">$then<\/i><i class=\"hk\">,\n            <\/i><i class=\"hd\">$condition <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL <\/i><i class=\"hk\">? <\/i><i class=\"hd\">NULL <\/i><i class=\"hk\">: <\/i><i class=\"hd\">Condition<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createAnd<\/i><i class=\"hk\">()-&gt;<\/i><i class=\"hd\">add<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">),\n        ];\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">truncate<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $table <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryType <\/i><i class=\"hk\">= <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">QUERY_TRUNCATE<\/i><i class=\"hk\">;\n\n        if (<\/i><i class=\"hd\">$table <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">table<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$table<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">with<\/i><i class=\"hk\">(\n        <\/i><i class=\"hd\">string $as<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">Db\\Sql $query<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $suffix <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">,\n        <\/i><i class=\"hd\">bool $notMaterialized <\/i><i class=\"hk\">= <\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">,\n    ): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WITH<\/i><i class=\"hk\">][<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">WITH_QUERIES<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$as<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$query<\/i><i class=\"hk\">;\n\n        if (<\/i><i class=\"hd\">$suffix <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WITH<\/i><i class=\"hk\">][<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">WITH_QUERIES_SUFFIX<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$as<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">$suffix<\/i><i class=\"hk\">;\n        }\n\n        if (<\/i><i class=\"hd\">$notMaterialized<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WITH<\/i><i class=\"hk\">][<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">WITH_QUERIES_NOT_MATERIALIZED<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$as<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">;\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">recursive<\/i><i class=\"hk\">(): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WITH<\/i><i class=\"hk\">][<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">WITH_RECURSIVE<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">prefix<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $queryPrefix<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed <\/i><i class=\"hk\">...<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">\\array_unshift<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$queryPrefix<\/i><i class=\"hk\">);\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_PREFIX<\/i><i class=\"hk\">][] = <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">suffix<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $querySuffix<\/i><i class=\"hk\">, <\/i><i class=\"hd\">mixed <\/i><i class=\"hk\">...<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">\\array_unshift<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$params<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$querySuffix<\/i><i class=\"hk\">);\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_SUFFIX<\/i><i class=\"hk\">][] = <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">;\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">has<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $param<\/i><i class=\"hk\">): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        if (!<\/i><i class=\"hd\">\\array_key_exists<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">DEFAULT_PARAMS<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">nonExistingQueryParam<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\array_keys<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">DEFAULT_PARAMS<\/i><i class=\"hk\">));\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">] !== <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">DEFAULT_PARAMS<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">];\n    }\n\n\n    protected function <\/i><i class=\"hd\">get<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $param<\/i><i class=\"hk\">): <\/i><i class=\"hd\">mixed\n    <\/i><i class=\"hk\">{\n        if (!<\/i><i class=\"hd\">\\array_key_exists<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">DEFAULT_PARAMS<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">nonExistingQueryParam<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\array_keys<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">DEFAULT_PARAMS<\/i><i class=\"hk\">));\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">];\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">reset<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $param<\/i><i class=\"hk\">): static\n    {\n        if (!<\/i><i class=\"hd\">\\array_key_exists<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">DEFAULT_PARAMS<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">nonExistingQueryParam<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\array_keys<\/i><i class=\"hk\">(<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">DEFAULT_PARAMS<\/i><i class=\"hk\">));\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">] = <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">DEFAULT_PARAMS<\/i><i class=\"hk\">[<\/i><i class=\"hd\">$param<\/i><i class=\"hk\">];\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    protected function <\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sqlDefinition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dbQuery <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">private function <\/i><i class=\"hd\">checkAlias<\/i><i class=\"hk\">(<\/i><i class=\"hd\">mixed $data<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $alias<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        if (((<\/i><i class=\"hd\">$data <\/i><i class=\"hk\">instanceof <\/i><i class=\"hd\">Db\\Sql<\/i><i class=\"hk\">)) &amp;&amp; (<\/i><i class=\"hd\">$alias <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">)) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">sqlMustHaveAlias<\/i><i class=\"hk\">();\n        }\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryBuilderException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">getSqlDefinition<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Db\\SqlDefinition\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sqlDefinition <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sqlDefinition <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryBuilder<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">createSqlDefinition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">queryType<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">sqlDefinition<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">toDbQuery<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Db\\Query\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dbQuery <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dbQuery <\/i><i class=\"hk\">= <\/i><i class=\"hd\">Db\\SqlDefinition<\/i><i class=\"hk\">::<\/i><i class=\"hd\">createQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">getSqlDefinition<\/i><i class=\"hk\">());\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">dbQuery<\/i><i class=\"hk\">;\n    }\n\n\n    public function <\/i><i class=\"hd\">__clone<\/i><i class=\"hk\">()\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n\n        foreach (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ON_CONDITIONS<\/i><i class=\"hk\">] as <\/i><i class=\"hd\">$alias <\/i><i class=\"hk\">=&gt; <\/i><i class=\"hd\">$joinCondition<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_ON_CONDITIONS<\/i><i class=\"hk\">][<\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">] = clone <\/i><i class=\"hd\">$joinCondition<\/i><i class=\"hk\">;\n        }\n\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WHERE<\/i><i class=\"hk\">] !== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WHERE<\/i><i class=\"hk\">] = clone <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_WHERE<\/i><i class=\"hk\">];\n        }\n\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_HAVING<\/i><i class=\"hk\">] !== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_HAVING<\/i><i class=\"hk\">] = clone <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">params<\/i><i class=\"hk\">[<\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_HAVING<\/i><i class=\"hk\">];\n        }\n    }\n\n}\n<\/i><\/code><\/pre>"},"F41":{"name":"Fluent\/Exceptions\/ShouldNotHappenException.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Fluent\/Exceptions\/ShouldNotHappenException.php","lines":[],"coverage":0,"total":0,"class":"light","digits":2,"lineCount":9,"content":"<pre style='margin-left: 2em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Fluent\\Exceptions<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">ShouldNotHappenException <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">Exception\n<\/i><i class=\"hk\">{\n\n}\n<\/i><\/code><\/pre>"},"F42":{"name":"Fluent\/Exceptions\/ConditionException.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Fluent\/Exceptions\/ConditionException.php","lines":{"15":1,"16":-2,"21":1,"22":-2,"27":1,"28":-2,"34":-2,"33":1,"5":1,"37":1},"coverage":100,"total":6,"class":null,"digits":3,"lineCount":37,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Fluent\\Exceptions<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">ConditionException <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">Exception\n<\/i><i class=\"hk\">{\n    public const <\/i><i class=\"hd\">NO_PARENT <\/i><i class=\"hk\">= <\/i><i class=\"hd\">1<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">NO_QUERY <\/i><i class=\"hk\">= <\/i><i class=\"hd\">2<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">ONLY_STRING_CONDITION_CAN_HAVE_PARAMS <\/i><i class=\"hk\">= <\/i><i class=\"hd\">3<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">BAD_PARAMS_COUNT <\/i><i class=\"hk\">= <\/i><i class=\"hd\">4<\/i><i class=\"hk\">;\n\n\n    public static function <\/i><i class=\"hd\">noParent<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'This condition has no parent assigned.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">NO_PARENT<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">noQuery<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'This condition has no query assigned.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">NO_QUERY<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">onlyStringConditionCanHaveParams<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Only string condition can be add with params.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">ONLY_STRING_CONDITION_CAN_HAVE_PARAMS<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">badParamsCount<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $condition<\/i><i class=\"hk\">, <\/i><i class=\"hd\">int $expected<\/i><i class=\"hk\">, <\/i><i class=\"hd\">int $actual<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'In condition \\'%s\\' is expected %d paramerters, but %d was passed.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$condition<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$expected<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$actual<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">BAD_PARAMS_COUNT<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F43":{"name":"Fluent\/Exceptions\/QueryException.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Fluent\/Exceptions\/QueryException.php","lines":{"20":1,"21":-2,"26":1,"27":-2,"35":1,"36":-2,"41":1,"42":-2,"48":-2,"53":1,"54":-2,"59":1,"60":-2,"65":1,"66":-2,"71":1,"72":-2,"47":1,"5":1,"75":1},"coverage":100,"total":11,"class":null,"digits":3,"lineCount":75,"content":"<pre style='margin-left: 3em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Fluent\\Exceptions<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">QueryException <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">Exception\n<\/i><i class=\"hk\">{\n    public const <\/i><i class=\"hd\">ONLY_ONE_MAIN_TABLE <\/i><i class=\"hk\">= <\/i><i class=\"hd\">1<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">TABLE_ALIAS_ALREADY_EXISTS <\/i><i class=\"hk\">= <\/i><i class=\"hd\">2<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">NON_EXISTING_QUERY_PARAM <\/i><i class=\"hk\">= <\/i><i class=\"hd\">3<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">SQL_MUST_HAVE_ALIAS <\/i><i class=\"hk\">= <\/i><i class=\"hd\">4<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">PARAM_MUST_BE_SCALAR_OR_ENUM_OR_EXPRESSION <\/i><i class=\"hk\">= <\/i><i class=\"hd\">5<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">CANT_UPDATE_QUERY_AFTER_EXECUTE <\/i><i class=\"hk\">= <\/i><i class=\"hd\">6<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">YOU_MUST_EXECUTE_QUERY_BEFORE_THAT <\/i><i class=\"hk\">= <\/i><i class=\"hd\">7<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">MERGE_ONLY_ONE_USING <\/i><i class=\"hk\">= <\/i><i class=\"hd\">8<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">ON_CONFLICT_WHERE_NOT_FOR_CONSTRAINT <\/i><i class=\"hk\">= <\/i><i class=\"hd\">9<\/i><i class=\"hk\">;\n\n\n    public static function <\/i><i class=\"hd\">onlyOneMainTable<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'There can be only one main table.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">ONLY_ONE_MAIN_TABLE<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">tableAliasAlreadyExists<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $alias<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'This table alias \"%s\" already exists.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">TABLE_ALIAS_ALREADY_EXISTS<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;string&gt; $params\n     *\/\n    <\/i><i class=\"hk\">public static function <\/i><i class=\"hd\">nonExistingQueryParam<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $param<\/i><i class=\"hk\">, array <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Non existing query parameter \"%s\". You can use only these parameters \"%s\".'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$param<\/i><i class=\"hk\">, <\/i><i class=\"hd\">\\implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">', '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$params<\/i><i class=\"hk\">)), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">NON_EXISTING_QUERY_PARAM<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">sqlMustHaveAlias<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Sql must have an alias.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">SQL_MUST_HAVE_ALIAS<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">columnMustBeScalarOrEnumOrExpression<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Column must be a scalar, an enum, Fluent\\Query or Db\\Sql.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">PARAM_MUST_BE_SCALAR_OR_ENUM_OR_EXPRESSION<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">cantUpdateQueryAfterExecute<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Can\\'t update query after execute.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">CANT_UPDATE_QUERY_AFTER_EXECUTE<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">youMustExecuteQueryBeforeThat<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'You must execute query before that'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">YOU_MUST_EXECUTE_QUERY_BEFORE_THAT<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">mergeOnlyOneUsing<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'USING can be set only once.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">MERGE_ONLY_ONE_USING<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">onConflictWhereNotForConstraint<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'ON CONFLICT with constraint can\\'t have a WHERE clause.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">ON_CONFLICT_WHERE_NOT_FOR_CONSTRAINT<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F44":{"name":"Fluent\/Exceptions\/Exception.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Fluent\/Exceptions\/Exception.php","lines":{"9":1},"coverage":100,"total":1,"class":"light","digits":2,"lineCount":9,"content":"<pre style='margin-left: 2em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Fluent\\Exceptions<\/i><i class=\"hk\">;\n\nabstract class <\/i><i class=\"hd\">Exception <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">\\RuntimeException\n<\/i><i class=\"hk\">{\n\n}\n<\/i><\/code><\/pre>"},"F45":{"name":"Fluent\/Exceptions\/QueryBuilderException.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Fluent\/Exceptions\/QueryBuilderException.php","lines":{"28":-2,"33":1,"34":-2,"39":1,"40":-2,"45":1,"46":-2,"51":1,"52":-2,"57":1,"58":-2,"63":1,"64":-2,"72":-1,"73":-2,"78":1,"79":-2,"84":1,"85":-2,"90":1,"91":-2,"96":1,"97":-2,"102":1,"103":-2,"108":1,"109":-2,"114":1,"115":-2,"120":1,"121":-2,"27":1,"5":1,"124":1},"coverage":94,"total":18,"class":null,"digits":4,"lineCount":124,"content":"<pre style='margin-left: 4em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Fluent\\Exceptions<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">QueryBuilderException <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">Exception\n<\/i><i class=\"hk\">{\n    public const <\/i><i class=\"hd\">BAD_QUERY_TYPE <\/i><i class=\"hk\">= <\/i><i class=\"hd\">1<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">NO_COLUMNS_TO_SELECT <\/i><i class=\"hk\">= <\/i><i class=\"hd\">2<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">NO_ON_CONDITION <\/i><i class=\"hk\">= <\/i><i class=\"hd\">3<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">NO_DATA_TO_INSERT <\/i><i class=\"hk\">= <\/i><i class=\"hd\">4<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">NO_DATA_TO_UPDATE <\/i><i class=\"hk\">= <\/i><i class=\"hd\">5<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">DATA_CANT_CONTAIN_ARRAY <\/i><i class=\"hk\">= <\/i><i class=\"hd\">6<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">NO_MAIN_TABLE <\/i><i class=\"hk\">= <\/i><i class=\"hd\">7<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">NO_CORRESPONDING_TABLE <\/i><i class=\"hk\">= <\/i><i class=\"hd\">8<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">SELECT_ALL_COLUMNS_CANT_BE_COMBINED_WITH_CONCRETE_COLUMN_FOR_INSERT_SELECT_WITH_COLUMN_DETECTION <\/i><i class=\"hk\">= <\/i><i class=\"hd\">9<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">MERGE_NO_USING <\/i><i class=\"hk\">= <\/i><i class=\"hd\">10<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">MERGE_NO_WHEN <\/i><i class=\"hk\">= <\/i><i class=\"hd\">11<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">ON_CONFLICT_NO_DO <\/i><i class=\"hk\">= <\/i><i class=\"hd\">12<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">ON_CONFLICT_DO_WITHOUT_DEFINITION <\/i><i class=\"hk\">= <\/i><i class=\"hd\">13<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">ON_CONFLICT_DO_UPDATE_SET_SINGLE_COLUMN_CAN_BE_ONLY_STRING <\/i><i class=\"hk\">= <\/i><i class=\"hd\">14<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">MISSING_COLUMN_ALIAS <\/i><i class=\"hk\">= <\/i><i class=\"hd\">15<\/i><i class=\"hk\">;\n    public const <\/i><i class=\"hd\">CANT_COMBINE_DISTINCT_AND_DISTINCT_ON <\/i><i class=\"hk\">= <\/i><i class=\"hd\">16<\/i><i class=\"hk\">;\n\n\n    public static function <\/i><i class=\"hd\">badQueryType<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $type<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Bad query type \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$type<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">BAD_QUERY_TYPE<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">noColumnsToSelect<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'No columns to select.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">NO_COLUMNS_TO_SELECT<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">noOnCondition<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $alias<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\sprintf<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'There is no conditions for ON for table alias \\'%s\\'.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$alias<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">NO_ON_CONDITION<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">noDataToInsert<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'No data (values, rows or select) to insert.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">NO_DATA_TO_INSERT<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">noDataToUpdate<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'No data to update.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">NO_DATA_TO_UPDATE<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">dataCantContainArray<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'You can\\'t use array in data for INSERT or UPDATE. Convert array with PhPgSql\\Db\\Helper::createPgArray() or ::createStringPgArray().'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">DATA_CANT_CONTAIN_ARRAY<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">noMainTable<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'No main table defined.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">NO_MAIN_TABLE<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param list&lt;string&gt; $aliases\n     *\/\n    <\/i><i class=\"hk\">public static function <\/i><i class=\"hd\">noCorrespondingTable<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$aliases<\/i><i class=\"hk\">): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'There are extra join conditions without corresponding tables: ' <\/i><i class=\"hk\">. <\/i><i class=\"hd\">implode<\/i><i class=\"hk\">(<\/i><i class=\"hs\">', '<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$aliases<\/i><i class=\"hk\">), <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">NO_CORRESPONDING_TABLE<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">selectAllColumnsCantBeCombinedWithConcreteColumnForInsertSelectWithColumnDetection<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'You can\\'t use \\'SELECT *\\' and also some concrete column for INSERT - SELECT with column detection.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">SELECT_ALL_COLUMNS_CANT_BE_COMBINED_WITH_CONCRETE_COLUMN_FOR_INSERT_SELECT_WITH_COLUMN_DETECTION<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">mergeNoUsing<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'There is missing USING statement for MERGE command.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">MERGE_NO_USING<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">mergeNoWhen<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'There must be at least one WHEN statement for MERGE command.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">MERGE_NO_WHEN<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">onConflictNoDo<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'There is missing DO statement for ON CONFLICT clause.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">ON_CONFLICT_NO_DO<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">onConflictDoWithoutDefinition<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'There is existing DO statement but ON CONFLICT clause is missing.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">ON_CONFLICT_DO_WITHOUT_DEFINITION<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">onConflictDoUpdateSetSingleColumnCanBeOnlyString<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'ON CONFLICT UPDATE SET array value without alias (string key) must be only string.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">ON_CONFLICT_DO_UPDATE_SET_SINGLE_COLUMN_CAN_BE_ONLY_STRING<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">missingColumnAlias<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Non-string columns for INSERT-SELECT must have an alias.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">MISSING_COLUMN_ALIAS<\/i><i class=\"hk\">);\n    }\n\n\n    public static function <\/i><i class=\"hd\">cantCombineDistinctAndDistinctOn<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">self\n    <\/i><i class=\"hk\">{\n        return new <\/i><i class=\"hd\">self<\/i><i class=\"hk\">(<\/i><i class=\"hs\">'Can\\'t combine DISTINCT and DISTINCT ON in one query.'<\/i><i class=\"hk\">, <\/i><i class=\"hd\">self<\/i><i class=\"hk\">::<\/i><i class=\"hd\">CANT_COMBINE_DISTINCT_AND_DISTINCT_ON<\/i><i class=\"hk\">);\n    }\n\n}\n<\/i><\/code><\/pre>"},"F46":{"name":"Fluent\/QueryExecute.php","file":"\/home\/forrest79\/project\/FORREST79\/Libs\/PhPgSql\/src\/Fluent\/QueryExecute.php","lines":{"33":1,"35":1,"36":1,"39":1,"40":-2,"48":1,"50":1,"51":1,"54":1,"55":-2,"64":1,"83":1,"87":1,"92":-2,"105":-2,"124":1,"128":-2,"140":1,"141":-2,"153":-2,"165":-2,"178":-2,"190":1,"191":-2,"203":1,"204":-2,"216":1,"217":-2,"230":1,"231":-2,"243":-2,"79":1,"80":1,"82":1,"86":1,"91":1,"103":1,"104":1,"110":1,"111":1,"114":1,"115":1,"123":1,"127":1,"152":1,"164":1,"177":1,"242":1,"248":1,"250":1,"251":1,"7":1,"22":1,"23":1,"24":1,"63":1,"67":1,"68":1,"254":1},"coverage":100,"total":45,"class":null,"digits":4,"lineCount":254,"content":"<pre style='margin-left: 4em'><code style=\"color: hh\"><i class=\"hd\">&lt;?php <\/i><i class=\"hk\">declare(<\/i><i class=\"hd\">strict_types<\/i><i class=\"hk\">=<\/i><i class=\"hd\">1<\/i><i class=\"hk\">);\n\nnamespace <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Fluent<\/i><i class=\"hk\">;\n\nuse <\/i><i class=\"hd\">Forrest79\\PhPgSql\\Db<\/i><i class=\"hk\">;\n\nclass <\/i><i class=\"hd\">QueryExecute <\/i><i class=\"hk\">extends <\/i><i class=\"hd\">Query <\/i><i class=\"hk\">implements <\/i><i class=\"hd\">\\Countable\n<\/i><i class=\"hk\">{\n    private <\/i><i class=\"hd\">Db\\Connection $connection<\/i><i class=\"hk\">;\n\n    private <\/i><i class=\"hd\">Db\\Result<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $result <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n    <\/i><i class=\"hc\">\/** @template T of Db\\Row @var \\Closure(T): void|NULL *\/\n    <\/i><i class=\"hk\">private <\/i><i class=\"hd\">\\Closure<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $rowFetchMutator <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n\n    <\/i><i class=\"hc\">\/** @var array&lt;string, callable&gt; *\/\n    <\/i><i class=\"hk\">private array <\/i><i class=\"hd\">$columnsFetchMutator <\/i><i class=\"hk\">= [];\n\n\n    public function <\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">QueryBuilder $queryBuilder<\/i><i class=\"hk\">, <\/i><i class=\"hd\">Db\\Connection $connection<\/i><i class=\"hk\">)\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$connection<\/i><i class=\"hk\">;\n        <\/i><i class=\"hd\">parent<\/i><i class=\"hk\">::<\/i><i class=\"hd\">__construct<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$queryBuilder<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @template T of Db\\Row\n     * @param \\Closure(T): void $rowFetchMutator\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">setRowFetchMutator<\/i><i class=\"hk\">(<\/i><i class=\"hd\">\\Closure $rowFetchMutator<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rowFetchMutator <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$rowFetchMutator<\/i><i class=\"hk\">;\n\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">setRowFetchMutator<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$rowFetchMutator<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @param non-empty-array&lt;string, callable&gt; $columnsFetchMutator\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">setColumnsFetchMutator<\/i><i class=\"hk\">(array <\/i><i class=\"hd\">$columnsFetchMutator<\/i><i class=\"hk\">): static\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsFetchMutator <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$columnsFetchMutator<\/i><i class=\"hk\">;\n\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">setColumnsFetchMutator<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$columnsFetchMutator<\/i><i class=\"hk\">);\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">protected function <\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">cantUpdateQueryAfterExecute<\/i><i class=\"hk\">();\n        }\n\n        <\/i><i class=\"hd\">parent<\/i><i class=\"hk\">::<\/i><i class=\"hd\">resetQuery<\/i><i class=\"hk\">();\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Db\\Exceptions\\ConnectionException\n     * @throws Db\\Exceptions\\QueryException\n     * @throws Exceptions\\QueryException\n     * @throws Exceptions\\QueryBuilderException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">execute<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Db\\Result\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result <\/i><i class=\"hk\">= <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">query<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">);\n\n            if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rowFetchMutator <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n                <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">setRowFetchMutator<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">rowFetchMutator<\/i><i class=\"hk\">);\n            }\n\n            if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsFetchMutator <\/i><i class=\"hk\">!== []) {\n                <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">setColumnsFetchMutator<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">columnsFetchMutator<\/i><i class=\"hk\">);\n            }\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Db\\Exceptions\\ConnectionException\n     * @throws Db\\Exceptions\\QueryException\n     * @throws Exceptions\\QueryException\n     * @throws Exceptions\\QueryBuilderException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">reexecute<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Db\\Result\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">releaseResult<\/i><i class=\"hk\">();\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">execute<\/i><i class=\"hk\">();\n    }\n\n\n    private function <\/i><i class=\"hd\">releaseResult<\/i><i class=\"hk\">(<\/i><i class=\"hd\">bool $freeResult <\/i><i class=\"hk\">= <\/i><i class=\"hd\">TRUE<\/i><i class=\"hk\">): <\/i><i class=\"hd\">void\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$freeResult <\/i><i class=\"hk\">&amp;&amp; (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result <\/i><i class=\"hk\">!== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">)) {\n            <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">free<\/i><i class=\"hk\">();\n        }\n\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">;\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Exceptions\\QueryException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">free<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">bool\n    <\/i><i class=\"hk\">{\n        if (<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result <\/i><i class=\"hk\">=== <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">) {\n            throw <\/i><i class=\"hd\">Exceptions\\QueryException<\/i><i class=\"hk\">::<\/i><i class=\"hd\">youMustExecuteQueryBeforeThat<\/i><i class=\"hk\">();\n        }\n\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">result<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">free<\/i><i class=\"hk\">();\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Db\\Exceptions\\ConnectionException\n     * @throws Db\\Exceptions\\QueryException\n     * @throws Exceptions\\QueryException\n     * @throws Exceptions\\QueryBuilderException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">count<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">int\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hc\">\/** @phpstan-var int&lt;0, max&gt; *\/\n        <\/i><i class=\"hk\">return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">execute<\/i><i class=\"hk\">()-&gt;<\/i><i class=\"hd\">getRowCount<\/i><i class=\"hk\">();\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Db\\Exceptions\\ConnectionException\n     * @throws Db\\Exceptions\\QueryException\n     * @throws Exceptions\\QueryException\n     * @throws Exceptions\\QueryBuilderException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">getAffectedRows<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">int\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">execute<\/i><i class=\"hk\">()-&gt;<\/i><i class=\"hd\">getAffectedRows<\/i><i class=\"hk\">();\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Db\\Exceptions\\ConnectionException\n     * @throws Db\\Exceptions\\QueryException\n     * @throws Exceptions\\QueryException\n     * @throws Exceptions\\QueryBuilderException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">fetch<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Db\\Row<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">execute<\/i><i class=\"hk\">()-&gt;<\/i><i class=\"hd\">fetch<\/i><i class=\"hk\">();\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return mixed value on success, NULL if no next record\n     * @throws Db\\Exceptions\\ConnectionException\n     * @throws Db\\Exceptions\\QueryException\n     * @throws Exceptions\\QueryException\n     * @throws Exceptions\\QueryBuilderException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">fetchSingle<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">mixed\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">execute<\/i><i class=\"hk\">()-&gt;<\/i><i class=\"hd\">fetchSingle<\/i><i class=\"hk\">();\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return list&lt;Db\\Row&gt;\n     * @throws Db\\Exceptions\\ConnectionException\n     * @throws Db\\Exceptions\\QueryException\n     * @throws Exceptions\\QueryException\n     * @throws Exceptions\\QueryBuilderException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">fetchAll<\/i><i class=\"hk\">(<\/i><i class=\"hd\">int<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $offset <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">int<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $limit <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): array\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">execute<\/i><i class=\"hk\">()-&gt;<\/i><i class=\"hd\">fetchAll<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$offset<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$limit<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return array&lt;int|string, mixed&gt;\n     * @throws Db\\Exceptions\\ConnectionException\n     * @throws Db\\Exceptions\\QueryException\n     * @throws Exceptions\\QueryException\n     * @throws Exceptions\\QueryBuilderException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">fetchAssoc<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string $assoc<\/i><i class=\"hk\">): array\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">execute<\/i><i class=\"hk\">()-&gt;<\/i><i class=\"hd\">fetchAssoc<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$assoc<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return array&lt;int|string, mixed&gt;\n     * @throws Db\\Exceptions\\ConnectionException\n     * @throws Db\\Exceptions\\QueryException\n     * @throws Exceptions\\QueryException\n     * @throws Exceptions\\QueryBuilderException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">fetchPairs<\/i><i class=\"hk\">(<\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $key <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">, <\/i><i class=\"hd\">string<\/i><i class=\"hk\">|<\/i><i class=\"hd\">NULL $value <\/i><i class=\"hk\">= <\/i><i class=\"hd\">NULL<\/i><i class=\"hk\">): array\n    {\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">execute<\/i><i class=\"hk\">()-&gt;<\/i><i class=\"hd\">fetchPairs<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$key<\/i><i class=\"hk\">, <\/i><i class=\"hd\">$value<\/i><i class=\"hk\">);\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @return Db\\RowIterator&lt;int, Db\\Row&gt;\n     * @throws Db\\Exceptions\\ConnectionException\n     * @throws Db\\Exceptions\\QueryException\n     * @throws Exceptions\\QueryException\n     * @throws Exceptions\\QueryBuilderException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">fetchIterator<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Db\\RowIterator\n    <\/i><i class=\"hk\">{\n        <\/i><i class=\"hc\">\/**    @phpstan-var Db\\RowIterator&lt;int, Db\\Row&gt; *\/\n        <\/i><i class=\"hk\">return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">execute<\/i><i class=\"hk\">()-&gt;<\/i><i class=\"hd\">fetchIterator<\/i><i class=\"hk\">();\n    }\n\n\n    <\/i><i class=\"hc\">\/**\n     * @throws Db\\Exceptions\\ConnectionException\n     * @throws Db\\Exceptions\\QueryException\n     * @throws Exceptions\\QueryException\n     * @throws Exceptions\\QueryBuilderException\n     *\/\n    <\/i><i class=\"hk\">public function <\/i><i class=\"hd\">asyncExecute<\/i><i class=\"hk\">(): <\/i><i class=\"hd\">Db\\AsyncQuery\n    <\/i><i class=\"hk\">{\n        return <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">connection<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">asyncQuery<\/i><i class=\"hk\">(<\/i><i class=\"hd\">$this<\/i><i class=\"hk\">);\n    }\n\n\n    public function <\/i><i class=\"hd\">__clone<\/i><i class=\"hk\">()\n    {\n        <\/i><i class=\"hd\">$this<\/i><i class=\"hk\">-&gt;<\/i><i class=\"hd\">releaseResult<\/i><i class=\"hk\">(<\/i><i class=\"hd\">FALSE<\/i><i class=\"hk\">); <\/i><i class=\"hc\">\/\/ must be before parent clone - we need to allow resetQuery() first\n\n        <\/i><i class=\"hd\">parent<\/i><i class=\"hk\">::<\/i><i class=\"hd\">__clone<\/i><i class=\"hk\">();\n    }\n\n}\n<\/i><\/code><\/pre>"}};
		let _directories = {"files":{"Db":{"name":"Db","count":37,"coverage":3557,"files":{"RowFactory.php":"F0","AsyncQuery.php":"F1","ColumnValueParser.php":"F2","Sql":{"name":"Db\/Sql","count":3,"coverage":300,"files":{"Expression.php":"F3","Literal.php":"F4","Query.php":"F5"}},"Row.php":"F6","ResultFactories":{"name":"Db\/ResultFactories","count":1,"coverage":100,"files":{"Basic.php":"F7"}},"DataTypeParsers":{"name":"Db\/DataTypeParsers","count":1,"coverage":100,"files":{"Basic.php":"F8"}},"Transaction.php":"F9","DataTypeCaches":{"name":"Db\/DataTypeCaches","count":2,"coverage":187,"files":{"PhpFile.php":"F10","DbLoader.php":"F11"}},"DataTypeParser.php":"F12","ResultFactory.php":"F13","DataTypeCache.php":"F14","RowFactories":{"name":"Db\/RowFactories","count":1,"coverage":100,"files":{"Basic.php":"F15"}},"Connection.php":"F16","DummyColumnValueParser.php":"F17","RowIterator.php":"F18","PreparedStatement.php":"F19","Query.php":"F20","SqlDefinition.php":"F21","Events.php":"F22","Exceptions":{"name":"Db\/Exceptions","count":7,"coverage":586,"files":{"RowException.php":"F23","DataTypeParserException.php":"F24","ResultException.php":"F25","QueryException.php":"F26","ConnectionException.php":"F27","Exception.php":"F28","DataTypeCacheException.php":"F29"}},"AsyncHelper.php":"F30","ResultBuilder.php":"F31","PreparedStatementHelper.php":"F32","Result.php":"F33","AsyncPreparedStatement.php":"F34","Sql.php":"F35","Helper.php":"F36"}},"Fluent":{"name":"Fluent","count":10,"coverage":888,"files":{"QueryBuilder.php":"F37","Condition.php":"F38","Connection.php":"F39","Query.php":"F40","Exceptions":{"name":"Fluent\/Exceptions","count":5,"coverage":394,"files":{"ShouldNotHappenException.php":"F41","ConditionException.php":"F42","QueryException.php":"F43","Exception.php":"F44","QueryBuilderException.php":"F45"}},"QueryExecute.php":"F46"}}}};
		let isFilesInitialized = false;
		let isDirectoriesInitialized = false;

		let sort = 'coverage';
		let desc = true;
		let classes = {
			'1': 't', // tested
			'-1': 'u', // untested
			'-2': 'dead', // dead code
		};

		function getSortedKeys() {
			switch (sort) {
				case 'coverage':
					let sortedFiles = [];
					for (let i in _files) {
						sortedFiles.push([i, _files[i].coverage]);
					}

					sortedFiles.sort(function(a, b) {
						return desc ? (b[1] - a[1]) : (a[1] - b[1]);
					});

					let filesByCoverage = [];
					for (let i = 0; i < sortedFiles.length; i++) {
						filesByCoverage.push(sortedFiles[i][0]);
					}
					return filesByCoverage;

				case 'path':
					return sortAlphabetically(_files, desc);

				default:
					return Object.keys(_files).sort((a, b) => desc ? (b-a) : (a-b));
			}
		}

		function sortAlphabetically(obj, isDesc) {
			let sorted = [];
			for (let i in obj) {
				sorted.push([i, obj[i].name]);
			}

			sorted.sort(function(a, b) {
				let compared = a[1].localeCompare(b[1]);
				return compared === -1 ? (isDesc ? 1 : -1) : (compared === 1 ? (isDesc ? -1 : 1) : 0);
			});

			let out = [];
			for (let i = 0; i < sorted.length; i++) {
				out.push(sorted[i][0]);
			}
			return out;
		}

		function initDirectories() {
			if (isDirectoriesInitialized) {
				return;
			}
			let el = document.getElementById('tree');
			el.innerHTML = createDirectory(_directories.files);
			isDirectoriesInitialized = true;
		}

		function createDirectory(directory) {
			let out = '';
			Object.keys(directory).sort(function(a, b) {
				let aIsFile = a.endsWith('.php');
				let bIsFile = b.endsWith('.php');
				if ((aIsFile || bIsFile) && !(aIsFile && bIsFile)) {
					return aIsFile ? 1 : -1;
				}
				let compared = a.localeCompare(b);
				return compared === -1 ? -1 : (compared === 1 ? 1 : 0);
			}).forEach(function(i) {
				let dir = directory[i];
				let id, coverage;
				let isFile = typeof dir === 'string';
				if (isFile) {
					id = dir;
					dir = _files[dir];
					coverage = dir.coverage;
				} else {
					id = null;
					coverage = dir.count === 0 ? 0 : Math.round(dir.coverage / dir.count);
				}

				let html = createFileInfo(isFile ? ('D' + id) : dir.name, {
					coverage: coverage,
					name: isFile ? i : (i + ' <small>(' + dir.count + ')</small>'),
					class: isFile ? dir.class : 'dir',
				}, isFile ? 'toggle' : 'toggle-dir');

				if (isFile) {
					html += '<div class="code" id="D' + id + '"></div>';
				} else {
					html += '<div class="directory" id="' + dir.name + '">' + createDirectory(dir.files) + '</div>';
				}

				out += '<div>' + html + '</div>';
			});
			return out;
		}

		function initFiles(force) {
			if (!force && isFilesInitialized) {
				return;
			}
			let filesEl = document.getElementById('files-content');
			filesEl.innerHTML = '';

			getSortedKeys().forEach(function(i) {
				let file = _files[i];
				let html = createFileInfo(i, file);

				html += '<div class="code" id="' + i + '"></div>';

				let wrapper = document.createElement('div');
				wrapper.innerHTML = html;
				filesEl.appendChild(wrapper);
			});
			isFilesInitialized = true;
		}

		function createFileInfo(id, file, toggleClass) {
			toggleClass = toggleClass || 'toggle';
			return '<table>' +
				'<tbody><tr' + (file.class ? (' class="' + file.class + '"') : '') + '>' +
				'<td class="number"><small>' + file.coverage + ' %</small></td>' +
				'<td><div class="bar"><div style="width: ' + file.coverage + '%"></div></div></td>' +
				'<td><a href="#' + id + '" class="' + toggleClass + '">' + file.name + '</a></td>' +
				'</tr>' +
				'</tbody></table>';
		}

		function initFileContent(el) {
			if (el.hasAttribute('data-initialized')) {
				return;
			}

			let id = el.getAttribute('id');
			id = id.startsWith('D') ? id.split('D')[1] : id;
			let file = _files[id];
			if (!file) {
				return;
			}

			let aside = '';
			let prevClass = null;
			let closeTag = '', buffer = '';
			for (let i = 1; i < file.lineCount; i++) {
				let currentClass = file.lines[i] && classes[file.lines[i]] ? classes[file.lines[i]] : '';
				if (currentClass !== prevClass) {
					aside += (buffer + closeTag);
					buffer = '';
					closeTag = '</div>';
					aside += '<div' + (currentClass ? (' class="' + currentClass + '"') : '') + '>';
				}

				let currentId = id + 'L' + i;
				buffer += '<a href="#' + currentId + '" id="' + currentId + '">' + '&nbsp;'.repeat(file.digits - String(i).length) + i + "</a>";
				prevClass = currentClass;
			}
			aside += buffer + closeTag;

			el.innerHTML = '<div><aside>' + aside + '</aside>' + (file ? file.content : 'ERROR: Not available') + '</div>';

			el.setAttribute('data-initialized', 'true');
		}

		function addClickListener(className, callback) {
			document.body.addEventListener('click', function (e) {
				let isParent = e.target.parentNode && e.target.parentNode.classList.contains(className);
				if (isParent || e.target.classList.contains(className)) {
					callback.apply(isParent ? e.target.parentNode : e.target, [e]);
				}
			});
		}

		addClickListener('sort', function(e) {
			e.preventDefault();
			sort = this.getAttribute('data-sort');

			let sortItems = document.getElementsByClassName('sort');
			for (let i = 0; i < sortItems.length; i++) {
				if (sortItems[i] === this) {
					continue;
				}
				sortItems[i].classList.remove('asc');
				sortItems[i].classList.remove('desc');
			}

			desc = false;
			if (this.classList.contains('asc')) {
				desc = true;
				this.classList.remove('asc');
				this.classList.add('desc');
			} else {
				this.classList.remove('desc');
				this.classList.add('asc');
			}

			initFiles(true);
		});

		addClickListener('toggle', function(e) {
			e.preventDefault();
			let el = document.getElementById(this.href.split('#')[1]);
			if (el.style.display === 'block') {
				el.style.display = 'none';
			} else {
				initFileContent(el);
				el.style.display = 'block';
			}
		});

		addClickListener('toggle-dir', function(e) {
			e.preventDefault();
			let el = document.getElementById(this.href.split('#')[1]);
			if (el.classList.contains('opened')) {
				this.classList.remove('opened');
				el.classList.remove('opened');
			} else {
				this.classList.add('opened');
				el.classList.add('opened');
			}
		});

		addClickListener('tab-item', function(e) {
			e.preventDefault();
			let tabs = document.getElementsByClassName('tab-content');
			for (let i = 0; i < tabs.length; i++) {
				tabs[i].style.display = 'none';
			}
			let tabItems = document.getElementsByClassName('tab-item');
			for (let i = 0; i < tabItems.length; i++) {
				tabItems[i].classList.remove('active');
			}
			this.classList.add('active');

			let id = this.href.split('#')[1];
			if (id === 'files') {
				initFiles();
			} else {
				initDirectories();
			}

			let el = document.getElementById(id);
			if (el.style.display === 'block') {
				el.style.display = 'none';
			} else {
				el.style.display = 'block';
			}
		});

		document.addEventListener("DOMContentLoaded", function(event) {
			initFiles(true);

			let el = document.getElementById(window.location.hash.replace(/^#|L\d+$/g, ''));
			if (el) {
				initFileContent(el);
				el.style.display = 'block';
			}
		});
	})();
</script>
</body>
</html>
